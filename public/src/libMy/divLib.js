!function(t){var i=window.webpackHotUpdate;window.webpackHotUpdate=function(t,e){!function(t,i){if(!w[t]||!b[t])return;for(var e in b[t]=!1,i)Object.prototype.hasOwnProperty.call(i,e)&&(g[e]=i[e]);0==--_&&0===y&&A()}(t,e),i&&i(t,e)};var e,s=!0,h="0ff35667433d95ec3eee",n=1e4,o={},r=[],a=[];function u(t){var i=S[t];if(!i)return B;var s=function(s){return i.hot.active?(S[s]?-1===S[s].parents.indexOf(t)&&S[s].parents.push(t):(r=[t],e=s),-1===i.children.indexOf(s)&&i.children.push(s)):(console.warn("[HMR] unexpected require("+s+") from disposed module "+t),r=[]),B(s)},h=function(t){return{configurable:!0,enumerable:!0,get:function(){return B[t]},set:function(i){B[t]=i}}};for(var n in B)Object.prototype.hasOwnProperty.call(B,n)&&"e"!==n&&"t"!==n&&Object.defineProperty(s,n,h(n));return s.e=function(t){return"ready"===d&&f("prepare"),y++,B.e(t).then(i,function(t){throw i(),t});function i(){y--,"prepare"===d&&(v[t]||P(t),0===y&&0===_&&A())}},s.t=function(t,i){return 1&i&&(t=s(t)),B.t(t,-2&i)},s}function l(t){var i={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:e!==t,active:!0,accept:function(t,e){if(void 0===t)i._selfAccepted=!0;else if("function"==typeof t)i._selfAccepted=t;else if("object"==typeof t)for(var s=0;s<t.length;s++)i._acceptedDependencies[t[s]]=e||function(){};else i._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)i._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)i._declinedDependencies[t[e]]=!0;else i._declinedDependencies[t]=!0},dispose:function(t){i._disposeHandlers.push(t)},addDisposeHandler:function(t){i._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=i._disposeHandlers.indexOf(t);e>=0&&i._disposeHandlers.splice(e,1)},check:C,apply:D,status:function(t){if(!t)return d;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var i=c.indexOf(t);i>=0&&c.splice(i,1)},data:o[t]};return e=void 0,i}var c=[],d="idle";function f(t){d=t;for(var i=0;i<c.length;i++)c[i].call(null,t)}var p,g,m,_=0,y=0,v={},b={},w={};function x(t){return+t+""===t?+t:t}function C(t){if("idle"!==d)throw new Error("check() is only allowed in idle status");return s=t,f("check"),(i=n,i=i||1e4,new Promise(function(t,e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var s=new XMLHttpRequest,n=B.p+""+h+".hot-update.json";s.open("GET",n,!0),s.timeout=i,s.send(null)}catch(t){return e(t)}s.onreadystatechange=function(){if(4===s.readyState)if(0===s.status)e(new Error("Manifest request to "+n+" timed out."));else if(404===s.status)t();else if(200!==s.status&&304!==s.status)e(new Error("Manifest request to "+n+" failed."));else{try{var i=JSON.parse(s.responseText)}catch(t){return void e(t)}t(i)}}})).then(function(t){if(!t)return f("idle"),null;b={},v={},w=t.c,m=t.h,f("prepare");var i=new Promise(function(t,i){p={resolve:t,reject:i}});g={};return P(0),"prepare"===d&&0===y&&0===_&&A(),i});var i}function P(t){w[t]?(b[t]=!0,_++,function(t){var i=document.createElement("script");i.charset="utf-8",i.src=B.p+""+t+"."+h+".hot-update.js",document.head.appendChild(i)}(t)):v[t]=!0}function A(){f("ready");var t=p;if(p=null,t)if(s)Promise.resolve().then(function(){return D(s)}).then(function(i){t.resolve(i)},function(i){t.reject(i)});else{var i=[];for(var e in g)Object.prototype.hasOwnProperty.call(g,e)&&i.push(x(e));t.resolve(i)}}function D(i){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var e,s,n,a,u;function l(t){for(var i=[t],e={},s=i.slice().map(function(t){return{chain:[t],id:t}});s.length>0;){var h=s.pop(),n=h.id,o=h.chain;if((a=S[n])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:n};if(a.hot._main)return{type:"unaccepted",chain:o,moduleId:n};for(var r=0;r<a.parents.length;r++){var u=a.parents[r],l=S[u];if(l){if(l.hot._declinedDependencies[n])return{type:"declined",chain:o.concat([u]),moduleId:n,parentId:u};-1===i.indexOf(u)&&(l.hot._acceptedDependencies[n]?(e[u]||(e[u]=[]),c(e[u],[n])):(delete e[u],i.push(u),s.push({chain:o.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:i,outdatedDependencies:e}}function c(t,i){for(var e=0;e<i.length;e++){var s=i[e];-1===t.indexOf(s)&&t.push(s)}}i=i||{};var p={},_=[],y={},v=function(){console.warn("[HMR] unexpected require("+C.moduleId+") to disposed module")};for(var b in g)if(Object.prototype.hasOwnProperty.call(g,b)){var C;u=x(b);var P=!1,A=!1,D=!1,k="";switch((C=g[b]?l(u):{type:"disposed",moduleId:b}).chain&&(k="\nUpdate propagation: "+C.chain.join(" -> ")),C.type){case"self-declined":i.onDeclined&&i.onDeclined(C),i.ignoreDeclined||(P=new Error("Aborted because of self decline: "+C.moduleId+k));break;case"declined":i.onDeclined&&i.onDeclined(C),i.ignoreDeclined||(P=new Error("Aborted because of declined dependency: "+C.moduleId+" in "+C.parentId+k));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(C),i.ignoreUnaccepted||(P=new Error("Aborted because "+u+" is not accepted"+k));break;case"accepted":i.onAccepted&&i.onAccepted(C),A=!0;break;case"disposed":i.onDisposed&&i.onDisposed(C),D=!0;break;default:throw new Error("Unexception type "+C.type)}if(P)return f("abort"),Promise.reject(P);if(A)for(u in y[u]=g[u],c(_,C.outdatedModules),C.outdatedDependencies)Object.prototype.hasOwnProperty.call(C.outdatedDependencies,u)&&(p[u]||(p[u]=[]),c(p[u],C.outdatedDependencies[u]));D&&(c(_,[C.moduleId]),y[u]=v)}var T,F=[];for(s=0;s<_.length;s++)u=_[s],S[u]&&S[u].hot._selfAccepted&&F.push({module:u,errorHandler:S[u].hot._selfAccepted});f("dispose"),Object.keys(w).forEach(function(t){!1===w[t]&&function(t){delete installedChunks[t]}(t)});for(var O,j,E=_.slice();E.length>0;)if(u=E.pop(),a=S[u]){var L={},z=a.hot._disposeHandlers;for(n=0;n<z.length;n++)(e=z[n])(L);for(o[u]=L,a.hot.active=!1,delete S[u],delete p[u],n=0;n<a.children.length;n++){var M=S[a.children[n]];M&&((T=M.parents.indexOf(u))>=0&&M.parents.splice(T,1))}}for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=S[u]))for(j=p[u],n=0;n<j.length;n++)O=j[n],(T=a.children.indexOf(O))>=0&&a.children.splice(T,1);for(u in f("apply"),h=m,y)Object.prototype.hasOwnProperty.call(y,u)&&(t[u]=y[u]);var R=null;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=S[u])){j=p[u];var I=[];for(s=0;s<j.length;s++)if(O=j[s],e=a.hot._acceptedDependencies[O]){if(-1!==I.indexOf(e))continue;I.push(e)}for(s=0;s<I.length;s++){e=I[s];try{e(j)}catch(t){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:u,dependencyId:j[s],error:t}),i.ignoreErrored||R||(R=t)}}}for(s=0;s<F.length;s++){var H=F[s];u=H.module,r=[u];try{B(u)}catch(t){if("function"==typeof H.errorHandler)try{H.errorHandler(t)}catch(e){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:e,originalError:t}),i.ignoreErrored||R||(R=e),R||(R=t)}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:u,error:t}),i.ignoreErrored||R||(R=t)}}return R?(f("fail"),Promise.reject(R)):(f("idle"),new Promise(function(t){t(_)}))}var S={};function B(i){if(S[i])return S[i].exports;var e=S[i]={i:i,l:!1,exports:{},hot:l(i),parents:(a=r,r=[],a),children:[]};return t[i].call(e.exports,e,e.exports,u(i)),e.l=!0,e.exports}B.m=t,B.c=S,B.d=function(t,i,e){B.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},B.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},B.t=function(t,i){if(1&i&&(t=B(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(B.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)B.d(e,s,function(i){return t[i]}.bind(null,s));return e},B.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return B.d(i,"a",i),i},B.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},B.p="build/",B.h=function(){return h},u(14)(B.s=14)}([function(t,i,e){"use strict";function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function h(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,i,e){return i&&h(t.prototype,i),e&&h(t,e),t}e.d(i,"a",function(){return r});var o=0,r=function(){function t(i){s(this,t),this.type="DCont",this.boolDCont=!0;var e,h,n=this;this.div=document.createElement("div"),this.div.style.position="fixed",this.div.style.top="0px",this.div.style.left="0px",this.children=[],this._parent=void 0,this._scale=1,this._scaleBool=!1,this._activMouse=!0,this.uuid=o+"_"+Math.random(),o++,this.htmlBody=void 0,this.p=new u(this.dragBigXZ,0,0,1),this.xyp={x:0,y:0},this.funXYP=function(t,i){i.x*=t._scale,i.y*=t._scale,i.x+=t.position._x,i.y+=t.position._y,0==t.visible&&(i.y+=99999),null!=t.parent&&n.funXYP(t.parent,i)},this.xyPar=dcmParam.isIE,this.tb="visible",this.dragBigXZ=function(){0==n.xyPar?e="scaleX("+n._scale+") scaleY("+n._scale+") translate("+n.position._x+"px, "+n.position._y+"px)":(n.xyp.x=0,n.xyp.y=0,n.funXYP(n,n.xyp),e="scaleX("+n._scale+") scaleY("+n._scale+") translate("+n.xyp.x+"px, "+n.xyp.y+"px)"),n.div.style.transform=e,n.div.style["ms-transform"]=e,n.div.style["webkit-transform"]=e,n.parameter.worldPosition._x=n.position._x,n.parameter.worldPosition._y=n.position._y,n.parameter.worldPosition._scale=n.position._scale;for(var t=0;t<n.children.length;t++)n.children[t].dragBigXZ()},this.parameter=new a,this.position=new u(this.dragBigXZ,0,0,1),this.poisk=function(t,i,e){if(t[i]==e)return t;if(null!=t.parent){var s=this.poisk(t.parent,i,e);if(null!=s)return s}return null},this.testVisi=function(t){if(1==(h=this.parameter.visible)&&null!=this.poisk(this,"visible",!1)&&(h=!1),1!=dcmParam.isIE){if(this.div.style.visibility=h?"visible ":"hidden",t)for(var i=0;i<this.children.length;i++)this.children[i].testVisi(t)}else this.dragBigXZ()},null!=i&&(null!=i.parameter?(i.add(this),this.activMouse=i.activMouse):(i.appendChild(this.div),this.htmlBody=i)),this.scaleDrag={s:1},this.testScale=function(t,i){t.scale&&(i.s*=t.scale),t.parent&&n.testScale(t.parent,i)},this.getScaleScane=function(){return this.scaleDrag.s=1,this.testScale(this,this.scaleDrag),this.scaleDrag.s}}return n(t,[{key:"add",value:function(t){if(null==t)return null;for(var i=0;i<this.children.length;i++)this.children[i].uuid==t&&(remove(this.children[i]),i=0);this.children.push(t),this.div.appendChild(t.div),t.parent=this,t.testVisi()}},{key:"remove",value:function(t){if(null==t)return null;for(var i,e=0;e<this.children.length;e++)if(this.children[e].uuid==t.uuid)return(i=this.children.splice(e,1))[0].parent.div.removeChild(i[0].div),i[0].parent=void 0,i[0];return null}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"scale",set:function(t){this._scale!=t&&(this._scaleBool=!0,this._scale=t,this.dragBigXZ())},get:function(){return this._scale}},{key:"parent",set:function(t){this._parent=t,this.dragBigXZ()},get:function(){return this._parent}},{key:"alpha",set:function(t){this.parameter.alpha!=t&&(this.parameter.alpha=t,this.div.style.opacity=this.parameter.alpha)},get:function(){return this.parameter.alpha}},{key:"visible",set:function(t){this.parameter.visible!=t&&(this.parameter.visible=t,this.testVisi(!0))},get:function(){return this.parameter.visible}},{key:"activMouse",set:function(t){if(this._activMouse!=t){this._activMouse=t;for(var i=0;i<this.children.length;i++)this.children[i].activMouse=t}},get:function(){return this._activMouse}}]),t}(),a=function t(){s(this,t),this.worldPosition=new u(this.dragBigXZ,0,0,1),this.localPosition=new u(this.dragBigXZ,0,0,1),this.alpha=1,this.visible=!0},u=function(){function t(i,e,h,n){s(this,t),this.fun=i,this._x=e||0,this._y=h||0,this._scale=n||1}return n(t,[{key:"x",set:function(t){this._x!=t&&(this._x=t,this.fun&&this.fun())},get:function(){return this._x}},{key:"y",set:function(t){this._y!=t&&(this._y=t,this.fun&&this.fun())},get:function(){return this._y}},{key:"scale",set:function(t){this._scale!=t&&(this._scale=t,this.fun&&this.fun())},get:function(){return this._scale}}]),t}()},function(t,i,e){"use strict";(function(t){e.d(i,"c",function(){return f}),e.d(i,"q",function(){return p}),e.d(i,"e",function(){return g}),e.d(i,"f",function(){return m}),e.d(i,"b",function(){return _}),e.d(i,"g",function(){return y}),e.d(i,"d",function(){return v}),e.d(i,"k",function(){return b}),e.d(i,"h",function(){return w}),e.d(i,"j",function(){return x}),e.d(i,"n",function(){return C}),e.d(i,"o",function(){return P}),e.d(i,"i",function(){return A}),e.d(i,"p",function(){return D}),e.d(i,"a",function(){return S}),e.d(i,"l",function(){return B}),e.d(i,"m",function(){return k}),e.d(i,"r",function(){return F});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function r(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}function a(t,i){return!i||"object"!==h(i)&&"function"!=typeof i?d(t):i}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&c(t,i)}function c(t,i){return(c=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){this.type="DCM";var i=this;this.infoThis="\n            window.dcmParam=new DCM();//Надо бы глобально обьявить   dcmParam.mobile = true//узнать моб не моб  dcmParam.addFunMove(fun)(removeFunMove) закидуем маусы мува, отрубаються на мобильном    \n            dcmParam.generateRendom(2)//возврощает уникальный uuid\n            dcmParam.compToHexArray(dcmParam.hexDec(dcmParam._color), -30);//возврощает темный цвет \n            dcmParam.getFocus()//:!=null компонент в фокусе, куй удолчяшки\n        ",this.wh=32,this.wb=200,this._color="#008CBA",this._color1="#ffffff",this._colorText="#ffffff",this._colorText1="#999999",this._colorActive="#f28044",this._fontSize=16,this._fontSizeLitte=10,this._fontFamily="Arial",this._otstup=2,this._otstupD=2,this._boolLine=!0,this.crossOrigin=null,this.timeTween=200,this._borderRadius=0,this.mobile=!1,this.mobileVisi=void 0,this.dragNotEvent=!1,this.array=[],this.add=function(t){this.array.push(t)},this.input=document.createElement("input"),this.input.type="text",this.input.value="xz",this.input.style.position="fixed",this.input.style.top="-50px",document.body.appendChild(i.input),this.activInp=void 0,this.ctrlCV=new T,this.textarea=document.createElement("textarea");var e=document.createElement("style");e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e);var s=document.createElement("style");s.type="text/css",document.getElementsByTagName("head")[0].appendChild(s),this.hexDec=function(t){var i=t.slice(1).match(/.{2}/g);return i[0]=parseInt(i[0],16),i[1]=parseInt(i[1],16),i[2]=parseInt(i[2],16),i},this.compToHexArray=function(t,i){if(null!=i)for(var e=0;e<t.length;e++)t[e]+=i,t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255);return"#"+this.compToHex(t[0])+this.compToHex(t[1])+this.compToHex(t[2])},this.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){var t=navigator.userAgent.match(/iPhone|iPad|iPod/i);return null==t&&null!=navigator.userAgent.match(/Mac OS/i)&&1==window.matchMedia("(any-pointer:coarse)").matches&&(t="Mac Заебали менять апи"),navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.isMobile.Android()||i.isMobile.BlackBerry()||i.isMobile.iOS()||i.isMobile.Opera()||i.isMobile.Windows()}},null!=this.isMobile.any()&&(this.mobile=!0),this.newTest=11,this.isIE=!1,(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&(this.isIE=!0),0==this.mobile&&document.body.addEventListener("mouseup",function(){1==i.zbrosDokument&&setTimeout(function(){i.activInp?i.activInp=void 0:i.input.focus()},1)}),this.compToHex=function(t){var i=t.toString(16);return 1==i.length?"0"+i:i},this.corectForBtn=function(t){var i=[];return i[0]=Math.floor(t/65536),i[1]=Math.floor(t/256)%256,i[2]=t%256,i},this.parseColor=function(t){var i=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(t);return{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}},this.colorPolit="null",this.bmp=new S(2,2),this.getPolit=function(){if("null"!=this.colorPolit)return this.colorPolit;var t,i,e;for(this.canvas=document.createElement("canvas"),this.c2d=this.canvas.getContext("2d"),this.hue=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],["#FFFAFA","#FFFFFA","#FFFFFA","#FAFFFF","#FAFFFF","#FFFAFF","#FFFAFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],["#FFC2C2","#FFFFC2","#F9FFC2","#C2FFFF","#C2FFFF","#FFC2FF","#FFC2FF","#FFF1F1","#FFFFFF","#D1D1D1","#D1D1D1"],["#FF8A8A","#FFFF8A","#C1FF8A","#8AFFFF","#8AFFFF","#F18AFF","#FF8AFF","#FFB9B9","#FFFFFF","#999999","#999999"],["#FF5151","#FFFF51","#88FF51","#51FFF8","#51C8FF","#B851FF","#FF51FF","#FF8080","#FFFFFF","#606060","#606060"],["#FF1919","#FFFF19","#50FF19","#19FFC0","#1990FF","#8019FF","#FF19D0","#FF4848","#FFFFFF","#282828","#282828"],["#E10000","#E1CA00","#30E100","#00E193","#0069E1","#5A00E1","#E100A1","#E12929","#D2D2D2","#0D0D0D","#0D0D0D"],["#A80000","#A89700","#24A800","#00A86E","#004EA8","#4300A8","#A80078","#A81E1E","#9D9D9D","#090909","#090909"],["#700000","#706500","#187000","#007049","#003470","#2D0070","#700050","#701414","#686868","#060606","#060606"],["#380000","#383200","#0C3800","#003824","#001A38","#160038","#380028","#380A0A","#343434","#030303","#030303"],["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"]],this.wX=11,this.canvas.width=(this.hue[0].length-1)*this.wX,this.canvas.height=(this.hue.length-1)*this.wX,this._wColor,this._wColor1,this._hColor,this._hColor1,this._rr,this._gg,this._bb,this.colorA,this.colorB,t=0;t<this.hue.length-1;t++)for(i=0;i<this.hue[t].length-1;i++)for(this._wColor=this.parseColor(this.hue[t][i]),this._wColor1=this.parseColor(this.hue[t][i+1]),this._hColor=this.parseColor(this.hue[t+1][i]),this._hColor1=this.parseColor(this.hue[t+1][i+1]),e=0;e<this.wX;e++)this._rr=this._wColor.r+Math.round((this._wColor1.r-this._wColor.r)*(e/(this.wX-1))),this._gg=this._wColor.g+Math.round((this._wColor1.g-this._wColor.g)*(e/(this.wX-1))),this._bb=this._wColor.b+Math.round((this._wColor1.b-this._wColor.b)*(e/(this.wX-1))),this.colorA="rgb("+this._rr+","+this._gg+","+this._bb+")",this._rr=this._hColor.r+Math.round((this._hColor1.r-this._hColor.r)*(e/(this.wX-1))),this._gg=this._hColor.g+Math.round((this._hColor1.g-this._hColor.g)*(e/(this.wX-1))),this._bb=this._hColor.b+Math.round((this._hColor1.b-this._hColor.b)*(e/(this.wX-1))),this.colorB="rgb("+this._rr+","+this._gg+","+this._bb+")",this.grd=this.c2d.createLinearGradient(0,this.wX*t,0,this.wX*t+this.wX),this.grd.addColorStop(0,this.colorA),this.grd.addColorStop(1,this.colorB),this.c2d.fillStyle=this.grd,this.c2d.fillRect(i*this.wX+e,this.wX*t,1,this.wX);return this.bmp.width=Math.floor(this.canvas.width),this.bmp.height=Math.floor(this.canvas.height),this.bmp.setCanvas(this.canvas,this.c2d),this.colorPolit=this.canvas.toDataURL(),this.colorPolit},this.generateRendom=function(t){null==t&&(t=2);for(var i,e="",s="",h=0;h<t;h++){if((s=(255&(i=4294967295*Math.random()|0)).toString(16)+(i>>8&255).toString(16)+(i>>16&255).toString(16)+(i>>24&255).toString(16)).length<8)for(var n=0;n<8-s.length+1;n++)s+="Z";e+=s,h!=t-1&&(e+="-")}return e},this.arrFun=[],this.removeFunMove=function(t){for(var i=this.arrFun.length-1;i>=0;i--)this.arrFun[i]===t&&this.arrFun.splice(i,1)},this.addFunMove=function(t){this.removeFunMove(t),this.arrFun.push(t)},this.globXY={x:0,y:0},this.globMouseMove=null,this.mousemove=function(t){for(var e=0;e<i.arrFun.length;e++)i.arrFun[e](t);i.globMouseMove=t,0==i.mobile?(i.globXY.x=t.clientX,i.globXY.y=t.clientY):t.touches&&t.touches[0]&&(i.globXY.x=t.touches[0].clientX,i.globXY.y=t.touches[0].clientY)},this.getFunMouseMove=function(){return 0==i.mobile?document.removeEventListener("mousemove",i.mousemove):document.removeEventListener("touchmove",i.mousemove),i.mousemove},0==this.mobile?document.addEventListener("mousemove",i.mousemove):document.addEventListener("touchmove",i.mousemove),t.dcmParam=this,this.zbrosDokument=!0,this.mouseup=function(t){1==i.zbrosDokument&&(document.body.style.pointerEvents="auto"),0==i.mobile?document.removeEventListener("mouseup",i.mouseup):document.removeEventListener("touchend",i.mouseup)},this.mousedown=function(t){t.target&&null!=t.target.value||(1==i.zbrosDokument&&(document.body.style.pointerEvents="none"),i.mobile,document.addEventListener("mouseup",i.mouseup))},this.addFunNotActivDiv=function(t){var i=null;null!=t&&(null!=t.addEventListener?i=t:null!=t.div&&null!=t.div.addEventListener&&(i=t.div)),null!=i?(this.mobile,i.addEventListener("mousedown",this.mousedown)):console.warn("тама некуда прикрепить событие ",t)},this.remuveFunNotActivDiv=function(t){this.mobile,t.removeEventListener("mousedown",this.mousedown)},this.getFocus=function(){for(var t=0;t<this.array.length;t++)if(null!=this.array[t].boolFocus&&1==this.array[t].boolFocus)return this.array[t];return null}}Object.defineProperties(f.prototype,{color:{set:function(t){this._color=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].color&&(this.array[i].color=this._color)},get:function(){return this._color}},color1:{set:function(t){this._color1=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].color1&&(this.array[i].color1=this._color1)},get:function(){return this._color1}},colorText:{set:function(t){this._colorText=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].colorText&&(this.array[i].colorText=this._colorText)},get:function(){return this._colorText}},colorText1:{set:function(t){this._colorText1=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].colorText1&&(this.array[i].colorText1=this._colorText1)},get:function(){return this._colorText1}},colorActive:{set:function(t){this._colorActive=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].colorActive&&(this.array[i].colorActive=this._colorActive)},get:function(){return this._colorActive}},fontSize:{set:function(t){this._fontSize=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].fontSize&&(this.array[i].fontSize=this._fontSize)},get:function(){return this._fontSize}},fontFamily:{set:function(t){this._fontFamily=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].fontFamily&&(this.array[i].fontFamily=this._fontFamily)},get:function(){return this._fontFamily}},borderRadius:{set:function(t){this._borderRadius=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].borderRadius&&(this.array[i].borderRadius=this._borderRadius)},get:function(){return this._borderRadius}},fontSizeLitte:{set:function(t){this._fontSizeLitte=t;for(var i=0;i<this.array.length;i++)null!=this.array[i].fontSizeLitte&&(this.array[i].fontSizeLitte=this._fontSizeLitte)},get:function(){return this._fontSizeLitte}}});var p=function(t){function i(t,e,h,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DWindow",l.infoThis='\n            let wind=new DWindow(null,0,0,"text",function(){})  \n            wind.startDrag();//начинает тоскать \n            wind.fubDrag=function(){}//слушатель тоскалки\n            wind.addD(dCont,0) //Докидует компонент, под них height, 0 поштучно по HH, 1 -пока влсзит в width (есть removeD)\n        ',null==dcmParam&&(dcmParam=new f);var c=d(d(l));l.fun=r,l.x=e||0,l.y=h||0,null!=t&&null!=t.add&&t.add(d(d(l))),l._width=100,l._height=100,l._color=dcmParam._color,l._color1=dcmParam._color1,l._wh=dcmParam.wh,l._borderRadius=dcmParam.borderRadius,l._minimize=!1,l._hasMinimizeButton=!1,l._dragBool=!0,l._activMouse=!0,l._dragBoolWH=!1,l._text="nullMMy",l._title="nullMMy",l.textPlus="",l.min=100,l.panel=new b(d(d(l)),0,0),l.button=new _(d(d(l)),0,0," "),l.button.fun_mousedown=function(){0!=c._dragBool&&c.startDrag()},l.xx=23542,l.yy=23542,l.buttonMin=new _(d(d(l)),0,0," ",function(){(0==c._dragBool||c.xx==c.x&&c.yy==c.y)&&(c.minimize=!c.minimize,c.fun&&c.fun())}),l.buttonMin.fun_mousedown=function(){c.xx=c.x,c.yy=c.y,0!=c._dragBool&&c.startDrag()},l.button.textAlign="left",l.buttonMin.textAlign="left",l.content=new s.a(d(d(l))),l.content.y=l._wh,l.buttonMin.width=l._wh,l.buttonMin.visible=!l._hasMinimizeButton,l.buttonMin.alpha=0;var p=dcmParam.compToHexArray(dcmParam.hexDec(l._color),-50);l.button.color=p,l.button.object.style.textAlign="left",l.buttonScale=new _(d(d(l)),0,0,""),l.buttonScale.visible=l._dragBoolWH,l.buttonScale.tip=0,l.buttonScale.width=l._wh/2,l.buttonScale.height=l._wh/2,l.buttonScale.x=l._width-l._wh/2,l.buttonScale.y=l._height-l._wh/2,l.buttonScale.fun_mousedown=function(){c.startDrag(this.tip)},l._otstupD=dcmParam._otstupD,l.dragD=function(){if(0!=this.arrayD.length){for(var t=this._otstupD,i=this._otstupD,e=0,s=0;s<this.arrayD.length;s++)1==this.arrayD[s].pType&&(this.arrayD[s].width+2*this._otstupD<this.width&&(i+this.arrayD[s].width+this._otstupD<this.width?(this.arrayD[s].x=i,i+=this.arrayD[s].width+this._otstupD,e<this.arrayD[s].height+this._otstupD&&(e=this.arrayD[s].height+this._otstupD)):(i=this._otstupD,this.arrayD[s].x=i,t+=e,e=this.arrayD[s].height+this._otstupD)),this.arrayD[s].y=t,this.arrayD[s+1]&&1!=this.arrayD[s+1].pType?t+=e:null==this.arrayD[s+1]&&(t+=e)),0==this.arrayD[s].pType&&(this.arrayD[s].x=this._otstupD,this.arrayD[s].y=t,this.arrayD[s].width=this.width-2*this._otstupD,t+=this._otstupD+this.arrayD[s].height,i=this._otstupD);this.height=32+t}},l.arrayD=[],l.addD=function(t,i){null==t.uuid&&(t.uuid=dcmParam.generateRendom(2)),null==this.uuid&&(this.uuid=dcmParam.generateRendom(2)),this.removeD(t),null==i&&(i=0),t.pType=i,null!=t.parent&&t.parent.uuid==this.uuid||this.content.add(t),this.arrayD.push(t),this.dragD()},l.removeD=function(t){null==t.uuid&&(t.uuid=dcmParam.generateRendom(2));for(var i=-1,e=0;e<this.arrayD.length;e++)if(this.arrayD[e].uuid==t.uuid){i=e;break}if(-1==i)return null;var s=this.arrayD[e];return this.arrayD.splice(i,1),this.dragD(),s},l.fubUp=void 0,l.fubDrag=void 0;var g=void 0;return l.scaleBig=1,l.mouseup=function(t){c.startScale&&(c.startScale=!1),g=void 0,0==dcmParam.mobile?document.removeEventListener("mouseup",c.mouseup):document.removeEventListener("touchend",c.mouseup),dcmParam.removeFunMove(c.mousemove),null!=c.fubUp&&c.fubUp()},l.mousemove=function(t){if(0==dcmParam.mobile){null==g&&(g={x:t.clientX,y:t.clientY,x1:c.x,y1:c.y});var i=g.x1+(t.clientX-g.x)/c.scaleDrag.s;c.startScale?(c.width=c.startScaleW+i,c.width<c.min&&(c.width=c.min)):c.x=i;i=g.y1+(t.clientY-g.y)/c.scaleDrag.s;c.startScale?(c.height=c.startScaleH+i,c.height<c.min&&(c.height=c.min)):c.y=i}else{null==g&&(g={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY,x1:c.x,y1:c.y});i=g.x1+(t.targetTouches[0].clientX-g.x)/c.scaleDrag.s;t.targetTouches[0].clientX,g.x,c.scaleDrag.s,c.startScale?(c.width=c.startScaleW+i,c.width<c.min&&(c.width=c.min)):c.x=i;i=g.y1+(t.targetTouches[0].clientY-g.y)/c.scaleDrag.s;c.startScale?(c.height=c.startScaleH+i,c.height<c.min&&(c.height=c.min)):c.y=i}null!=c.fubDrag&&c.fubDrag()},l.startDrag=function(t){0===t&&(this.startScale=!0),this.startScaleW=this._width-this.x,this.startScaleH=this._height-this.y,this.scaleDrag.s=this.scale,this.testScale(this,this.scaleDrag),0==dcmParam.mobile?document.addEventListener("mouseup",c.mouseup):document.addEventListener("touchend",c.mouseup),dcmParam.addFunMove(c.mousemove)},l.testScale=function(t,i){t.scale&&(i.s*=t.scale),t.parent&&c.testScale(t.parent,i)},l.scaleDrag={s:1},l._width--,l._height--,dcmParam.add(d(d(l))),l.width=l._width+1,l.height=l._height+1,l.text=o||"null",l.hasMinimizeButton=!0,l}return l(i,s["a"]),r(i,[{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.buttonMin.borderRadius=t,this.button.borderRadius=t,this.panel.borderRadius=t,this.buttonScale.borderRadius=t)},get:function(){return this._borderRadius}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"otstupD",set:function(t){this._otstupD!=t&&(this._otstupD=t,this.dragD())},get:function(){return this.position.otstupD}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.panel.width=t,this.button.width=t,this.buttonScale.x=t-this._wh/2,this.dragD())},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.panel.height=this._height,this.buttonScale.y=t-this._wh/2)},get:function(){return this._height}},{key:"color",set:function(t){if(this._color!=t){this._color=t;var i=dcmParam.compToHexArray(dcmParam.hexDec(this._color),-50);this.button.color=i}},get:function(){return this._color}},{key:"text",set:function(t){this._text=t,this._title=t,this.button.text=this.textPlus+" "+t},get:function(){return this._text}},{key:"title",set:function(t){this._title=t,this.text=t},get:function(){return this._title}},{key:"minimize",set:function(t){this._minimize!=t&&(this._minimize=t,1==this._hasMinimizeButton&&(1==this._minimize?this.textPlus="►  ":this.textPlus="▼  ",this.text=this._text),!0!==this._minimize?this.add(this.content):this.remove(this.content),this.panel.visible=!this._minimize,this.buttonScale.visible=this._dragBoolWH&&!this._minimize,!0!==this._minimize&&this.buttonScale.visible&&this.add(this.buttonScale))},get:function(){return this._minimize}},{key:"dragBoolWH",set:function(t){this._dragBoolWH=t,this.buttonScale.visible=!this._minimize&&this._dragBoolWH},get:function(){return this._dragBoolWH}},{key:"hasMinimizeButton",set:function(t){this._hasMinimizeButton!=t&&(this._hasMinimizeButton=t,this.buttonMin.visible=this._hasMinimizeButton,1==t?1==this._minimize?this.textPlus="►  ":this.textPlus="▼   ":this.textPlus="",this.text=this._text)},get:function(){return this._hasMinimizeButton}},{key:"dragBool",set:function(t){this._dragBool!=t&&(this._dragBool=t,this.button.object.style.cursor=t?"pointer":"auto")},get:function(){return this._dragBool}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,this.button.activMouse=t)},get:function(){return this._activMouse}}]),i}(),g=function(t){function i(t,e,s,h,o){var r;n(this,i),(r=a(this,u(i).call(this))).type="DColor",r.infoThis='\n            let wind=new DColor(this.dCont,0,0,"#ff0000",function(){})  \n            fun_mousemove, \n        ',null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(r)));var l=d(d(r));r.x=e||0,r.y=s||0,null!=t&&null!=t.add&&t.add(d(d(r))),r._color=h||"#ffffff",r.fun=o,r._text=void 0,r._borderRadius=dcmParam.borderRadius,r.fun_mousemove=void 0,r._width=100,r._otstup=dcmParam._otstup,r._height=dcmParam.wh,r._openBool=!1,r._activMouse=!0,r._fontSize=dcmParam.fontSize;var c,p=!0;r.panel=new b(d(d(r))),r.button=new _(d(d(r)),0,0," ",function(){0!=p&&0==l.openBool&&(l.openBool=!0)}),r.button.boolLine=!0,r.button.fun_mouseup=function(){},r.input=new A(d(d(r)),0,0,r._color,function(){l.color=this.value,l.fun&&l.fun()}),r.image=new w(d(d(r)),r._otstup,r._height,dcmParam.getPolit(),function(){}),r.label=void 0,r.image.visible=!1,r.panel.width=r._width,r.panel.height=r._height,r.button.width=r.button.height=r._height,r.input.width=r.input.height=r._height,r.button.color=r._color,r.getBigPar=function(t,i){return null==t.parent?t:(i.x+=t.position._x,i.y+=t.position._y,1!=t.parent.scale?t.parent:this.getBigPar(t.parent,i))};var g,m,y,v={x:0,y:0},x={x:0,y:0};return r.dragMenu=function(){this.image.visible=this._openBool,1==this._openBool?(l.scaleDrag.s=1,l.testScale(l,l.scaleDrag),l.scale,v.x=this._otstup,v.y=this._height,x.x=0,x.y=0,c=this.getBigPar(this.image,x),y=l._color,this.panel.height=this._height+100+this._otstup,c.add(this.image),this.image.x=x.x,this.image.y=x.y,document.addEventListener("mousedown",this.upBody)):(this.panel.height=this._height,this.add(this.image),this.image.x=v.x,this.image.y=v.y,this.scale=1)},r.upBody=function(t){document.removeEventListener("mousedown",l.upBody),l.openBool=!1,p=!1,setTimeout(function(){p=!0},100)},r.image.image.addEventListener("mouseout",function(){l.color=y}),r.image.image.addEventListener("mousemove",function(t){(e=Math.round(t.offsetX/l.image.width*dcmParam.bmp.width))>dcmParam.bmp.width&&(e=dcmParam.bmp.width),(s=Math.round(t.offsetY/l.image.height*dcmParam.bmp.height))>dcmParam.bmp.height&&(s=dcmParam.bmp.height),g=dcmParam.bmp.getPixel(e,s),m=dcmParam.compToHexArray(g),l.color=m,l.fun_mousemove&&l.fun_mousemove()}),r.image.image.addEventListener("mousedown",function(t){y=m,l.color=m,l.openBool=!1,l.fun&&l.fun()}),r.testScale=function(t,i){t.scale&&(i.s*=t.scale),t.parent&&l.testScale(t.parent,i)},r.scaleDrag={s:1},r._width--,r.width=r._width+1,r}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){if(this._width!=t){this._width=t,this.button.x=this._width-this.button._width,this.panel.width=this._width,this.image.width=this._width-2*this._otstup;var i=this.button.x-2*this._otstup;null==this.label?(this.input.width=this.button.x-this.input.numLine,this.input.x=0):(this.input.width=i/2,this.input.x=i/2)}},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){this._height=t,this.panel.height=this._height,this.button.width=this.button.height=this._height,this.input.height=this._height;var i=this._width;this._width=-1,this.width=i}},get:function(){return this._height}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.input.fontSize=this._fontSize)},get:function(){return this._fontSize}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,this.input.activMouse=t,this.button.activMouse=t)},get:function(){return this._activMouse}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.input.borderRadius=t,this.panel.borderRadius=t,this.button.borderRadius=t)},get:function(){return this._borderRadius}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this._value=t,this.input.text=this._color,this.button.color=this._color)},get:function(){return this._color}},{key:"value",set:function(t){this._color!=t&&(this.color=t)},get:function(){return this._color}},{key:"text",set:function(t){this._text!=t&&(this._text=t,null==this.label&&(this.label=new x(this,this._otstup,13,this._text)),this.label.text=this._text,this._width--,this.width=this._width+1)},get:function(){return this._text}},{key:"openBool",set:function(t){this._openBool!=t&&(this._openBool=t,this.dragMenu())},get:function(){return this._openBool}}]),i}(),m=function(t){function i(t,e,s,h,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DComboBox",l.infoThis="\n            let wind=new DComboBox(this.dCont,0,0,['xz','xz1'],function(){})  \n            fun_mouseover, fun_mouseout, fun_mousedown, \n        ",l.dcmParam=dcmParam,l.dcmParam.add(d(d(l)));var c=d(d(l));return l.x=e||0,l.y=s||0,l._array=h||["null"],l._valueS=h||["null"],l.fun=o,l.fun_mouseover=void 0,l.fun_mouseout=void 0,l.fun_mousedown=void 0,l.funDownFile=void 0,l._borderRadius=dcmParam.borderRadius,l._width=100,l._height=dcmParam.wh,l._color1=dcmParam._color1,l._colorText1=dcmParam._colorText1,l._fontSize=dcmParam._fontSize,null!=t&&null!=t.add&&t.add(d(d(l))),l.object=document.createElement("select"),0==dcmParam.isIE&&(l.object.style.position="fixed"),l.object.style.top="0px",l.object.style.left="0px",l.object.style.background=l._color1,l.object.style.color=l._colorText1,l.object.style.fontSize=l._fontSize+"px",l.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(c._color1),-20),l.object.style.display="inline-block",l.object.style.fontFamily=dcmParam._fontFamily,l.object.style.borderRadius=l._borderRadius+"px",l.div.appendChild(l.object),l.object.style.width=l._width+"px",l.object.style.height=l._height+"px",l.object.onchange=function(t){c.index=c.object.value,c.fun&&c.fun()},c.mousedown=function(){dcmParam.activInp=c},0==dcmParam.mobile?l.object.addEventListener("mousedown",c.mousedown):l.object.addEventListener("touchstart",c.mousedown),l.image=void 0,l.reDrag=function(){this.object.style.width=this._width+"px",this.object.style.height=this._height+"px"},l.array=l._array,l.valueS=l._valueS,l}return l(i,s["a"]),r(i,[{key:"valueS",set:function(t){this._valueS=t},get:function(){return this._valueS}},{key:"array",set:function(t){this._array=t,this.object.options.length=this._array.length;for(var i=0;i<this.object.options.length;i++)this.object.options[i].text=this._array[i],this.object.options[i].value=i;this.index=0,this.reDrag()},get:function(){return this._array}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.object.style.borderRadius=this._borderRadius+"px",this.object.style.webkitBorderRadius=this._borderRadius+"px",this.object.style.mozBorderRadius=this._borderRadius+"px")},get:function(){return this._borderRadius}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.reDrag())},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.reDrag())},get:function(){return this._height}},{key:"index",set:function(t){this._index=t,null!=this._valueS[t]&&(this._value=this._valueS[t]),this.object.value=this._index},get:function(){return this._index}},{key:"value",set:function(t){this._value=t;for(var i=0;i<this._valueS.length;i++)this._valueS[i]==t&&(this.index=i)},get:function(){return this._value}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.object.style.fontSize=t+"px")},get:function(){return this._fontSize}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.object.style.background=this._color1,this.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-20))},get:function(){return this._color1}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this.object.style.color=this._colorText1)},get:function(){return this._colorText1}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),_=function(t){function i(t,e,h,o,r,l){var c;n(this,i),(c=a(this,u(i).call(this))).type="DButton",c.infoThis='\n            var but = new DButton(100,100,"text",function(){})//,"/link.png") \n            fun_mouseover, fun_mouseout, fun_mousedown, fun_mouseup, funDownFile\n            but.startFile("image/*") //загружает файлы  but.files\n            \n        ',c.dcmParam=dcmParam,c.dcmParam.add(d(d(c)));var f=d(d(c));c._text=o||"null",c.fun=r,null!=t&&null!=t.add&&t.add(d(d(c))),c.x=e||0,c.y=h||0,c.fun_mouseover=void 0,c.fun_mouseout=void 0,c.fun_mousedown=void 0,c.fun_mouseup=void 0,c.funDownFile=void 0,c.funReDrag=void 0,c._activMouse=!0,c._textAlign="center",c._link="null",c._glowColor="#000000",c.aC=[1,1,1],c._glowSah=0,c._zbrosDokument=dcmParam.zbrosDokument,c._width=100,c._height=dcmParam.wh,c._color=dcmParam._color,c._colorText=dcmParam._colorText,c._fontSize=dcmParam._fontSize,c._fontFamily=dcmParam._fontFamily,c._borderRadius=0,c._boolLine=!1,c._boolFond=!0,c._scalePic=0,c.alphaTeni=.1,c.vertElem=100,c.aSah=1,c.alphaAnimat=!0,c.object={},c.object.style={},c.dCont=new s.a(d(d(c))),c.dContC=new s.a(c.dCont),c.panel1=new b(c.dCont,0,0),c.panel1.width=c._width,c.panel1.height=c._height,c.panel1.color1=c._color,c.panel=new b(c.dCont,0,0),c.panel.width=c._width,c.panel.height=c._height,c.panel.color1=c._color,c.panel.div.style.pointerEvents="none",c.panel.boolLine=!1,c.panel.div.style.borderRadius=c._borderRadius+"px",c.panel1.div.style.borderRadius=c._borderRadius+"px",c.label=new x(c.dCont,5,(c._height-c._fontSize)/2,o),c.label.div.style.pointerEvents="none",c.label.color=c._colorText,c.label.textAlign=c.textAlign,c.panel1.div.style.cursor="pointer",c.label.fontFamily=c._fontFamily,null!=window.TWEEN&&(c.tweenL=new TWEEN.Tween(c.label)),c.mouseup2=function(){f.file.value=null,f.file.click(),f.funDownFile&&f.funDownFile(),document.removeEventListener("touchend",f.mouseup2)},c.eventOriginal=void 0,c.mousedown=function(t){if(f.eventOriginal=t,0!=f._activMouse){if(null!=f.file)return f.file.value=null,f.file.click(),f.funDownFile&&f.funDownFile(),void(1==dcmParam.mobile&&document.addEventListener("touchend",f.mouseup2));g=!1,f.panel.color1=dcmParam.compToHexArray(dcmParam.hexDec(f._color),-20),f.panel1.color1=dcmParam.compToHexArray(dcmParam.hexDec(f._color),-40),f._zbrosDokument&&(document.body.style.pointerEvents="none"),f.fun_mousedown&&f.fun_mousedown(),0==dcmParam.mobile?document.addEventListener("mouseup",f.mouseup):document.addEventListener("touchend",f.mouseup)}};var p,g=!0;c.mouseup=function(t){g=!0,f.panel.color1=f._color,f.panel1.color1=f._color,f._zbrosDokument&&(document.body.style.pointerEvents=null),0==dcmParam.mobile?document.removeEventListener("mouseup",f.mouseup):document.removeEventListener("touchend",f.mouseup),f.fun&&f.fun()},c.dragIcontime=function(){if(f.dCont.alpha=f.aSah,f.aSah>1)return f.aSah=1,void(null!=p&&(clearInterval(p),p=void 0));null==p?p=setInterval(this.dragIcontime,10):f.aSah+=.01},c.dragIcon=function(){1==this.alphaAnimat&&1==this.aSah&&(this.aSah=.5,this.dragIcontime())},c.mouseover=function(){0!=f._activMouse&&(1==g&&(f.panel.color1=dcmParam.compToHexArray(dcmParam.hexDec(f._color),-20),f.panel1.color1=dcmParam.compToHexArray(dcmParam.hexDec(f._color),-20)),f.tween&&(f.image.alpha=.75,f.tween.to({alpha:1},500).start()),f.tweenL&&(f.label.alpha=.75,f.tweenL.to({alpha:1},500).start()),f.fun_mouseover&&f.fun_mouseover())},c.mouseout=function(){0!=f._activMouse&&(1==g&&(f.panel.color1=f._color,f.panel1.color1=f._color),f.fun_mouseout&&f.fun_mouseout())},0==dcmParam.mobile?(c.panel1.div.addEventListener("mousedown",f.mousedown),c.panel1.div.addEventListener("mouseover",f.mouseover),c.panel1.div.addEventListener("mouseout",f.mouseout)):c.panel1.div.addEventListener("touchstart",f.mousedown),c.boolDrahVert=!0;var m=5;return c.image=void 0,c.reDrag=function(){var t;this.panel.width=this._width,this.panel1.width=this._width,this.panel.height=this._height,this.panel1.height=this._height,m=0,null!=this.image&&(t=this._height/this.image.picHeight,this._width/this.image.picWidth<t&&(t=this._width/this.image.picWidth),0!==this._scalePic&&(t=this._scalePic),this.image.height=Math.round(this.image.picHeight*t),this.image.width=Math.round(this.image.picWidth*t),m=this.image.width+5,f.label.value.length>=1?(this.image.x=0,this.image.y=Math.round((this._height-this.image.height)/2)):(this.image.x=Math.round((this._width-this.image.width)/2),this.image.y=Math.round((this._height-this.image.height)/2)));var i=!0;null!=this.image&&this._height>=f.label.fontSize*(this.vertElem/f.label.fontSize)&&f.label.value.length>=1&&(i=!1),0==this.boolDrahVert&&(i=!0),i?(this.label.width=this._width-m,f.label.y=(this._height-this._fontSize)/2,f.label.x=m):(t=(this._height-2*f.label.fontSize)/this.image.picHeight,this._width/this.image.picWidth<t&&(t=this._width/this.image.picWidth),0!==this._scalePic&&(t=this._scalePic),this.image.height=Math.round(this.image.picHeight*t),this.image.width=Math.round(this.image.picWidth*t),this.image.x=Math.round((this._width-this.image.width)/2),this.image.y=Math.round((this._height-this.image.height)/2),this.label.div.style.zIndex="10",this.label.width=this._width,f.label.y=this._height-1.5*this._fontSize,f.label.x=0),null!=this.image&&null==this.image.parent&&1==this.image.boolLoadXZ&&this.dCont.add(this.image),this.dragCanvas(),null!=this.funReDrag&&this.funReDrag()},c.file,c.startFile=function(t){null==this.file&&(this.file=document.createElement("input"),this.file.type="file",this.file.multiple=!0,t&&(this.file.accept=t),this.file.style.display="none",this.file.onchange=this.onchange)},c.result,c.files,c.onchange=function(t){if(0!=t.target.files.length){f.files=t.target.files;var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=function(t){f.result=t.target.result,f.fun&&f.fun(f.result)}}},c.funLoadImag=void 0,c.loadImeg=function(t){this._link=t,null==this.image&&(this.image=new w(null,0,0,null,function(){f.image.boolLoadXZ=!0,f.reDrag(),null!=f.funLoadImag&&f.funLoadImag()}),this.image.div.style.pointerEvents="none",this.image.boolLoadXZ=!1,null!=window.TWEEN&&(this.tween=new TWEEN.Tween(this.image))),this.image.link=this._link},null!=l&&c.loadImeg(l),c.rectPlus={x:0,y:0,w:0,h:0},c.canvas=void 0,c.ctx=void 0,c.dragCanvas=function(){if(null!=this.canvas&&(this.canvas.width=this.width+this.rectPlus.w+4*this._glowSah,this.canvas.height=this.height+this.rectPlus.h+4*this._glowSah,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),0!=this._glowSah)){this.ctx.filter="blur("+this._glowSah+"px)",this.ctx.fillStyle=this._glowColor;var t=this._borderRadius;!function(t,i,e,s,h,n){s<2*n&&(n=s/2);h<2*n&&(n=h/2);t.beginPath(),t.moveTo(i+n,e),t.arcTo(i+s,e,i+s,e+h,n),t.arcTo(i+s,e+h,i,e+h,n),t.arcTo(i,e+h,i,e,n),t.arcTo(i,e,i+s,e,n),t.closePath()}(this.ctx,2*this._glowSah,2*this._glowSah,this.width,this.height,t),this.ctx.fillStyle=this._glowColor,this.ctx.fill(),this.ctx.lineWidth=0,this.dContC.x=this.rectPlus.x,this.dContC.y=this.rectPlus.y}},c.initCanvas=function(){null==this.canvas&&(this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.dContC.div.appendChild(this.canvas))},c.reDrag(),c.borderRadius=dcmParam.borderRadius,c.tA=void 0,c.animat=function(t,i,e){if(null!=window.TWEEN&&(null==i&&(i=500),"alpha"==t)){var s=1;!0!==this._activMouse&&(s=.55),null==this.tA&&(this.tA=new TWEEN.Tween(this)),null==e&&(e=0),this.alpha=e,this.tA.to({alpha:s},i).start()}},c}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"link",set:function(t){this._link!=t&&(this._link=t,this.loadImeg(t))},get:function(){return this._link}},{key:"zbrosDokument",set:function(t){this._zbrosDokument!=t&&(this._zbrosDokument=t)},get:function(){return this._zbrosDokument}},{key:"glowColor",set:function(t){if(this._glowColor!=t){this._glowColor=t;var i=dcmParam.parseColor(this._glowColor);this.aC[0]=i.r,this.aC[1]=i.g,this.aC[2]=i.b,this.dragCanvas()}},get:function(){return this._glowColor}},{key:"glowSah",set:function(t){this._glowSah!=t&&(this._glowSah=t,this.initCanvas(),this.dragCanvas(),this.canvas.style.top=2*-this._glowSah+"px",this.canvas.style.left=2*-this._glowSah+"px",this.canvas.style.position="fixed")},get:function(){return this._glowSah}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.reDrag())},get:function(){return this._width}},{key:"scalePic",set:function(t){this._scalePic!=t&&(this._scalePic=t,this.reDrag())},get:function(){return this._scalePic}},{key:"textAlign",set:function(t){this._textAlign!=t&&(this._textAlign=t,this.label.textAlign=t,this.reDrag())},get:function(){return this._textAlign}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.reDrag())},get:function(){return this._height}},{key:"boolLine",set:function(t){this._boolLine!=t&&(this._boolLine=t,this.panel.boolLine=t,this.panel1.boolLine=t,this._boolLine)},get:function(){return this._boolLine}},{key:"boolFond",set:function(t){this._boolFond!=t&&(this._boolFond=t,this.panel.visible=t,this.panel1.alpha=0==t?.01:1)},get:function(){return this._boolFond}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.label.y=(this._height-this._fontSize)/2,this.label.fontSize=t,this.reDrag())},get:function(){return this._fontSize}},{key:"fontFamily",set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this.label.fontFamily=t)},get:function(){return this._fontFamily}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.panel.color1=t,this.panel1.color1=t)},get:function(){return this._color}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.label.text=this._text,this.reDrag())},get:function(){return this._text}},{key:"colorText",set:function(t){this._colorText!=t&&(this._colorText=t,this.label.colorText1=t)},get:function(){return this._colorText}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.panel.borderRadius=this._borderRadius,this.panel1.borderRadius=this._borderRadius,this.dragCanvas&&this.dragCanvas())},get:function(){return this._borderRadius}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==this._activMouse?(this.alpha=1,this.panel1.div.style.cursor="pointer",this.div.style.pointerEvents=null):(this.alpha=.55,this.panel1.div.style.cursor="auto",this.div.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),y=function(t){function i(t,e,s){var h;n(this,i),(h=a(this,u(i).call(this))).type="DGlow",h.infoThis="\n            var dGlow = new DGlow(this.dCont,100,100)         \n        ",null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(h))),null!=t&&null!=t.add&&t.add(d(d(h))),h.x=e||0,h.y=s||0;d(d(h));return h._borderRadius=0,h._width=100,h._height=100,h._glowColor="#000000",h.aC=[1,1,1],h._glowSah=2,h.canvas=document.createElement("canvas"),h.ctx=h.canvas.getContext("2d"),h.div.appendChild(h.canvas),h.canvas.style.top=2*-h._glowSah+"px",h.canvas.style.left=2*-h._glowSah+"px",h.canvas.style.position="fixed",h.reDrag=function(){Math.round(this.width+4*this._glowSah)!=this.canvas.width&&(this.canvas.width=Math.round(this.width+4*this._glowSah)),Math.round(this.height+4*this._glowSah)!=this.canvas.height&&(this.canvas.height=Math.round(this.height+4*this._glowSah)),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.filter="blur("+this._glowSah+"px)",this.ctx.fillStyle=this._glowColor;var t=this._borderRadius;!function(t,i,e,s,h,n){s<2*n&&(n=s/2);h<2*n&&(n=h/2);t.beginPath(),t.moveTo(i+n,e),t.arcTo(i+s,e,i+s,e+h,n),t.arcTo(i+s,e+h,i,e+h,n),t.arcTo(i,e+h,i,e,n),t.arcTo(i,e,i+s,e,n),t.closePath()}(this.ctx,2*this._glowSah,2*this._glowSah,this.width,this.height,t),this.ctx.fillStyle=this._glowColor,this.ctx.fill(),this.ctx.lineWidth=0},h.reDrag(),h}return l(i,s["a"]),r(i,[{key:"width",set:function(t){this._width!=t&&(this._width=t,this.reDrag())},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.reDrag())},get:function(){return this._height}},{key:"glowColor",set:function(t){if(this._glowColor!=t){this._glowColor=t;var i=dcmParam.parseColor(this._glowColor);this.aC[0]=i.r,this.aC[1]=i.g,this.aC[2]=i.b,this.reDrag()}},get:function(){return this._glowColor}},{key:"glowSah",set:function(t){this._glowSah!=t&&(this._glowSah=t,this.reDrag(),this.canvas.style.top=2*-this._glowSah+"px",this.canvas.style.left=2*-this._glowSah+"px",this.canvas.style.position="fixed")},get:function(){return this._glowSah}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.reDrag())},get:function(){return this._borderRadius}}]),i}(),v=function(t){function i(t,e,s,h,o,r,l){var c;n(this,i),(c=a(this,u(i).call(this))).type="DCheckBox",c.infoThis='\n            var dCheckBox = new DCheckBox(this.dCont,0,0,"text",function(){})//, _link0, _link1)\n\n        ',null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(c))),c.x=e||0,c.y=s||0;var p=d(d(c));c._text=h||"null",c.fun=o,c._link0="null",c._link1="null",c.fun_mouseover=void 0,c.fun_mouseout=void 0,c.fun_mousedown=void 0,c._width=100,c._height=.75*dcmParam.wh,c._color=dcmParam._color,c._color1=dcmParam._color1,c._colorText=dcmParam._colorText,c._fontSize=dcmParam._fontSize,c._borderRadius=dcmParam._fontSize,c._boolLine=dcmParam._boolLine,c._value=!1,c.image0=void 0,c.image1=void 0,null!=t&&null!=t.add&&t.add(d(d(c)));return c.panel=new b(d(d(c)),0,0),c.panel1=new b(d(d(c)),2,2),c.label=new x(d(d(c)),0,0,c._text),c.label.activMouse=!1,c.label.y=c._height-c._fontSize-3,c.panel3=new b(d(d(c)),0,0),c.panel3.alpha=0,c.label.div.style.cursor="pointer",c.panel3.div.style.cursor="pointer",c.reDrag=function(){this.panel.width=this.panel.height=this.height,this.panel.color=this._color1,this.panel1.width=this.panel1.height=this.height-4,this.panel1.color1=this._color,this.label.x=this.height+2,this.label.y=this.height-this.fontSize,this.label.width=this.label.x+this._text.length*(.7*this._fontSize)*2,this.panel3.height=this.height,this.panel3.width=this.label.x+this._text.length*(.7*this._fontSize),this.panel1.visible=!0,this.image0&&(this.image0.visible=!1),this.image1&&(this.image1.visible=!1);1==this._value?(this.panel1.alpha=1,"null"!=this._link1&&(this.panel1.visible=!1,this.sizeImg(this.image1))):(this.panel1.alpha=.2,"null"!=this._link0&&(this.panel1.visible=!1,this.sizeImg(this.image0)))},c.div.onclick=function(){p.value=!p._value,p.reDrag(),p.fun&&p.fun()},c.funLoadImag=void 0,c.sizeImg=function(t){var i,e=this._height-4;null!=t&&(i=e/t.picWidth,e/t.picHeight<i&&(i=e/t.picHeight),t.width=t.picWidth*i,t.height=t.picHeight*i,t.visible=!0,t.x=2+(e-t.width)/2,t.y=2+(e-t.height)/2)},c.reDrag(),c.initLink=function(){null==this.image0&&(this.image0=new w(this,2,2,null,function(){p.reDrag()}),this.image0.visible=!1,this.image1=new w(this,2,2,null,function(){p.reDrag()}),this.image1.visible=!1,this.image0.div.style.cursor="pointer",this.image1.div.style.cursor="pointer")},null!=r&&(c.link0=r),null!=l&&(c.link1=l),c}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.reDrag())},get:function(){return this._color}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.reDrag())},get:function(){return this._color1}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.reDrag())},get:function(){return this._height}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.reDrag())},get:function(){return this._width}},{key:"boolLine",set:function(t){this._boolLine!=t&&(this._boolLine=t,this.panel.boolLine=t,this.panel1.boolLine=t,this.panel3.boolLine=t,this.reDrag())},get:function(){return this._boolLine}},{key:"link0",set:function(t){this._link0!=t&&(this._link0=t,this.initLink(),"null"!=this._link0&&(this.image0.link=this._link0),this.reDrag())},get:function(){return this._link0}},{key:"link1",set:function(t){this._link1!=t&&(this._link1=t,this.initLink(),"null"!=this._link1&&(this.image1.link=this._link1),this.reDrag())},get:function(){return this._link1}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.panel3.borderRadius=t,this.panel1.borderRadius=t,this.panel.borderRadius=t)},get:function(){return this._borderRadius}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.label.fontSize=t,this.reDrag())},get:function(){return this._fontSize}},{key:"value",set:function(t){this._value!=t&&0!=this._activMouse&&(this._value=t,this.reDrag())},get:function(){return this._value}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.label.text=this._text,this.label.width=10*this._text.length)},get:function(){return this._text}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.label.div.style.cursor="null",this.panel3.div.style.cursor="null",this.image0&&(this.image0.div.style.cursor="null"),this.image1&&(this.image1.div.style.cursor="null")):(this.alpha=.7,this.label.div.style.cursor="auto",this.panel3.div.style.cursor="auto",this.image0&&(this.image0.div.style.cursor="auto"),this.image1&&(this.image1.div.style.cursor="auto")))},get:function(){return this._activMouse}}]),i}(),b=function(t){function i(t,e,h){var o;return n(this,i),(o=a(this,u(i).call(this))).type="DPanel",o.infoThis="\n            var panel=new DPanel(this.dCont,0,0)            \n            wind.addD(dCont,0) //Докидует компонент, под них height, 0 поштучно по HH, 1 -пока влсзит в width (есть removeD)\n        ",null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(o))),o.x=e||0,o.y=h||0,null!=t&&null!=t.add&&t.add(d(d(o))),o._width=100,o._height=100,o._color1=dcmParam._color1,o._boolLine=dcmParam._boolLine,o.whLine=1,o._borderRadius=dcmParam.borderRadius,o._glowColor="#000000",o.aC=[1,1,1],o._glowSah=0,o.dContC=new s.a(d(d(o))),o.dCont=new s.a(d(d(o))),o.dCont.div.style.borderRadius=o._borderRadius+"px",o.dCont.div.style.background=o._color1,1==o._boolLine?(o.dCont.div.style.border=o.whLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(o._color1),-20),o.dCont.div.style.width=o._width-2*o.whLine+"px",o.dCont.div.style.height=o._height-2*o.whLine+"px"):(o.dCont.div.style.border="0px solid",o.dCont.div.style.width=o._width+"px",o.dCont.div.style.height=o._height+"px"),o._otstupD=dcmParam._otstupD,o.dragD=function(){if(0!=this.arrayD.length){for(var t=this._otstupD,i=this._otstupD,e=0,s=0;s<this.arrayD.length;s++)1==this.arrayD[s].pType&&(this.arrayD[s].width+2*this._otstupD<this.width&&(i+this.arrayD[s].width+this._otstupD<this.width?(this.arrayD[s].x=i,i+=this.arrayD[s].width+this._otstupD,e<this.arrayD[s].height+this._otstupD&&(e=this.arrayD[s].height+this._otstupD)):(i=this._otstupD,this.arrayD[s].x=i,t+=e,e=this.arrayD[s].height+this._otstupD)),this.arrayD[s].y=t,this.arrayD[s+1]&&1!=this.arrayD[s+1].pType?t+=e:null==this.arrayD[s+1]&&(t+=e)),0==this.arrayD[s].pType&&(this.arrayD[s].x=this._otstupD,this.arrayD[s].y=t,this.arrayD[s].width=this.width-2*this._otstupD,t+=this._otstupD+this.arrayD[s].height,i=this._otstupD);this.height=t}},o.arrayD=[],o.addD=function(t,i){null==t.uuid&&(t.uuid=dcmParam.generateRendom(2)),null==this.uuid&&(this.uuid=dcmParam.generateRendom(2)),this.removeD(t),null==i&&(i=0),t.pType=i,null!=t.parent&&t.parent.uuid==this.uuid||this.content.add(t),this.arrayD.push(t),this.dragD()},o.removeD=function(t){null==t.uuid&&(t.uuid=dcmParam.generateRendom(2));for(var i=-1,e=0;e<this.arrayD.length;e++)if(this.arrayD[e].uuid==t.uuid){i=e;break}if(-1==i)return null;var s=this.arrayD[e];return this.arrayD.splice(i,1),this.dragD(),s},o.content=new s.a(d(d(o))),o.rectPlus={x:0,y:0,w:0,h:0},o.canvas=void 0,o.ctx=void 0,o.dragCanvas=function(){if(null!=this.canvas&&(this.canvas.width=this.width+this.rectPlus.w+4*this._glowSah,this.canvas.height=this.height+this.rectPlus.h+4*this._glowSah,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),0!=this._glowSah)){this.ctx.filter="blur("+this._glowSah+"px)",this.ctx.fillStyle=this._glowColor;var t=this._borderRadius;!function(t,i,e,s,h,n){s<2*n&&(n=s/2);h<2*n&&(n=h/2);t.beginPath(),t.moveTo(i+n,e),t.arcTo(i+s,e,i+s,e+h,n),t.arcTo(i+s,e+h,i,e+h,n),t.arcTo(i,e+h,i,e,n),t.arcTo(i,e,i+s,e,n),t.closePath()}(this.ctx,2*this._glowSah,2*this._glowSah,this.width,this.height,t),this.ctx.fillStyle=this._glowColor,this.ctx.fill(),this.ctx.lineWidth=0,this.dContC.x=this.rectPlus.x,this.dContC.y=this.rectPlus.y}},o.initCanvas=function(){null==this.canvas&&(this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.dContC.div.appendChild(this.canvas))},o}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"otstupD",set:function(t){this._otstupD!=t&&(this._otstupD=t,this.dragD())},get:function(){return this.position.otstupD}},{key:"width",set:function(t){this._width!=t&&(this._width=t,1==this._boolLine?this.dCont.div.style.width=this._width-2*this.whLine+"px":this.dCont.div.style.width=this._width+"px",this.dragD(),this.dragCanvas())},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,1==this._boolLine?this.dCont.div.style.height=this._height-2*this.whLine+"px":this.dCont.div.style.height=this._height+"px",this.dragCanvas())},get:function(){return this._height}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.dCont.div.style.borderRadius=t+"px",this.dragCanvas&&this.dragCanvas())},get:function(){return this._borderRadius}},{key:"boolLine",set:function(t){this._boolLine!=t&&(this._boolLine=t,1==this._boolLine?(this.dCont.div.style.border=this.whLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-20),this.dCont.div.style.width=this._width-2*this.whLine+"px",this.dCont.div.style.height=this._height-2*this.whLine+"px"):(this.dCont.div.style.border="0px solid",this.dCont.div.style.width=this._width+"px",this.dCont.div.style.height=this._height+"px"))},get:function(){return this._boolLine}},{key:"color1",set:function(t){if(this._color1!=t){this._color1=t,this.dCont.div.style.background=this._color1;dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-20);1==this._boolLine?(this.dCont.div.style.border=this.whLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-20),this.dCont.div.style.width=this._width-2*this.whLine+"px",this.dCont.div.style.height=this._height-2*this.whLine+"px"):(this.dCont.div.style.border="0px solid",this.dCont.div.style.width=this._width+"px",this.dCont.div.style.height=this._height+"px")}},get:function(){return this._color1}},{key:"color",set:function(t){this.color1=t},get:function(){return this._color1}},{key:"glowColor",set:function(t){if(this._glowColor!=t){this._glowColor=t;var i=dcmParam.parseColor(this._glowColor);this.aC[0]=i.r,this.aC[1]=i.g,this.aC[2]=i.b,this.dragCanvas()}},get:function(){return this._glowColor}},{key:"glowSah",set:function(t){this._glowSah!=t&&(this._glowSah=t,this.initCanvas(),this.dragCanvas(),this.canvas.style.top=2*-this._glowSah+"px",this.canvas.style.left=2*-this._glowSah+"px",this.canvas.style.position="fixed")},get:function(){return this._glowSah}},{key:"activMouse",set:function(t){if(this._activMouse!=t){this._activMouse=t,this.dCont.div.style.pointerEvents=1==t?null:"none";for(var i=0;i<this.children.length;i++)this.children[i].activMouse=t}},get:function(){return this._activMouse}}]),i}(),w=function(t){function i(t,e,h,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DImage",l.infoThis='\n            var panel=new DImage(this.dCont,0,0,"/pic.png",function(){}) //.link=null s/g           \n        ',null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(l)));var c=d(d(l));l.x=e||0,l.y=h||0,null!=t&&null!=t.add&&t.add(d(d(l))),l._width=100,l._height=100,l.picWidth=100,l.picHeight=100,l.funError=null,l._link=null,l.fun=r,l.sahLoad=0,l._activMouse=!0,l._scalePic=0,l._glowColor="#000000",l.aC=[1,1,1],l._glowSah=0,l._s=1;var p=new s.a;l.add(p),l.div2=document.createElement("div"),0==dcmParam.isIE&&(l.div2.style.position="fixed"),l.div2.style.top="0px",l.div2.style.left="0px",l.div.appendChild(l.div2),l.image=new Image;var g=!1;l.canvas=void 0,l.ctx=void 0,l.image.ondragstart=function(){return!1},l.loadError=function(){c.funError&&c.funError()},l.loadComplit=function(t){c.picWidth=this.naturalWidth,c.picHeight=this.naturalHeight,c.drag(),c.sahLoad++,c.dragCanvas(),c.fun&&c.fun(),0==g&&(g=!0,c.div2.appendChild(c.image))};var m=!0;return l.drag=function(){0==this._scalePic?(c._width++,c._height++,c.width=c._width-1,c.height=c._height-1):(c.width=Math.round(c.picWidth*this._scalePic),c.height=Math.round(c.picHeight*this._scalePic)),m&&(m=!1,c.div2.appendChild(c.image))},l.load=function(){c.image.onerror=c.loadError,c.image.crossOrigin=dcmParam.crossOrigin,this.image.onload=c.loadComplit,c.image.src=c._link,c.image.crossOrigin=dcmParam.crossOrigin},l.dragCanvas=function(){if(null!=this.canvas&&(this.canvas.width=this.image.width+4*this._glowSah,this.canvas.height=this.image.height+4*this._glowSah,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),0!=this._glowSah)){this.ctx.filter="blur("+this._glowSah+"px)",this.ctx.drawImage(this.image,2*this._glowSah,2*this._glowSah,this.image.width,this.image.height);for(var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),i=t.data,e=0;e<i.length;e+=4)i[e]=this.aC[0],i[e+1]=this.aC[1],i[e+2]=this.aC[2];this.ctx.putImageData(t,0,0)}},l.initCanvas=function(){null==this.canvas&&(this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),p.div.appendChild(this.canvas))},o&&(l.link=o),l}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.image.width=this._width,this.dragCanvas())},get:function(){return this._width}},{key:"scalePic",set:function(t){this._scalePic!=t&&(this._scalePic=t,this.drag())},get:function(){return this._scalePic}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.div.style.pointerEvents="auto",this.div.style.userSelect="auto"):(this.div.style.pointerEvents="none",this.div.style.userSelect="none"))},get:function(){return this._activMouse}},{key:"glowColor",set:function(t){if(this._glowColor!=t){this._glowColor=t;var i=dcmParam.parseColor(this._glowColor);this.aC[0]=i.r,this.aC[1]=i.g,this.aC[2]=i.b,this.dragCanvas()}},get:function(){return this._glowColor}},{key:"glowSah",set:function(t){this._glowSah!=t&&(this._glowSah=t,this.initCanvas(),this.dragCanvas(),this.canvas.style.top=2*-this._glowSah+"px",this.canvas.style.left=2*-this._glowSah+"px",this.canvas.style.position="fixed")},get:function(){return this._glowSah}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.image.height=this._height,this.dragCanvas())},get:function(){return this._height}},{key:"link",set:function(t){this._link!=t&&(this._link=t,this.load())},get:function(){return this._link}}]),i}(),x=function(t){function i(t,e,h,o){var r;n(this,i),(r=a(this,u(i).call(this))).type="DLabel",r.infoThis="\n            var label=new DLabel(this.dCont,0,0,\"text\")\n            label.getTextWidth()//:num ширина текста от канвы, дорого   \n            label.getRect()//:{width:num,..} не точкно запоздание на один тик\n            пихать хтмл, как то так : label.dCT.div.innerHTML = '<font color=\"'+dcmParam.colorText1+'\">'+TEXT HTML+'</font>';\n        ",null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(r)));d(d(r));r.x=e||0,r.y=h||0,r._activMouse=!0,r._width=100,r._height=dcmParam._fontSize,r._fontSize=dcmParam._fontSize,r._fontFamily=dcmParam._fontFamily,r._colorText1=dcmParam._colorText1,r._color=dcmParam._colorText1,r._textAlign="left",r._bold=!1,r._text=o||"",r._value=r._text,r._glowColor="#000000",r.aC=[1,1,1],r._glowSah=0,r.dCT=new s.a,r.add(r.dCT),r.dCT1=void 0,r.dCT.div.textContent=r._text,r.dCT.div.style.width=r._width+"px",r.dCT.div.style.fontSize=r._fontSize+"px",r.dCT.div.style.color=r._colorText1,r.dCT.div.style.fontFamily=r._fontFamily,r.dCT.div.style.textAlign=r._textAlign;var l={x:0,y:0,width:r._width,height:r._height};r.getRect=function(){return l.width=this.dCT.div.scrollWidth,l.height=this.dCT.div.clientHeight,l},null!=t&&null!=t.add&&t.add(d(d(r))),r.testVisi(!0),r.initShadow=function(){null==this.dCT1&&(this.dCT1=new s.a,this.dCT1.div.textContent=this._text,this.dCT1.div.style.width=this._width+"px",this.dCT1.div.style.fontSize=this._fontSize+"px",this.dCT1.div.style.color=this._colorText1,this.dCT1.div.style.fontFamily=this._fontFamily,this.dCT1.div.style.textAlign=this._textAlign,this.dCT1.div.style.filter="blur("+this._glowSah+"px)",1==this._bold?this.dCT1.div.style.fontWeight="bold":this.dCT1.div.style.fontWeight="normal",this.remove(this.dCT),this.add(this.dCT1),this.add(this.dCT))};var c=void 0;return r.getTextWidth=function(t,i){var e=1==this.bold?"bold ":"normal ",s=this.fontSize+"px ",h=this.fontFamily+"",n=t||this.text,o=i||e+s+h+"";null==c&&(c=document.createElement("canvas"));var r=c.getContext("2d");return r.font=o,r.measureText(n).width},r}return l(i,s["a"]),r(i,[{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.div.style.pointerEvents="auto",this.div.style.userSelect="auto"):(this.div.style.pointerEvents="none",this.div.style.userSelect="none"))},get:function(){return this._activMouse}},{key:"glowColor",set:function(t){this._glowColor!=t&&(this._glowColor=t,this.initShadow(),this.dCT1.div.style.color=this._glowColor)},get:function(){return this._glowColor}},{key:"glowSah",set:function(t){this._glowSah!=t&&(this._glowSah=t,this.initShadow(),this.dCT1.div.style.filter="blur("+this._glowSah+"px)")},get:function(){return this._glowSah}},{key:"textAlign",set:function(t){this._textAlign!=t&&(this._textAlign=t,this.dCT.div.style.textAlign=this._textAlign,this.dCT1&&(this.dCT1.div.textAlign=this._textAlign))},get:function(){return this._textAlign}},{key:"fontFamily",set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this.dCT.div.style.fontFamily=this._fontFamily,this.dCT1&&(this.dCT1.div.fontFamily=this._fontFamily))},get:function(){return this._fontFamily}},{key:"bold",set:function(t){this._bold=t,1==this._bold?(this.dCT.div.style.fontWeight="bold",this.dCT1&&(this.dCT1.div.style.fontWeight="bold")):(this.dCT.div.style.fontWeight="normal",this.dCT1&&(this.dCT1.div.style.fontWeight="normal"))},get:function(){return this._bold}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.dCT.div.style.width=this._width+"px")},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t)},get:function(){return 0==this.dCT.div.clientHeight?this._fontSize:this.dCT.div.clientHeight}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.dCT.div.style.fontSize=this._fontSize+"px",this.dCT1&&(this.dCT1.div.fontSize=this._fontSize+"px"))},get:function(){return this._fontSize}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this._color=t,this.dCT.div.style.color=this._colorText1)},get:function(){return this._colorText1}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this._colorText1=t,this.dCT.div.style.color=this._color)},get:function(){return this._color}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this._value=t,this.dCT.div.textContent=this._text,this.dCT1&&(this.dCT1.div.textContent=this._text))},get:function(){return this._text}},{key:"value",set:function(t){this._value!=t&&(this._value=t,this.text=t)},get:function(){return this._text}}]),i}(),C=function(t){function i(t,e,s,h){var o;n(this,i),(o=a(this,u(i).call(this))).type="DSlider",o.infoThis="\n            var dSlider=new DSlider(this.dCont,0,0,function(){})\n            dSlider.funChange=function(){} //при отпуске\n          ",null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(o)));var r,l,c,p,g=d(d(o));return o.x=e||0,o.y=s||0,null!=t&&null!=t.add&&t.add(d(d(o))),o._width=100,o._height=20,o.fun=h,o.funChange=void 0,o._borderRadius=0,o._color=dcmParam._color,o._min=0,o._max=100,o._otstup=2,o._value=0,o._okrug=100,o.mm=1e22,o.pan=new b(d(d(o)),0,o._otstup),o.pan.width=o._width,o.pan.height=o._height-2*o._otstup,o.pan.color1=dcmParam.compToHexArray(dcmParam.hexDec(dcmParam._color1),-20),o.pan.tip=0,o.panel=new b(d(d(o)),0,0),o.panel.width=o.panel.height=o._height,o.panel.color1=o._color,o.panel.div.style.cursor="pointer",o.panel.tip=1,o.borderRadius=dcmParam.borderRadius,o.naValue=function(t){r=(t*((this._height+g._width)/g._width)-this._height/2)/g._width,l=this._max-this._min,this.value=this._min+l*r},o.mouseup=function(t){document.body.style.pointerEvents="auto",c=void 0,0==dcmParam.mobile?document.removeEventListener("mouseup",g.mouseup):document.removeEventListener("touchend",g.mouseup),dcmParam.removeFunMove(g.mousemove),g.funChange&&g.funChange()},o.mousemove=function(t){0==dcmParam.mobile?(null==c&&(c={x:t.clientX,value:g.panel.x,b:!1}),p=(t.clientX-c.x)/g.scaleDrag.s):(null==c&&(c={x:t.targetTouches[0].clientX,value:g.panel.x}),p=(t.targetTouches[0].clientX-c.x)/g.scaleDrag.s),g.naValue(c.value+p+g._height/2),g.fun&&g.fun()},o.testScale=function(t,i){t.scale&&(i.s*=t.scale),t.parent&&g.testScale(t.parent,i)},o.scaleDrag={s:1},o.xyp={x:0,y:0},o.getPosGlob=function(t){var i=t.x,e=1;return t.scale&&(e=t.scale),t.parent&&(i+=this.getPosGlob(t.parent)*e),i},o.mousedown=function(t){if(0===this.tip&&(g.naValue(t.offsetX),g.fun&&g.fun()),g.scaleDrag.s=1,g.testScale(g,g.scaleDrag),null!=t.target.xz){if(null!=t.offsetX)g.naValue(t.offsetX);else if(t.targetTouches&&t.targetTouches[0]){g.xyp.x=0,g.xyp.y=0,g.funXYP(g.pan,g.xyp);var i=t.targetTouches[0].target.getBoundingClientRect(),e=(g.xyp.x,(t.targetTouches[0].clientX-i.x)/g.scaleDrag.s);g.naValue(e)}g.fun&&g.fun()}document.body.style.pointerEvents="none",0==dcmParam.mobile?document.addEventListener("mouseup",g.mouseup):document.addEventListener("touchend",g.mouseup),dcmParam.addFunMove(g.mousemove)},0==dcmParam.mobile?(o.panel.div.addEventListener("mousedown",g.mousedown.bind(o.panel)),o.pan.div.addEventListener("mousedown",g.mousedown.bind(o.pan)),o.pan.div.xz=!0):(o.panel.div.addEventListener("touchstart",g.mousedown.bind(d(d(o)))),o.pan.div.addEventListener("touchstart",g.mousedown.bind(d(d(o)))),o.pan.div.xz=!0),o._width++,o.width=o._width-1,o}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.pan.width=this._width,this.value=this._value)},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.pan.height=this._height-2*this._otstup,this.panel.height=this.panel.width=this._height)},get:function(){return this._height}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.panel.borderRadius=t,this.pan.borderRadius=t)},get:function(){return this._borderRadius}},{key:"value",set:function(t){(t=Math.round(t*this._okrug)/this._okrug)>this._max&&(t=this._max),t<this._min&&(t=this._min),this._value=t;var i=(t-this._min)/(this._max-this._min);this.panel.x=(this.pan.width-this._height)*i},get:function(){return this._value}},{key:"okrug",set:function(t){this._okrug=t,this.value=this._value},get:function(){return this._okrug}},{key:"min",set:function(t){this._min!=t&&(this._min=t,this.value=this._value)},get:function(){return this._min}},{key:"max",set:function(t){this._max!=t&&(this._max=t,this.value=this._value)},get:function(){return this._max}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.div.style.pointerEvents=null):(this.alpha=.7,this.div.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),P=function(t){function i(t,e,s,h,o,r,l){var c;n(this,i),(c=a(this,u(i).call(this))).infoThis='\n            var dSB = new DSliderBig(null,0,0,function(){})//,"text",50,150)//текст, мин, макс\n            dSB.mobile=true//Мобилная визуализация   \n            boolDiapozon=true//от инпута подровняет мин, макс  \n        ',c.type="DSliderBig",null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(c)));var p=d(d(c));return c.x=e||0,c.y=s||0,null!=t&&null!=t.add&&t.add(d(d(c))),c._width=100,c._height=dcmParam.wh+12,c.fun=h,c.funChange=void 0,c._min=-0x20b8c0368bce7800,c._max=0x31828c105ff2d000,c._value=0,c._okrug=100,c._okrug1=0,c._text=o||"null",c._mobile=dcmParam.mobile,null!=dcmParam.mobileVisi&&(c._mobile=dcmParam.mobileVisi),c._borderRadius=dcmParam.borderRadius,c.boolDiapozon=!1,c.input=new A(d(d(c)),0,0,"0",function(){var t=1*this.text.replace(",",".");1!=isNaN(t)?(1==p.boolDiapozon&&p.diapozon(t),p.value=t,p.fun&&p.fun(),p.funChange&&p.funChange()):this.text=p.value+""}),c.slider=new C(d(d(c)),0,0,function(){p.value=this.value,p.fun&&p.fun()}),c.slider.funChange=function(){p.funChange&&p.funChange()},c.slider.y=dcmParam.wh/2-2,c.label=new x(null,0,0,c._text),c.label.fontSize=2*c.label.fontSize/3,c.label1=new x(d(d(c)),0,0,c._min+""),c.label1.fontSize=2*c.label.fontSize/3,c.label1.y=37,c.label2=new x(d(d(c)),0,0,c._max+""),c.label2.fontSize=2*c.label.fontSize/3,c.label2.y=37,1==c._mobile&&(c.slider.height=c.input.height,c.slider.y=0,c.label.y=(c._height-(c._height-c.input.height))/2-3*dcmParam._otstup,c.label.x=10,c.label.div.style.pointerEvents="none",c.label.alpha=.5,c.label.activMouse=!1),c.add(c.label),c.label.testVisi(!0),c._width++,c.width=c._width-1,c.min=r||0,c.max=l||100,c.arrayNum=[-1e11,-1e8,-1e7,-1e6,-1e5,-1e4,-5e3,-1e3,-500,-100,-50,-1,0,1,50,100,500,1e3,5e3,1e4,1e5,1e6,1e7,1e8,1e11],c.diapozon=function(t){for(var i=1;i<this.arrayNum.length;i++)if(t>this.arrayNum[i-1]&&t<this.arrayNum[i])return this.min=this.arrayNum[i-1],void(this.max=this.arrayNum[i])},c.dragNM=function(){1==this._mobile?(this.slider.height=this._height,this.input.height=this._height,this.slider.y=0,this.label.y=(this._height-this.label.fontSize)/2,this.label.activMouse=!1,this.label1.visible=!1,this.label2.visible=!1):(this.input.height=this._height-5*dcmParam._otstup,this.slider.height=this._mobile?this.input.height:this._height-11*dcmParam._otstup,this.label.y=this._mobile?(this._height-(this._height-this.input.height))/2-3*dcmParam._otstup:0,this.label1.y=this._height-3*dcmParam._otstup,this.label2.y=this._height-3*dcmParam._otstup,this.label.activMouse=!0,this.slider.height=this._height-11*dcmParam._otstup,this.slider.y=this._height-this.input.height,this.label.x=0,this.label.y=0,this.label.div.style.pointerEvents="auto",this.label.alpha=1,this.label1.visible=!0,this.label2.visible=!0)},c}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.slider.width=.7*(this._width-dcmParam._otstup),this.input.width=.3*(this._width-dcmParam._otstup)-4,this.input.x=this.slider.width+dcmParam._otstup+4,this.label.width=this.slider.width,this.label2.x=this.input.x-4*this.label2.text.length)},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.dragNM())},get:function(){return this._height}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.input.borderRadius=t,this.slider.borderRadius=t)},get:function(){return this._borderRadius}},{key:"okrug1",set:function(t){this._okrug1!=t&&(this._okrug1=t)},get:function(){return this._okrug1}},{key:"mobile",set:function(t){this._mobile!=t&&(this._mobile=t,this.dragNM())},get:function(){return this._mobile}},{key:"value",set:function(t){if(this._value!=t){if(null==t||null==t)return;if(1==isNaN(t))return;var i=String(this._okrug).length-1;this._value=t,0!=this._okrug1&&(this._value-=this._value%this._okrug1),this._value=+this._value.toFixed(i),this._value>this._max&&(this._value=this._max),this._value<this._min&&(this._value=this._min),this.input.text=""+this._value,this.slider.value=this._value}},get:function(){return this._value}},{key:"okrug",set:function(t){this._okrug!=t&&(this._okrug=t,this.slider.okrug=this._okrug,this.value=this._value)},get:function(){return this._okrug}},{key:"min",set:function(t){this._min!=t&&(this._min=t,this.label1.text=this._min+"",this.slider.min=this._min)},get:function(){return this._min}},{key:"max",set:function(t){this._max!=t&&(this._max=t,this.label2.text=this._max+"",this.slider.max=this._max,this.label2.x=this.input.x-4*this.label2.text.length)},get:function(){return this._max}},{key:"text",set:function(t){this._text!=t&&(this._text=t,this.label.text=this._text)},get:function(){return this._text}}]),i}(),A=function(t){function i(t,e,h,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DInput",l.infoThis='\n            var input = new DInput(this.dCont,0,0,"text",function(){})//,"text",50,150)//текст, мин, макс\n            input.funEnter = function(){}//ловим нажатие энтер/либо тач ок  \n            input.funFocus = function(){}//ловим смену фокуса  input.boolFocus = false; смотрим\n            input.timeFun =1000 //задержка изменений =0 воще не дергаеться fun\n            input.setNum(100)//При тыке заменяем числа input.bYY=true //вертикально false горизонтально\n        ',null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(l)));var c=d(d(l));null!=t&&null!=t.add&&t.add(d(d(l))),l._width=100,l._height=dcmParam.wh,l.fun=r,l._text=o||"null",""!=o&&" "!=o||(l._text=""),l._value=l._text,l.dci=new s.a(d(d(l)));var p,g,m,_,y,v,b,w,C,P=null;return l.funEnter=void 0,l._activMouse=!0,l._color1=dcmParam._color1,l._okrug=.001,l._boolNum=!1,l._min=-999999999999999,l._max=999999999999999,l._title="",l._fontFamily=dcmParam._fontFamily,l._fontSize=dcmParam._fontSize,l._textAlign="center",l._borderRadius=dcmParam.borderRadius,l._color2=dcmParam._color,l._color=l._color1,l._colorText=dcmParam._colorText1,l.boolFocus=!1,l.funFocus=void 0,l._numLine=1,l.bYY=!0,l.umn=1,l.timeFun=1e3,l.object=document.createElement("input"),l.object.type="text",l.object.value=l._text,l.object.style.backgroundColor=l._color1,l.object.style.color=l._colorText,l.object.style.border=l._numLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(l._color1),-50),l.object.style.fontFamily=l._fontFamily,l.object.style.textAlign="center",l.object.style.fontSize=l._fontSize+"px",l.object.style.textAlign=l._textAlign,l.object.style.outline="none",l.object.style.borderRadius=l._borderRadius+"px",l.object.onfocus=function(){c.object.style.border=c._numLine+"px solid "+c._color2,c.boolFocus=!0,c.funFocus&&c.funFocus()},l.object.onblur=function(){c.object.style.border=c._numLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(c._color1),-50),c.boolFocus=!1,c.funFocus&&c.funFocus()},l.object.addEventListener("keyup",function(t){13===t.keyCode&&(c.dragInput(c.object.value),c.fun&&c.fun(),null!=c.funEnter&&c.funEnter())}),l.object.oninput=function(){c.timeFun&&(clearTimeout(P),P=setTimeout(c.funTimeOut,c.timeFun))},l.funTimeOut=function(){c.dragInput(c.object.value)},l.dragInput=function(t,i){var e=t;if(1==c._boolNum){e=(e+"").replace(",",".");var s=!1;e*=1,1==isNaN(e)&&(s=!0),"number"!=typeof e&&(s=!0),s&&(e=!0!==isNaN(1*c._text)?1*c._text:0),(e=Math.round(e*(1/c._okrug))/(1/c._okrug))<c.min&&(e=c.min),e>c.max&&(e=c.max)}c._text=e,c._value=e,c.object.value=c._text,null==i&&c.fun&&c.fun()},l.mouseup=function(t){p=void 0,0==dcmParam.mobile?document.removeEventListener("mouseup",c.mouseup):document.removeEventListener("touchend",c.mouseup),dcmParam.removeFunMove(c.mousemove)},l.mousemove=function(t){0==dcmParam.mobile?(null==p&&(p={x:t.clientX,y:t.clientY,value:c.value,b:!1}),g=c.bYY?(t.clientY-p.y)*c.umn:(t.clientX-p.x)*c.umn):(null==p&&(p={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY,value:c.value}),g=c.bYY?(t.targetTouches[0].clientY-p.y)*c.umn:(t.targetTouches[0].clientY-p.x)*c.umn),Math.abs(g)>20&&("number"!=typeof p.value&&(p.value=0),1==isNaN(p.value)&&(p.value=0),p.b=!0),1==p.b&&(m=Math.round(100*(p.value+g*c.okrug))/100,c.dragInput(m))},l.mousedown=function(t){0==dcmParam.mobile?document.addEventListener("mouseup",c.mouseup):document.addEventListener("touchend",c.mouseup),dcmParam.addFunMove(c.mousemove)},l.mousedown1=function(t){dcmParam.activInp=c},l.object.addEventListener("mousedown",c.mousedown1),l.boolDrag=!1,l.setNum=function(t){this.okrug=t,this.boolNum=!0,this.boolDrag=!0,0==dcmParam.mobile?this.object.addEventListener("mousedown",c.mousedown):this.object.addEventListener("touchstart",c.mousedown)},l.object.style.height=l._height-4+"px",l.dci.div.appendChild(l.object),l._title="",l._widthTitle=0,l.labelTitle=void 0,l.initTitle=function(){null==this.labelTitle&&(this.labelTitle=new x(this,0,this._height-dcmParam._fontSizeLitte-2,this._title),this.labelTitle.fontSize=dcmParam._fontSizeLitte,this.labelTitle.activMouse=!1)},l.dragWW=function(){""==this._title?(this.object.style.width=this._width-6+"px",this.dci.x=0):(b=this.labelTitle.getTextWidth(this._title),0==this._widthTitle?(_=b+6,y=Math.abs(this._width-_),this.labelTitle.text=this._title):(_=this._widthTitle,y=Math.abs(this._width-_),(v=this._widthTitle/(b+10))>1?w=this._title:(C=Math.round(this._title.length*v)-2,w=C>=1?this._title.slice(0,C)+"..":""),this.labelTitle.text=w),this.object.style.width=y-6+"px",this.dci.x=_)},l.korNumV=function(){},l.dragWW(),l.x=e||0,l.y=h||0,l}return l(i,s["a"]),r(i,[{key:"title",set:function(t){if(this._title!=t){this._title=t;var i=this._title+"";this.initTitle(),this.labelTitle.text=this._title,this.labelTitle.visible=0!=i.length,this.dragWW()}},get:function(){return this._title}},{key:"widthTitle",set:function(t){this._widthTitle!=t&&(this._widthTitle=t,this.dragWW())},get:function(){return this._widthTitle}},{key:"numLine",set:function(t){this._numLine!=t&&(this._numLine=t,this.object.style.border=this._numLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-50))},get:function(){return this._numLine}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.object.style.borderRadius=this._borderRadius+"px")},get:function(){return this._borderRadius}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.dragWW())},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){this._height=t,this.labelTitle&&(this.labelTitle.y=this._height-dcmParam._fontSizeLitte-2),this.object.style.height=this._height-4+"px";var i=0;this._height<=18&&(i=-Math.floor((18-this._height)/2+1)),this.dci.y!=i&&(this.dci.y=i)}},get:function(){return this._height}},{key:"value",set:function(t){1==this.boolDrag?this.dragInput(t,!0):(this._value=t,this._text=t,this.object.value=this._text)},get:function(){return this._value}},{key:"boolNum",set:function(t){this._boolNum!==t&&(this._boolNum=t,this._boolNum&&this.dragInput(this._text,!0))},get:function(){return this._boolNum}},{key:"okrug",set:function(t){this._okrug!==t&&(this._okrug=t)},get:function(){return this._okrug}},{key:"min",set:function(t){this._min=t},get:function(){return this._min}},{key:"max",set:function(t){this._max=t},get:function(){return this._max}},{key:"text",set:function(t){this._text=t,this._value=t,this._text!=this.object.value&&(this.object.value=this._text)},get:function(){return this._text}},{key:"textAlign",set:function(t){this._textAlign!=t&&(this._textAlign=t,this.object.style.textAlign=this._textAlign)},get:function(){return this._textAlign}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this._color=t,this.object.style.backgroundColor=this._color1,this.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-50))},get:function(){return this._text}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.color1=t)},get:function(){return this._color}},{key:"colorText",set:function(t){this._colorText!=t&&(this._colorText=t,this._colorText1=t,this.object.style.color=this._colorText)},get:function(){return this._colorText}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this._colorText=t,this.object.style.color=this._colorText1)},get:function(){return this._colorText1}},{key:"fontFamily",set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this.object.style.fontFamily=this._fontFamily)},get:function(){return this._fontFamily}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.object.style.fontSize=this._fontSize+"px")},get:function(){return this._fontSize}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),D=function(t){function i(t,e,h,o,r){var l;n(this,i),(l=a(this,u(i).call(this))).type="DTextArea",l.infoThis='\n            var tA = new DTextArea(this.dCont,0,0,"text",function(){})//,"text",50,150)//текст, мин, макс\n            tA.funEnter = function(){}//ловим нажатие энтер/либо тач ок  \n            tA.funFocus = function(){}//ловим смену фокуса  input.boolFocus = false; смотрим\n            tA.timeFun =1000 //задержка изменений =0 воще не дергаеться fun \n            !!!this.object.style.whiteSpace = \'nowrap\';низ полоски           \n        ',null==dcmParam&&(dcmParam=new f),dcmParam.add(d(d(l)));var c,p,g,m,_,y,v=d(d(l)),b=null;return null!=t&&null!=t.add&&t.add(d(d(l))),l._width=100,l._height=100,l.fun=r,l._text=o||"null",""!=o&&" "!=o||(l._text=""),l._value=l._text,l.dci=new s.a(d(d(l))),l._numLine=1,l.timeFun=1e3,l.funEnter=void 0,l._color1=dcmParam._color1,l._fontFamily=dcmParam._fontFamily,l._fontSize=dcmParam._fontSize,l._textAlign="center",l._borderRadius=dcmParam.borderRadius,l._color2=dcmParam._color,l._color=l._color1,l._colorText=dcmParam._colorText1,l.boolFocus=!1,l.funFocus=void 0,l.object=document.createElement("textarea"),l.object.value=l._text,l.object.style.backgroundColor=l._color1,l.object.style.color=l._colorText,l.object.style.border=l._numLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(l._color1),-50),l.object.style.fontFamily=l._fontFamily,l.object.style.textAlign="center",l.object.style.fontSize=l._fontSize+"px",l.object.style.width=l._width-6+"px",l.object.style.height=l._height-6+"px",l.object.style.textAlign=l._textAlign,l.object.style.resize="none",l.object.style.outline="none",l.object.style.borderRadius=l._borderRadius+"px",l.object.onfocus=function(){v.object.style.border=v._numLine+"px solid "+v._color2,v.boolFocus=!0,v.funFocus&&v.funFocus()},l.object.onblur=function(){v.object.style.border=v._numLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(v._color1),-50),v.boolFocus=!1,v.funFocus&&v.funFocus()},l.object.addEventListener("keyup",function(t){13===t.keyCode&&(v.dragInput(v.object.value),v.fun&&v.fun(),null!=v.funEnter&&v.funEnter())}),l.object.oninput=function(){v.timeFun&&(clearTimeout(b),b=setTimeout(v.funTimeOut,v.timeFun))},l.funTimeOut=function(){v.dragInput(v.object.value)},l.dragInput=function(t){var i=t;v._text=i,v._value=i,v.object.value=v._text,v.fun&&v.fun()},l.object.addEventListener("mousedown",function(){dcmParam.activInp=v}),l.dci.div.appendChild(l.object),l._title="",l._widthTitle=0,l.labelTitle=void 0,l.initTitle=function(){null==this.labelTitle&&(this.labelTitle=new x(this,0,this._height-dcmParam._fontSizeLitte-2,this._title),this.labelTitle.fontSize=dcmParam._fontSizeLitte,this.labelTitle.activMouse=!1)},l.dragWW=function(){""==this._title?(this.object.style.width=this._width-6+"px",this.dci.x=0):(m=this.labelTitle.getTextWidth(this._title),0==this._widthTitle?(c=m+6,p=Math.abs(this._width-c),this.labelTitle.text=this._title):(c=this._widthTitle,p=Math.abs(this._width-c),(g=this._widthTitle/(m+10))>1?_=this._title:(y=Math.round(this._title.length*g)-2,_=y>=1?this._title.slice(0,y)+"..":""),this.labelTitle.text=_),this.object.style.width=p-6+"px",this.dci.x=c)},l.dragWW(),l.x=e||0,l.y=h||0,l}return l(i,s["a"]),r(i,[{key:"title",set:function(t){if(this._title!=t){this._title=t;var i=this._title+"";this.initTitle(),this.labelTitle.text=this._title,this.labelTitle.visible=0!=i.length,this.dragWW()}},get:function(){return this._title}},{key:"widthTitle",set:function(t){this._widthTitle!=t&&(this._widthTitle=t,this.dragWW())},get:function(){return this._widthTitle}},{key:"numLine",set:function(t){this._numLine!=t&&(this._numLine=t,this.object.style.border=this._numLine+"px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-50))},get:function(){return this._numLine}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.object.style.borderRadius=this._borderRadius+"px")},get:function(){return this._borderRadius}},{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.dragWW())},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){this._height=t,this.labelTitle&&(this.labelTitle.y=this._height-dcmParam._fontSizeLitte-2),this.object.style.height=this._height-4+"px";var i=0;this._height<=18&&(i=-Math.floor((18-this._height)/2+1)),this.dci.y!=i&&(this.dci.y=i)}},get:function(){return this._height}},{key:"value",set:function(t){this._value=t,this._text=t,this.object.value=this._text},get:function(){return this._value}},{key:"text",set:function(t){this._text=t,this._value=t,this.object.value=this._text},get:function(){return this._text}},{key:"textAlign",set:function(t){this._textAlign!=t&&(this._textAlign=t,this.object.style.textAlign=this._textAlign)},get:function(){return this._textAlign}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.object.style.backgroundColor=this._color1,this.object.style.border="1px solid "+dcmParam.compToHexArray(dcmParam.hexDec(this._color1),-50))},get:function(){return this._text}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.color1=t)},get:function(){return this._color}},{key:"colorText",set:function(t){this._colorText!=t&&(this._colorText=t,this._colorText1=t,this.object.style.color=this._colorText)},get:function(){return this._colorText}},{key:"colorText1",set:function(t){this._colorText1!=t&&(this._colorText1=t,this._colorText=t,this.object.style.color=this._colorText1)},get:function(){return this._colorText1}},{key:"fontFamily",set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this.object.style.fontFamily=this._fontFamily)},get:function(){return this._fontFamily}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.object.style.fontSize=this._fontSize+"px")},get:function(){return this._fontSize}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,1==t?(this.alpha=1,this.object.style.pointerEvents=null):(this.alpha=.7,this.object.style.pointerEvents="none"))},get:function(){return this._activMouse}}]),i}(),S=function(){function t(i,e,h,o){n(this,t);var r=this;this.type="DBitmapData",this.infoThis='\n            var bmd = new DBitmapData(100,100)//,null,function(){}) // \n            bmd.getPixel(i,j); bmd.setPixel(i,j,[255,0,0,255]); bmd.clear(); bmd.getData()//:base64.png\n            bmd.getDCont()//Вернет дКонт с канвой bmd.dragRendom()//рандомные пиксели             \n            bmd.resizeImageFile(b64, fun, _w, _h,_name, _boolB64)//link, fun(e),.. _boolB64==undefined//вернет фаил\n            bmd.load("/p.png",true)//путь, true-очистит\n        ',this.fun=o,this._width=null!=i?i:100,this._height=null!=e?e:100,this._color=null!=h?h:[0,0,0,0],this._widthVisi=100,this._heightVisi=100,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.load=function(t,i){var e=new Image;e.crossOrigin="*",e.onload=function(){i&&r.clear(),r.width=e.naturalWidth,r.height=e.naturalHeight,r.ctx.drawImage(e,0,0),r.imgData=r.ctx.getImageData(0,0,r.width,r.height),r.fun&&r.fun()},e.src=t},this.setCanvas=function(t,i){r.canvas=t,r.ctx=i,r.imgData=r.ctx.getImageData(0,0,r.canvas.width,r.canvas.height),r.upDate()},this.setImage=function(t){this._width=t.width,this._height=t.height,this.canvas.width=this._width,this.canvas.height=this._height,this.ctx.clearRect(0,0,this._width,this._width),this.ctx.drawImage(t,0,0),this.imgData=this.ctx.getImageData(0,0,t.width,t.height)},this.setImage2=function(t,i){this._width=t.width,this._height=t.height,this.canvas.width=this._width*i,this.canvas.height=this._height*i,this.ctx.clearRect(0,0,this._width,this._width),this.ctx.drawImage(t,0,0,this._width,this._height,0,0,this._width*i,this._height*i),this.imgData=this.ctx.getImageData(0,0,t.width,t.height)},this.getData=function(){return this.canvas.toDataURL()},this.arrRgba=[0,0,0,0],this.getPixel=function(t,i){return this.arrRgba[0]=this.imgData.data[4*(i*this.imgData.width+t)+0],this.arrRgba[1]=this.imgData.data[4*(i*this.imgData.width+t)+1],this.arrRgba[2]=this.imgData.data[4*(i*this.imgData.width+t)+2],this.arrRgba[3]=this.imgData.data[4*(i*this.imgData.width+t)+3],this.arrRgba[0]=this.arrRgba[0]?this.arrRgba[0]:0,this.arrRgba[1]=this.arrRgba[1]?this.arrRgba[1]:0,this.arrRgba[2]=this.arrRgba[2]?this.arrRgba[2]:0,this.arrRgba[3]=this.arrRgba[3]?this.arrRgba[3]:0,this.arrRgba},this.getAlphaPixel=function(t,i){return this.getPixel(t,i)[3]},this.setPixelDin=function(t,i,e){var s=this.ctx.createImageData(1,1);s.data[0]=e[0],s.data[1]=e[1],s.data[2]=e[2],s.data[3]=e[3],this.ctx.putImageData(s,t,i)},this.setPixel=function(t,i,e){this.imgData.data[4*(i*this.imgData.width+t)+0]=e[0],this.imgData.data[4*(i*this.imgData.width+t)+1]=e[1],this.imgData.data[4*(i*this.imgData.width+t)+2]=e[2],this.imgData.data[4*(i*this.imgData.width+t)+3]=e[3]},this.addPixel=function(t,i,e){this.setPixel(t,i,this.blendColors(this.getPixel(t,i),e))},this.addImgData=function(t,i,e,s,h,n,o,r,a){for(var u={imgData:t,arrRgba:[]},l=0,c=0,d=i;d<s;d++){for(var f=e;f<h;f++){var p=this.getPixel.call(u,d,f);this.addPixel(n+l,o+c,p),c++}c=0,l++}},this.addBitmapData=function(t,i,e,s,h,n,o,r,a){1==arguments.length?(i=e=0,s=t.imgData.width,h=t.imgData.height,n=o=0):3==arguments.length?(n=i,o=e,i=e=0,s=t.imgData.width,h=t.imgData.height):arguments.length,this.addImgData(t.imgData,i,e,s,h,n,o)},this.upDate=function(){this.ctx.putImageData(this.imgData,0,0)},this.changeWH=function(t,i){var e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height);this.canvas.width=null!=t?t:this._width,this.canvas.height=null!=i?i:this._height,this.clear(),this.ctx.putImageData(e,0,0),this.imgData=this.ctx.getImageData(0,0,this._width,this._height),this.widthVisi=this._widthVisi,this.heightVisi=this._heightVisi},this.setColor=function(t){t||(t=this._color),this.ctx.fillStyle="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]/255+")"},this.setPixelTempData=function(t,i,e){this.tempData.data[4*(i*this.tempWidth+t)+0]=e[0],this.tempData.data[4*(i*this.tempWidth+t)+1]=e[1],this.tempData.data[4*(i*this.tempWidth+t)+2]=e[2],this.tempData.data[4*(i*this.tempWidth+t)+3]=e[3]},this.tempData=[],this.tempWidth=100;var a,u,l=1,c=1;this.compress=function(t,i,e){t=Math.round(t),i=Math.round(i),t>this._width&&(t=this._width),i>this._height&&(i=this._height),l=this._width/t,c=this._height/i,l-=l%1,c-=c%1,this.tempWidth=t,this.tempData=this.ctx.createImageData(t,i),a=(this._width+2)/t,u=(this._height+2)/i;for(var s=0;s<t;s++)for(var h=0;h<i;h++)this.setPixelTempData(s,h,this.getPixelMerge(Math.round(s*a),Math.round(h*u)));this.width=t,this.height=i,this.imgData=this.tempData,this.upDate(),e&&e(this)},this.getPixelMerge=function(t,i){var e=this.getPixel(t,i);this.tempPixel[0]=e[0],this.tempPixel[1]=e[1],this.tempPixel[2]=e[2],this.tempPixel[3]=e[3];for(var s,h=1,n=1,o=0;o<l;o++)t+(o+1)<this._width?(s=this.getPixel(t+(o+1),i),this.tempPixel[0]+=s[0]*n,this.tempPixel[1]+=s[1]*n,this.tempPixel[2]+=s[2]*n,this.tempPixel[3]+=s[3]*n,h++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,h++),t-(o+1)>0?(s=this.getPixel(t-(o+1),i),this.tempPixel[0]+=s[0]*n,this.tempPixel[1]+=s[1]*n,this.tempPixel[2]+=s[2]*n,this.tempPixel[3]+=s[3]*n,h++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,h++);n=1;for(var r=0;r<c;r++)i+(r+1)<this._height?(s=this.getPixel(t,i+(r+1)),this.tempPixel[0]+=s[0]*n,this.tempPixel[1]+=s[1]*n,this.tempPixel[2]+=s[2]*n,this.tempPixel[3]+=s[3]*n,h++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,h++),i-(r+1)>0?(s=this.getPixel(t,i-(r+1)),this.tempPixel[0]+=s[0]*n,this.tempPixel[1]+=s[1]*n,this.tempPixel[2]+=s[2]*n,this.tempPixel[3]+=s[3]*n,h++):(this.tempPixel[0]+=e[0]*n,this.tempPixel[1]+=e[1]*n,this.tempPixel[2]+=e[2]*n,this.tempPixel[3]+=e[3]*n,h++);return this.tempPixel[0]=this.tempPixel[0]/h,this.tempPixel[1]=this.tempPixel[1]/h,this.tempPixel[2]=this.tempPixel[2]/h,this.tempPixel[3]=this.tempPixel[3]/h,this.tempPixel},this.tempPixel=[],this.clear=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.imgData=this.ctx.getImageData(0,0,1,1)},this.width=this._width,this.height=this._height,this.setColor(),this.ctx.fillRect(0,0,this._width,this._height),this.imgData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.changeWH(),this.blendColors=function(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);for(var e,s,h,n,o=[0,0,0,0];s=t.shift();)void 0===s[3]&&(s[3]=255),h=s[3]/255,(n=o[3]/255)&&h?((e=[0,0,0,0])[3]=1-(1-h)*(1-n),e[0]=Math.round(s[0]*h/e[3]+o[0]*n*(1-h)/e[3]),e[1]=Math.round(s[1]*h/e[3]+o[1]*n*(1-h)/e[3]),e[2]=Math.round(s[2]*h/e[3]+o[2]*n*(1-h)/e[3])):e=h?s:o,o=e;return e[3]=255*e[3],e},this.resizeImageFile=function(t,i,e,s,h,n){!function(t,i,e,s,h,n){var o=new Image;o.onload=function(){var t=document.createElement("canvas");if(null==n&&null!=e&&e>o.naturalWidth)i(null);else{t.width=null==e?o.naturalWidth:e,t.height=null==s?o.naturalHeight:s;var r=t.getContext("2d");if(r.drawImage(o,0,0,t.width,t.height),null==n)r.canvas.toBlob(function(t){var e=new File([t],null==h?"icon.png":h);i(e)},"image/png");else{var a=t.toDataURL();i(a)}}},o.src=t}(t,i,e,s,h,n)},this.dCont=void 0,this.getDCont=function(){return null==this.dCont&&(this.dCont=new s.a,this.canvas.style.position="fixed",this.canvas.style.top="0px",this.canvas.style.left="0px",this.dCont.div.appendChild(this.canvas)),this.dCont},this.dragRendom=function(){for(var t=[0,0,0,0],i=0;i<this._width;i++)for(var e=0;e<this._height;e++)t[0]=Math.round(255*Math.random()),t[1]=Math.round(255*Math.random()),t[2]=Math.round(255*Math.random()),t[3]=Math.round(255*Math.random()),this.setPixel(i,e,t);this.upDate()}}return r(t,[{key:"width",set:function(t){var i=this._width;this._width=t,this.changeWH(),i<this._width&&(this.setColor(),this.ctx.fillRect(i,0,this._width,this._height)),this.widthVisi=this._widthVisi},get:function(){return this._width}},{key:"height",set:function(t){var i=this._height;this._height=t,this.changeWH(),i<this._height&&(this.setColor(),this.ctx.fillRect(0,i,this._width,this._height)),this.heightVisi=this._heightVisi},get:function(){return this._height}},{key:"widthVisi",set:function(t){this._widthVisi=t},get:function(){return this._widthVisi}},{key:"heightVisi",set:function(t){this._heightVisi=t},get:function(){return this._heightVisi}}]),t}(),B=function(t){function i(t,e,s,h){var o;n(this,i),(o=a(this,u(i).call(this))).type="DScrollBarH",o.infoThis="\n            var sbH = new DScrollBarH(this.dCont,100,100,function(){}) // \n            fun_mouseover, fun_mouseout, fun_mousedown\n            sbH.widthContent = 200;//размер внутрененго контента\n        ",o.dcmParam=dcmParam,o.dcmParam.add(d(d(o)));var r=d(d(o));o.x=e||0,o.y=s||0,o._text="null",o.fun=h,o.fun_mouseover=void 0,o.fun_mouseout=void 0,o.fun_mousedown=void 0,o._width=100,o._height=dcmParam.wh,o._color=dcmParam._color,o._color1=dcmParam._color1,o._colorffset=dcmParam._colorText1,o._borderRadius=dcmParam.borderRadius,o._widthContent=200,o._offsetHit=0,o._boolOf=!1,o._value=0,o._otstup=0,null!=t&&null!=t.add&&t.add(d(d(o))),o.panelOf=new b(d(d(o)),0,0),o.panelOf.visible=o._boolOf,o.panelOf.color=o._colorffset,o.panelOf.boolLine=!1,o.panel=new b(d(d(o)),0,0),o.startAlpha=.75,o.sahAlpha=.25,o.but=new b(d(d(o)),0,0),o.but.color1=o._color,o.but.alpha=o.startAlpha,o.panelA=new b(d(d(o)),o._offsetHit,o._offsetHit),o.panelA.alpha=0,o.tBut=void 0,o.tBut1=void 0,o.boolTween=!0,null!=window.TWEEN&&(o.tBut=new TWEEN.Tween(o.but),o.tBut1=new TWEEN.Tween(d(d(o))),o.tBut1.onUpdate(function(){r.fun&&r.fun()})),o.sp=void 0;var l,c,f=void 0;return o.mouseup=function(t){document.body.style.pointerEvents="auto",f=void 0,r.sp=f,0==dcmParam.mobile?document.removeEventListener("mouseup",r.mouseup):document.removeEventListener("touchend",r.mouseup),dcmParam.removeFunMove(r.mousemove)},o.mousemove=function(t){var i=0,e=0;e=null==t.clientX?t.targetTouches[0].clientX:t.clientX,null==f&&(f={x:e,x1:r.x,y1:r.y},r.sp=f),i=e-f.x+l,r.but.width+i>r._width&&(i=r._width-r.but.width),i<0&&(i=0),r.value=i/(r._width-r.but.width)*100,r.fun&&r.fun()},o.onDragStart=function(t){r.value,l=r.but.x,document.body.style.pointerEvents="none",0==dcmParam.mobile?document.addEventListener("mouseup",r.mouseup):document.addEventListener("touchend",r.mouseup),dcmParam.addFunMove(r.mousemove)},o.panelA.div.addEventListener("mousedown",function(t){c=t.offsetX-r.but.width/2-r._offsetHit,r.but.width+c>r._width&&(c=r._width-r.but.width),c<0&&(c=0);var i=t.offsetX-r._offsetHit;if(i>r.but.x&&i<r.but.x+r.but.width)r.onDragStart();else{var e=c/(r._width-r.but.width)*100;r.boolTween&&r.tBut1?r.tBut1.to({value:e},dcmParam.timeTween).start():(r.value=c/(r._width-r.but.width)*100,r.onDragStart(t),r.fun&&r.fun())}}),o.panelA.div.addEventListener("mouseover",function(t){1!=r.startAlpha&&(r.boolTween&&r.tBut?r.tBut.to({alpha:r.startAlpha+r.sahAlpha},dcmParam.timeTween).start():r.but.alpha=r.startAlpha+r.sahAlpha)}),o.panelA.div.addEventListener("mouseout",function(t){1!=r.startAlpha&&(r.boolTween&&r.tBut?r.tBut.to({alpha:r.startAlpha},dcmParam.timeTween).start():r.but.alpha=r.startAlpha)}),o._width--,o.width=o._width+1,o._height--,o.height=o._height+1,o}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.but.color=t)},get:function(){return this._color}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.panel.color1=t)},get:function(){return this._color1}},{key:"colorffset",set:function(t){this._colorffset!=t&&(this._colorffset=t,this.panelOf.color=this._colorffset)},get:function(){return this._colorffset}},{key:"boolOf",set:function(t){this._boolOf!=t&&(this._boolOf=t,this.panelOf.visible=t)},get:function(){return this._boolOf}},{key:"width",set:function(t){if(this._width!=t){this._width=t,this._width+2*this._otstup>=this._widthContent?this.but.width=this._width-2*this._otstup:this.but.width=this._width*this._width/this._widthContent,this.but.width<this._wh&&(this.but.width=this._wh),this.panel.width=this._width,this.panelA.width=this._width+2*this._offsetHit;var i=this.value;this._value=-1,this.value=i,this.panelOf.width=this.panelA.width,this.panelOf.x=-this._offsetHit}},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.panel.height=t,this.but.height=t,this.panelA.height=this._height+2*this._offsetHit,this.panelOf.height=this._height+2*this._offsetHit)},get:function(){return this._height}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.but.borderRadius=this.panel.borderRadius=this.panelA.borderRadius=t,this.panelOf.borderRadius=t)},get:function(){return this._borderRadius}},{key:"widthContent",set:function(t){if(this._widthContent!=t){this._widthContent=t;var i=this._width-2*this._otstup;if(i>=this._widthContent)this.but.width=i;else{var e=i*i/this._widthContent;e<this._wh&&(e=this._wh);var s=e-this.but.width;this.but.x+this.but.width+s>i?this.but.x-=s:this.but.x<0&&(this.but.x=0),this.but.width=e}var h=this.value;this._value=-1,this.value=h}},get:function(){return this._widthContent}},{key:"value",set:function(t){this._value!=t&&(this._value=t,isNaN(parseFloat(this._value))&&(this._value=0),this._value<0&&(this._value=0),this._value>100&&(this._value=100),this.but.x=this._otstup+(this._width-2*this._otstup-this.but.width)*(this._value/100),this._scrolValue=(this._widthContent-this._width)*this._value/100,this._scrolValue<0&&(this._scrolValue=0))},get:function(){return this._value}},{key:"offsetHit",set:function(t){this._offsetHit!=t&&(this._offsetHit=t,this.panelA.height=this._height+2*this._offsetHit,this.panelA.y=-this._offsetHit,this.panelA.width=this._width+2*this._offsetHit,this.panelA.x=-this._offsetHit,this.panelA.height=this._height+2*this._offsetHit,this.panelA.y=-this._offsetHit,this.panelOf.width=this._width+2*this._offsetHit,this.panelOf.x=-this._offsetHit,this.panelOf.height=this._height+2*this._offsetHit,this.panelOf.y=-this._offsetHit)},get:function(){return this._offsetHit}}]),i}(),k=function(t){function i(t,e,s,h){var o;n(this,i),(o=a(this,u(i).call(this))).type="DScrollBarV",o.infoThis="\n            var sbМ = new DScrollBarV(this.dCont,100,100,function(){}) // \n            fun_mouseover, fun_mouseout, fun_mousedown\n            sbМ.heightContent = 200;//размер внутрененго контента\n        ",o.dcmParam=dcmParam,o.dcmParam.add(d(d(o)));var r=d(d(o));o.x=e||0,o.y=s||0,o._text="null",o.fun=h,o.fun_mouseover=void 0,o.fun_mouseout=void 0,o.fun_mousedown=void 0,o._width=dcmParam.wh,o._height=100,o._color=dcmParam._color,o._color1=dcmParam._color1,o._colorffset=dcmParam._colorText1,o._borderRadius=dcmParam.borderRadius,o._heightContent=200,o._offsetHit=0,o._boolOf=!1,o._value=0,o._otstup=0,null!=t&&null!=t.add&&t.add(d(d(o))),o.panelOf=new b(d(d(o)),0,0),o.panelOf.visible=o._boolOf,o.panelOf.color=o._colorffset,o.panelOf.boolLine=!1,o.panel=new b(d(d(o)),0,0),o.panel.color=o._color1,o.startAlpha=.75,o.sahAlpha=.25,o.but=new b(d(d(o)),0,0),o.but.color1=o._color,o.but.alpha=o.startAlpha,o.panelA=new b(d(d(o)),o._offsetHit,o._offsetHit),o.panelA.alpha=0,o.tBut=void 0,o.tBut1=void 0,o.boolTween=!0,null!=window.TWEEN&&(o.tBut=new TWEEN.Tween(o.but),o.tBut1=new TWEEN.Tween(d(d(o))),o.tBut1.onUpdate(function(){r.fun&&r.fun()})),o.sp=void 0;var l,c,f=void 0;o.mouseup=function(t){document.body.style.pointerEvents="auto",f=void 0,r.sp=void 0,0==dcmParam.mobile?document.removeEventListener("mouseup",r.mouseup):document.removeEventListener("touchend",r.mouseup),dcmParam.removeFunMove(r.mousemove)},o.mousemove=function(t){var i=0,e=0;e=null==t.clientY?t.targetTouches[0].clientY:t.clientY,null==f&&(f={x:t.clientX,y:e,x1:r.x,y1:r.y},r.sp=f),i=e-f.y+l,r.but.height+i>r._height&&(i=r._height-r.but.height),i<0&&(i=0),r.value=i/(r._height-r.but.height)*100,r.fun&&r.fun()},o.onDragStart=function(){document.body.style.pointerEvents="none",p=r.value,l=this.but.y,0==dcmParam.mobile?document.addEventListener("mouseup",r.mouseup):document.addEventListener("touchend",r.mouseup),dcmParam.addFunMove(r.mousemove)},o.panelA.div.addEventListener("mousedown",function(t){c=t.offsetY-r.but.height/2-r._offsetHit,r.but.height+c>r._height&&(c=r._height-r.but.height),c<0&&(c=0);var i=t.offsetY-r._offsetHit;if(i>r.but.y&&i<r.but.y+r.but.height)r.onDragStart();else{var e=c/(r._height-r.but.height)*100;r.boolTween&&r.tBut1?r.tBut1.to({value:e},dcmParam.timeTween).start():(r.value=c/(r._height-r.but.height)*100,r.fun&&r.fun())}}),o.startAlpha=.75,o.sahAlpha=.75,o.panelA.div.addEventListener("mouseover",function(t){1!=r.startAlpha&&(r.boolTween&&r.tBut?r.tBut.to({alpha:r.startAlpha+r.sahAlpha},dcmParam.timeTween).start():r.but.alpha=r.startAlpha+r.sahAlpha)}),o.panelA.div.addEventListener("mouseout",function(t){1!=r.startAlpha&&(r.boolTween&&r.tBut?r.tBut.to({alpha:r.startAlpha},dcmParam.timeTween).start():r.but.alpha=r.startAlpha)}),o.panel.width=o._width,o.but.width=o._width,o.panelA.width=o._width+2*o._offsetHit,o.panelOf.width=o.panelA.width,o._height+2*o._otstup>=o._heightContent?o.but.height=o._height-2*o._otstup:o.but.height=o._height*o._height/o._heightContent,o.but.height<o._wh&&(o.but.height=o._wh),o.panel.height=o._height,o.panelA.height=o._height+2*o._offsetHit,o.panelA.y=-o._offsetHit;var p=o._value;return o.value=-1,o.value=p,o.panelOf.height=o.panelA.height+2*o._offsetHit,o.panelOf.y=-o._offsetHit,o}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.but.color=t)},get:function(){return this._color}},{key:"color1",set:function(t){this._color1!=t&&(this._color1=t,this.panel.color1=t)},get:function(){return this._color1}},{key:"colorffset",set:function(t){this._colorffset!=t&&(this._colorffset=t,this.panelOf.color=this._colorffset)},get:function(){return this._colorffset}},{key:"boolOf",set:function(t){this._boolOf!=t&&(this._boolOf=t,this.panelOf.visible=t)},get:function(){return this._boolOf}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.panel.width=t,this.but.width=t,this.panelA.width=this._width+2*this._offsetHit,this.panelOf.width=this.panelA.width)},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){this._height=t,this._height+2*this._otstup>=this._heightContent?this.but.height=this._height-2*this._otstup:this.but.height=this._height*this._height/this._heightContent,this.but.height<this._wh&&(this.but.height=this._wh),this.panel.height=this._height,this.panelA.height=this._height+2*this._offsetHit,this.panelA.y=-this._offsetHit;var i=this._value;this.value=-1,this.value=i,this.panelOf.height=this.panelA.height+2*this._offsetHit,this.panelOf.y=-this._offsetHit}},get:function(){return this._height}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.but.borderRadius=this.panel.borderRadius=this.panelA.borderRadius=t,this.panelOf.borderRadius=t)},get:function(){return this._borderRadius}},{key:"heightContent",set:function(t){if(this._heightContent!=t){this._heightContent=t;var i=this._height-2*this._otstup;if(i>=this._heightContent)this.but.height=i;else{var e=i*i/this._heightContent;e<this._wh&&(e=this._wh);var s=e-this.but.height;this.but.y+this.but.height+s>i?this.but.y-=s:this.but.y<0&&(this.but.y=0),this.but.height=e}var h=this._value;this.value=-1,this.value=h}},get:function(){return this._heightContent}},{key:"value",set:function(t){this._value!=t&&(this._value=t,isNaN(parseFloat(this._value))&&(this._value=0),this._value<0&&(this._value=0),this._value>100&&(this._value=100),this.but.y=this._otstup+(this._height-2*this._otstup-this.but.height)*(this._value/100),this._scrolValue=(this._heightContent-this._height)*this._value/100,this._scrolValue<0&&(this._scrolValue=0))},get:function(){return this._value}},{key:"offsetHit",set:function(t){this._offsetHit!=t&&(this._offsetHit=t,this.panelA.width=this._width+2*this._offsetHit,this.panelA.x=-this._offsetHit,this.panelA.height=this._height+2*this._offsetHit,this.panelA.y=-this._offsetHit,this.panelOf.width=this._width+2*this._offsetHit,this.panelOf.x=-this._offsetHit,this.panelOf.height=this._height+2*this._offsetHit,this.panelOf.y=-this._offsetHit)},get:function(){return this._offsetHit}}]),i}();function T(t){var i=this;this.textArea=document.createElement("textarea"),this.textArea.value="текст",document.body.appendChild(this.textArea),this.textArea.fokk=!0,this.textArea.style.zIndex=-100,this.textArea.style.position="absolute",this.textArea.style.top="-100px",this.textArea.style.visibility="hidden",this.boolCntr=!1,this.boolC=!1,this.boolV=!1,this.array=[],this.addFun=function(t){this.array.push(t)},this.str=null,this.zapros=function(t){var i=0;if(void 0===t){for(this.str=null,i=0;i<this.array.length;i++)if(this.str=this.array[i](),null!=this.str){this.textArea.value=this.str;break}}else for(i=0;i<this.array.length;i++)this.array[i](t)},this.saveText=function(t){this.str=t,this.textArea.value=this.str,this.save();try{document.execCommand("copy")}catch(t){}},this.save=function(t){null!=this.str&&!0===this.getFokus()&&(this.textArea.style.visibility="visible",this.textArea.focus(),this.textArea.select(),setTimeout(function(){i.textArea.style.visibility="hidden"},1))},this.getFokus=function(){return!0},this.saveNa=function(){0!=this.array.length&&null==document.activeElement.children&&!0===this.getFokus()&&(this.textArea.style.visibility="visible",this.textArea.focus(),this.textArea.select(),setTimeout(function(){i.zapros(i.textArea.value),i.textArea.style.visibility="hidden"},1))},document.addEventListener("keydown",function(t){17===t.keyCode&&!1===i.boolCntr&&(i.boolCntr=!0,i.zapros(),!0===i.boolC&&i.save(),!0===i.boolV&&i.saveNa()),67===t.keyCode&&!1===i.boolC&&(i.boolC=!0,i.zapros(),!0===i.boolCntr&&i.save()),86===t.keyCode&&!1===i.boolV&&(i.boolV=!0,!0===i.boolCntr&&i.saveNa())}),document.addEventListener("keyup",function(t){17===t.keyCode&&!0===i.boolCntr&&(i.boolCntr=!1),67===t.keyCode&&!0===i.boolC&&(i.boolC=!1),86===t.keyCode&&!0===i.boolV&&(i.boolV=!1)})}var F=function(t){function i(t,e,h,o,r,l){var c;n(this,i),(c=a(this,u(i).call(this))).type="DWindowS",null==dcmParam&&(dcmParam=new f);var p=d(d(c));c.fun=r,c.x=e||0,c.y=h||0,null!=t&&null!=t.add&&t.add(d(d(c))),c._width=200,c._height=200,c._color=dcmParam._color,c._color1=dcmParam._color1,c._wh=dcmParam.wh,c.sizeFont=20,c.otstupVerh=50,c.otstup=15,c._minimize=!1,c._hasMinimizeButton=!1,c._dragBool=!0,c._activMouse=!0,c._text="nullMMy",c.textPlus="",c.panel=new b(d(d(c)),0,0),c.panel.boolLine=!1,c.panel.color1="#e1e8ee",c.panel1=new b(d(d(c)),c.otstup,c.otstupVerh),c.panel1.width=c._width-2*c.otstup,c.panel1.height=c._height-c.otstupVerh-c.otstup,c.panel1.boolLine=!1,c.panel1.color1="#adadad",c.button=new _(d(d(c)),0,0," "),c.button.fun_mousedown=function(){0!=p._dragBool&&p.startDrag()},c.button.height=c.otstupVerh,c.button.alpha=0,c.label=new x(d(d(c)),c.otstup,(c.otstupVerh-c.sizeFont)/2,""),c.label.fontSize=c.sizeFont,c.label.fontFamily="SFUIDisplay-Light",c.content=new s.a(d(d(c))),c.content.y=c.otstupVerh,c.content.x=c.otstup,c.butKrest,null!=l&&(c.butKrest=new DButSim(d(d(c)),0,0,"",function(){p.fun()}),c.butKrest.alphaTeni=0,c.butKrest.boolLine=!1,c.butKrest.color=c.panel.color1,c.butKrest.boolLine=!1,c.butKrest.width=c.butKrest.height=c.otstupVerh-c.otstup,c.butKrest.funLoadImag=function(){this.width=this.image.picWidth,this.height=this.image.picHeight,this.y=(p.otstupVerh-this.height)/2,this.visible=!0,p._width--,p.width=p._width+1},c.butKrest.loadImeg(l),c.butKrest.visible=!1),c.dragD=function(){},c.arrayD=[],c.addD=function(t,i){null==t.uuid&&(t.uuid=dcmParam.generateRendom(2)),null==this.uuid&&(this.uuid=dcmParam.generateRendom(2)),this.removeD(t),null==i&&(i=0),t.pType=i,null!=t.parent&&t.parent.uuid==this.uuid||this.content.add(t),this.arrayD.push(t),this.dragP()},c.removeD=function(t){null==t.uuid&&(t.uuid=dcmParam.generateRendom(2));for(var i=-1,e=0;e<this.arrayD.length;e++)if(this.arrayD[e].uuid==t.uuid){i=e;break}if(-1==i)return null;var s=this.arrayD[e];return this.arrayD.splice(i,1),this.dragP(),s};var g=void 0;return c.mouseup=function(t){g=void 0,0==dcmParam.mobile?document.removeEventListener("mouseup",p.mouseup):document.removeEventListener("touchend",p.mouseup),dcmParam.removeFunMove(p.mousemove)},c.mousemove=function(t){if(0==dcmParam.mobile){null==g&&(g={x:t.clientX,y:t.clientY,x1:p.x,y1:p.y});var i=g.x1+(t.clientX-g.x);p.x=i;i=g.y1+(t.clientY-g.y);p.y=i}else{null==g&&(g={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY,x1:p.x,y1:p.y});i=g.x1+(t.targetTouches[0].clientX-g.x);p.x=i;i=g.y1+(t.targetTouches[0].clientY-g.y);p.y=i}},c.startDrag=function(){0==dcmParam.mobile?document.addEventListener("mouseup",p.mouseup):document.addEventListener("touchend",p.mouseup),dcmParam.addFunMove(p.mousemove)},c._width--,c._height--,dcmParam.add(d(d(c))),c.width=c._width+1,c.height=c._height+1,c.text=o||"null",c.hasMinimizeButton=!0,c}return l(i,s["a"]),r(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.panel.width=t,this.button.width=t,this.panel1.width=this._width-2*this.otstup,this.label.width=this._width-2*this.otstup,null!=this.butKrest&&(this.butKrest.x=this._width-this.butKrest.width-this.otstup))},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.panel.height=this._height,this.panel1.height=this._height-this.otstupVerh-this.otstup)},get:function(){return this._height}},{key:"color",set:function(t){if(this._color!=t){this._color=t;var i=dcmParam.compToHexArray(dcmParam.hexDec(this._color),-50);this.button.color=i}},get:function(){return this._color}},{key:"text",set:function(t){this._text=t,this.label.text=this.textPlus+" "+t},get:function(){return this._text}},{key:"minimize",set:function(t){this._minimize!=t&&(this._minimize=t,1==this._hasMinimizeButton&&(1==this._minimize?this.textPlus="►  ":this.textPlus="▼  ",this.text=this._text),this.content.visible=!this._minimize,this.panel.visible=!this._minimize)},get:function(){return this._minimize}},{key:"hasMinimizeButton",set:function(t){this._hasMinimizeButton!=t&&(this._hasMinimizeButton=t,1==t?1==this._minimize?this.textPlus="►  ":this.textPlus="▼  ":this.textPlus="",this.text=this._text)},get:function(){return this._hasMinimizeButton}},{key:"dragBool",set:function(t){this._dragBool!=t&&(this._dragBool=t,this.button.object.style.cursor=t?"pointer":"auto")},get:function(){return this._dragBool}},{key:"activMouse",set:function(t){this._activMouse!=t&&(this._activMouse=t,this.button.activMouse=t)},get:function(){return this._activMouse}}]),i}()}).call(this,e(13))},function(t,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"a",function(){return o});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i,e,h,n){s.a.call(this),this.type="DGallery",this.infoThis='\n            var gallery= new DWindow(this.dCont,0,0,function(){})//, par \n//xz\nexport class GalleryXZ extends DGallery {\n    constructor(dCont, x, y, fun, par) { \n        super(dCont, x, y, fun); \n        this.par =  par;   \n        this.type="GalleryXZ";        \n        this.createZamen=function(){            \n            return new BoxXZ(this.content, 0, 0, this.downBtn, this);\n        }\n    }\n}\nexport class BoxXZ extends DBox {\n    constructor(dCont, x, y, fun, par) { \n        super( dCont, x, y, fun);                \n        this.par=par\n        var self=this;\n        this.type="BoxXZ";      \n        this.draw = function () {  \n            if (this.postDraw) this.postDraw();\n        };\n        this.startLoad = function (_obj) {           \n            this.object = _obj;           \n            self.image.link = "/link.png или obj.icon"\n            self.image.visible = true; \n            this.label.text="из _obj.text или"\n            this.label.visible = true; \n            this.activ=true;\n            self.funLoad(); \n        }    \n    }\n}             \n        ';var r,a,u,l,c,d,f,p,g,m=this;this.dcmParam=dcmParam,this.dcmParam.add(this),null!=t&&null!=t.add&&t.add(this),this.x=i||0,this.y=e||0,this.fun=h,this.par=n,this._panelBool=!1,this._prosentH=0,this._prosentW=0,this._widthPic=64,this._heightPic=64,this._width=200,this._height=200,this._otstup=2,this._kolII=2,this._index=-1,this._otstup1=5,this.clearIndex=!0,this.dragNotEvent=dcmParam.dragNotEvent,this._color=dcmParam._color,this._color1=dcmParam._color1,this._borderRadius=dcmParam.borderRadius,this._lineSize=2,this._boolPositScrol=!0,this._boolPositOtctup=!0,this._boolWheel=!0,this.killTukIndex=0,this.sahDelta=20,this.funLoad,this.funOver,this.funOut,this.arrayKesh=[],this.arrayObj=[],this.array=[],this.ww=1,this.wM=1,this.hh=1,this.hM=1,this.div.boolDiv=!0,this.contPanel=new s.a,this.add(this.contPanel),this.content1=new s.a,this.add(this.content1),this.panel=new DPanel(this.contPanel,0,0),this.panel.width=this._width,this.panel.height=this._height,this.content=new s.a,this.content1.add(this.content),this.content1.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.scrollBarH=new DScrollBarH(this,0,this._height-this.otstup1,function(){m.scrolPos(!1)}),this.scrollBarH.offsetHit=3,this.scrollBarV=new DScrollBarV(this,this._width-this.otstup1,0,function(){m.scrolPos(!1)}),this.scrollBarV.offsetHit=3,this.createZamen,this.complitLoad,this.postDraw,this.funOver,this.funOut,this.fOver=function(t){m.funOver&&m.funOver(t)},this.fOut=function(t){m.funOver&&m.funOver(t)},this.createDrawBox=function(t){for(var i=0;i<this.arrayKesh.length;i++)if(0==this.arrayKesh[i].visible&&1==this.arrayKesh[i].isObj(t))return this.arrayKesh[i];return null!=this.createZamen?this.arrayKesh.push(this.createZamen()):this.arrayKesh.push(new o(this.content,0,0,this.downBtn)),this.funOver&&(this.arrayKesh[this.arrayKesh.length-1].funOver=this.fOver),this.funOut&&(this.arrayKesh[this.arrayKesh.length-1].funOut=this.fOut),this.arrayKesh[this.arrayKesh.length-1].width=this._widthPic,this.arrayKesh[this.arrayKesh.length-1].height=this._heightPic,this.arrayKesh[this.arrayKesh.length-1].color=this._color,this.arrayKesh[this.arrayKesh.length-1].color1=this._color1,this.arrayKesh[this.arrayKesh.length-1].idArrKesh=this.arrayKesh.length-1,this.arrayKesh[this.arrayKesh.length-1].funLoad=this.funLoad,this.arrayKesh[this.arrayKesh.length-1].funOver=this.funOver,this.arrayKesh[this.arrayKesh.length-1].funOut=this.funOut,this.arrayKesh[this.arrayKesh.length-1].borderRadius=this._borderRadius,this.arrayKesh[this.arrayKesh.length-1]},this.scrolPos=function(t){1==t?(m.scrollBarV.value=this.content.y/(this._height-m.scrollBarV.heightContent)*100,m.scrollBarH.value=this.content.x/(this._width-m.scrollBarH.widthContent)*100):(m.content.y=m.scrollBarV.value/100*(this._height-m.scrollBarV.heightContent),m.content.x=m.scrollBarH.value/100*(this._width-m.scrollBarH.widthContent)),m.dragIE()},this.korektPoIndex=function(t){null==t&&(t=this._index),null!=this.array[t]&&(this.array[t].x+this.content.x+this.array[t].width-this.otstup>this._width&&(this.content.x=-(this.array[t].x+this.array[t].width-this._width+this.otstup)),this.array[t].x+this.content.x-this.otstup<0&&(this.content.x=-this.array[t].x+this.otstup),this.array[t].y+this.content.y+this.array[t].height-this.otstup>this._height&&(this.content.y=-(this.array[t].y+this.array[t].height-this._height+this.otstup)),this.array[t].y+this.content.y-this.otstup<0&&(this.content.y=-this.array[t].y+this.otstup),this.scrolPos(!0))},this.downBtn=function(){m.index=this.idArr,m.obj=m.array[this.idArr].object,m.fun&&m.fun()},this.sahLoad=0,this.sahRendom=0,this.funLoad=function(){m.sahLoad++,m.sahLoad>m.array.length?(null!=this.complitLoad&&this.complitLoad(),m.draw()):(m.array[m.sahLoad-1].boolFL=!0,m.array[m.sahLoad-1].startLoad(m.array[m.sahLoad-1].object11))},this.start=function(t){this.clear(),this.arrayObj=t;for(var i=0;i<this.arrayObj.length;i++)(c=this.createDrawBox(this.arrayObj[i])).visible=!0,c.object11=this.arrayObj[i],c.idArr=this.array.length,this.array.push(c);this.draw(),0!=this.array.length&&(m.sahLoad=0,this.sahRendom=Math.round(1e4*Math.random()),m.array[m.sahLoad].sahRendom=1*this.sahRendom,this.funLoad())},this.zScrol=0,this.draw=function(){this.preDraw&&this.preDraw(),r=0,a=0,this.otstup1+2*this.otstup,u=1,this._kolII>this.array.length&&(u=this.array.length*(this._widthPic+this._otstup)+this._otstup),l=this._heightPic+2*this._otstup;for(var t=0;t<this.array.length;t++)this.array[t].x=r*(this._widthPic+this._otstup)+this._otstup,this.array[t].y=a*(this._heightPic+this._otstup)+this._otstup,this.array[t].x+this._widthPic+this._otstup>u&&(u=this.array[t].x+this._widthPic+this._otstup),l=(a+1)*(this._heightPic+this._otstup)+this._otstup,++r>=this._kolII&&(r=0,a++);u>this._width?this.scrollBarH.visible=!0:this.scrollBarH.visible=!1,l>this._height?this.scrollBarV.visible=!0:this.scrollBarV.visible=!1,this.scrollBarH.widthContent=u,this.scrollBarV.heightContent=l,d=u>this._width?this._width:u,f=l>this._height?this._height:l,this.ww=u,this.wM=d,this.hh=l,this.hM=f,this._boolPositScrol?this._boolPositOtctup?(this.scrollBarH.y=f-this.otstup-this._otstup1+this.zScrol,this.scrollBarV.x=d-this.otstup-this._otstup1+this.zScrol):(this.scrollBarH.y=f+this.otstup+this.zScrol,this.scrollBarV.x=d+this.otstup+this.zScrol):this._boolPositOtctup?(this.scrollBarH.y=this.otstup+this.zScrol,this.scrollBarV.x=this.otstup+this.zScrol):(this.scrollBarH.y=-this.otstup-this._otstup1+this.zScrol,this.scrollBarV.x=-this.otstup-this._otstup1+this.zScrol),null!=this.panel&&(this.panel.width=this._width,this.panel.height=this._height),this.dragIE(),this.postDraw&&this.postDraw()},this.drawScrol=function(){this.scrollBarH.height=this._otstup1,this.scrollBarH.width=this._width,this.scrollBarV.width=this._otstup1,this.scrollBarV.height=this._height},this.drawScrol(),this.clear=function(){this.clearPosit();for(var t=0;t<this.arrayKesh.length;t++)this.arrayKesh[t].clear();this.array.length=0},this.clearIndex=!0,this.clearPosit=function(){this.content.x=0,this.content.y=0,this.scrollBarH.scrolValue=0,this.scrollBarV.scrolValue=0,this.clearIndex&&(this.index=-1)},this.mousewheel=function(t){m.kolII<=m.array.length?(p=(m.heightPic+m.otstup)*Math.ceil(m.array.length/m.kolII)-m._height,g=(m.widthPic+m.otstup)*m.kolII-m._width):(p=m.heightPic+m.otstup-m._height,g=(m.widthPic+m.otstup)*m.array.length-m._width);var i=-1,e=t.delta;null==t.wheelDelta&&(e=t.wheelDelta),t.delta&&t.delta<0&&(i=1),t.deltaY&&t.deltaY<0&&(i=1),t.detail&&t.detail<0&&(i=1),null!=t.wheelDelta&&(i=t.wheelDelta>0?-1:1),e=i,m.scrollBarV.visible?e<0?m.content.y>=0?m.content.y=0:m.content.y+=m.sahDelta:m.content.y<=-(p+m.otstup)?m.content.y=-(p+m.otstup):m.content.y-=m.sahDelta:m.scrollBarH.visible&&(e<0?m.content.x>=0?m.content.x=0:m.content.x+=m.sahDelta:m.content.x<=-(g+m.otstup)?m.content.x=-(g+m.otstup):m.content.x-=m.sahDelta),m.scrolPos(!0),m.dragIE()};var _=void 0;this.dragActiv=!1,this.mouseDown=function(t){m.dragActiv=!0,_=void 0,1==m.dragNotEvent&&(document.body.style.pointerEvents="none")},this.mouseup=function(t){m.dragActiv=!1,_=void 0,1==m.dragNotEvent&&(document.body.style.pointerEvents=null)};var y=0;this.mousemove=function(t){0!=m.dragActiv&&0!=m.scrollBarV.visible&&(m.kolII<=m.array.length?(p=(m.heightPic+m.otstup)*Math.ceil(m.array.length/m.kolII)-m._height,g=(m.widthPic+m.otstup)*m.kolII-m._width):(p=m.heightPic+m.otstup-m._height,g=(m.widthPic+m.otstup)*m.array.length-m._width),0==dcmParam.mobile?(null==_&&(_={y:t.clientY,y1:m.content.y}),_.ys=t.clientY):(null==_&&(_={y:t.targetTouches[0].clientY,y1:m.content.y}),_.ys=t.targetTouches[0].clientY),(y=_.y1-(_.y-_.ys))>=0&&(y=0),y<=-(p+m.otstup)&&(y=-(p+m.otstup)),m.content.y=y,m.scrolPos(!0))},this._bmd=!1,this.startMouseDown=function(){1==this._bmd?(0==dcmParam.mobile?(this.content.div.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseup)):(this.content.div.addEventListener("touchstart",this.mouseDown),window.addEventListener("touchend",this.mouseup)),dcmParam.addFunMove(m.mousemove)):(0==dcmParam.mobile?(this.content.div.removeEventListener("mousedown",this.mouseDown),window.removeEventListener("mouseup",this.mouseup)):(this.content.div.removeEventListener("touchstart",this.mouseDown),window.removeEventListener("touchend",this.mouseup)),dcmParam.removeFunMove(m.mousemove))},this.bmd=!0,this.dragIE=function(){if(1==dcmParam.isIE){for(var t=0;t<this.array.length;t++)this.array[t].dragIE(this);this.x-=1,this.x+=1}};var v=this._boolWheel;this._boolWheel=null,this.boolWheel=v,this.panelBool=!0}function o(t,i,e,n){s.a.call(this),this.type="DBox";var o,r,a,u,l,c,d=this;t.add(this),this.x=i||0,this.y=e||0,this.fun=n,this._link="",this._title="",this._width=100,this._height=100,this._otstup=2,this.clearIndex=!0,this.boolFL=!1,this._object=null,this._borderRadius=0,this._activ=!1,this.idArr=-1,this.idArrKesh=-1,this.id=-1,this.funLoad,this.postDraw,this.funOver,this.funOut,this.content=new s.a,this.add(this.content),this.panel=new DPanel(this.content,0,0),this.image=new DImage(this.content,0,0,void 0,function(){d.draw(),this.visible=!0,1==d.boolFL&&(d.boolFL=!1,d.funLoad&&d.funLoad())}),this.image.visible=!1,this.image.funError=function(){this._link="fgh",this.link="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAASSURBVBhXY/jBwPAfhKEMhv8ARqQH3aEVcqIAAAAASUVORK5CYII="},this.label=new DLabel(this.content,0,0," "),this.label.visible=!1,this.object=void 0,this._color="#ffffff",this._color1="#ff0000",this._lineSize=2,this.boolOut=!0,this.draw=function(){(r=(this._width-2*this._otstup)/this.image.picWidth)>(this._height-2*this._otstup)/this.image.picHeight&&(r=(this._height-2*this._otstup)/this.image.picHeight),this.image.x=0,this.image.width=this.image.picWidth*r,this.image.height=this.image.picHeight*r,this.image.x=(this._width-this.image.picWidth*r)/2,this.image.y=(this._height-this.image.picHeight*r)/2,this.label.x=(this._width-this.label.curW)/2,this.label.y=this._height-this.label.curH-this._otstup,this.postDraw&&this.postDraw()},this.isObj=function(t){if(null!=this.object11&&null!=t){for(o in this.object11)if("number"==(r=h(this.object11[o]))||"boolean"==r||"string"==r){for(a in u=!1,t)o==a&&this.object11[o]==t[a]&&(u=!0);if(!u)return!1}return!0}return!1},this.startLoad=function(t){null==this.object?(this.object=t,t.title&&(this.label.text=t.title,this.label.value=t.title,this.label.visible=!0),t.src?this.image.link==t.src?d.funLoad&&d.funLoad():(this.image.width=100,this.image.height=100,this.image.link=t.src):d.funLoad&&d.funLoad(),this.draw()):d.funLoad()},this.clear=function(){this.visible=!1,this.label.visible=!1,this.boolFL=!1,this.clearIndex&&(this.activ=!1)},this.funOver,this.funOut,this.mouseOver=function(t){d.boolOut=!1,0==d._activ?d.panel.color1=dcmParam.compToHexArray(dcmParam.hexDec(d._color1),-30):d.panel.color1=dcmParam.compToHexArray(dcmParam.hexDec(d._color),-30),d.funOver&&d.funOver(d)},this.mouseOut=function(t){0==d._activ?d.panel.color1=d._color1:d.panel.color1=d._color,d.funOut&&d.funOut(d)},this.mouseDown=function(t){d.fun&&d.fun()},this.draw(),this.image.div.style.pointerEvents="none",0==dcmParam.mobile?(this.panel.div.addEventListener("mousedown",this.mouseDown),this.panel.div.addEventListener("mouseout",this.mouseOut),this.panel.div.addEventListener("mouseover",this.mouseOver)):this.panel.div.addEventListener("touchstart",this.mouseDown),this.arIE=[0,0,0,0],this.par=void 0,this.dragIE=function(t){null==this.par&&(this.par=t),l=1,this.arIE[0]=0,this.arIE[2]=this._height,this.arIE[1]=this._width,this.arIE[3]=0,this.y<-this.par.content.y&&(l=-(this.y+this.par.content.y),this.arIE[0]=l,this.arIE[2]=l+this._height,this.arIE[2]<this.arIE[0]&&(this.arIE[2]=this.arIE[0])),l=this.y+this.par.content.y,c=this.par._height-this._height,l>c&&(this.arIE[0]=0,this.arIE[2]=this._height+(c-l),this.arIE[2]<0&&(this.arIE[2]=0)),this.x<-this.par.content.x&&(l=-(this.x+this.par.content.x),this.arIE[3]=l,this.arIE[1]=l+this._width,this.arIE[1]<this.arIE[3]&&(this.arIE[1]=this.arIE[3])),l=this.x+this.par.content.x,c=this.par._width-this._width,l>c&&(this.arIE[3]=0,this.arIE[1]=this._height+(c-l)),this.content.div.style.clip="rect("+Math.round(this.arIE[0])+"px "+Math.round(this.arIE[1])+"px "+Math.round(this.arIE[2])+"px "+Math.round(this.arIE[3])+"px)"}}n.prototype=Object.create(s.a.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{bmd:{set:function(t){this._bmd!=t&&(this._bmd=t,this.startMouseDown())},get:function(){return this._bmd}},borderRadius:{set:function(t){if(this._borderRadius!=t){this._borderRadius=t,this.scrollBarH.borderRadius=t,this.scrollBarV.borderRadius=t,this.panel.borderRadius=t;for(var i=0;i<this.array.length;i++)this.array[i].borderRadius=t}},get:function(){return this._borderRadius}},prosentH:{set:function(t){this._prosentH=t;var i=(this.hh-this._height)*this._prosentH;i>0&&(i=0),this.content.y=i},get:function(){var t=this.hh-this._height;return this._prosentH=this.content.y/t,this._prosentH}},prosentW:{set:function(t){this._prosentW=t;var i=(this.ww-this._height)*this._prosentW;i>0&&(i=0),this.content.x=i},get:function(){var t=this.ww-this._height;return this._prosentW=this.content.x/t,this._prosentW}},panelBool:{set:function(t){this._panelBool!=t&&(this._panelBool=t,this.panel.visible=t,null==this.panel&&(this.panel=new DPanel(this.contPanel,0,0),this.panel.width=this._width,this.panel.height=this._height),this.panel.visible=t)},get:function(){return this._panelBool}},boolWheel:{set:function(t){this._boolWheel!=t&&(this._boolWheel=t,this.interactive=this._boolWheel,1==this._boolWheel?(this.div.addEventListener("mousewheel",this.mousewheel),this.div.addEventListener("DOMMouseScroll",this.mousewheel)):(this.div.removeEventListener("mousewheel",this.mousewheel),this.div.removeEventListener("DOMMouseScroll",this.mousewheel)))},get:function(){return this._boolWheel}},boolPositScrol:{set:function(t){this._boolPositScrol!=t&&(this._boolPositScrol=t,this.draw())},get:function(){return this._boolPositScrol}},boolPositOtctup:{set:function(t){this._boolPositOtctup!=t&&(this._boolPositOtctup=t,this.draw())},get:function(){return this._boolPositOtctup}},color:{set:function(t){if(this._color!=t){this._color=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].color=this.color}},get:function(){return this._color}},color1:{set:function(t){if(this._color1!=t){this._color1=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].color1=this.color1}},get:function(){return this._color1}},lineSize:{set:function(t){if(this._lineSize!=t){this._lineSize=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].lineSize=this.lineSize}},get:function(){return this._lineSize}},heightPic:{set:function(t){if(this._heightPic!=t){this._heightPic=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].height=this._heightPic;this.draw()}},get:function(){return this._heightPic}},widthPic:{set:function(t){if(this._widthPic!=t){this._widthPic=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].width=this._widthPic;this.draw()}},get:function(){return this._widthPic}},width:{set:function(t){this._width!=t&&(this._width=t,this.content1.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.content1.x=0,this.drawScrol(),this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.content1.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.content1.x=0,this.drawScrol(),this.draw())},get:function(){return this._height}},otstup:{set:function(t){if(this._otstup!=t){this._otstup=t;for(var i=0;i<this.arrayKesh.length;i++)this.arrayKesh[i].otstup=this._otstup;this.draw()}},get:function(){return this._otstup}},otstup1:{set:function(t){this._otstup1!=t&&(this._otstup1=t,this.drawScrol(),this.draw())},get:function(){return this._otstup1}},kolII:{set:function(t){if(this._kolII!=t){this._kolII=t;var i=this.index;this.clearPosit(),this.index=i,this.drawScrol(),this.draw()}},get:function(){return this._kolII}},index:{set:function(t){if(this.killTukIndex++,null!=this.array[t]&&this.korektPoIndex(t),this._index!=t){this.killTukIndex=0,this._index=t;for(var i=0;i<this.array.length;i++)this._index==i?(this.array[i].activ=!0,this.killTukIndex=1):this.array[i].activ=!1}},get:function(){return this._index}},x:{set:function(t){this._x!=t&&(this._x=t,this.position.x=t)},get:function(){return this._x}},y:{set:function(t){this._y!=t&&(this._y=t,this.position.y=t)},get:function(){return this._y}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.alpha=1==t?1:.7)},get:function(){return this._activMouse}}}),o.prototype=Object.create(s.a.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{activ:{set:function(t){this._activ!=t&&(this._activ=t,0==this._activ?this.panel.color1=this._color1:this.panel.color1=this._color)},get:function(){return this._activ}},borderRadius:{set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.panel.borderRadius=t)},get:function(){return this._borderRadius}},color:{set:function(t){this._color!=t&&(this._color=t,this.draw())},get:function(){return this._color}},color1:{set:function(t){this._color1!=t&&(this._color1=t)},get:function(){return this._color1}},lineSize:{set:function(t){this._lineSize!=t&&(this._lineSize=t,this.draw())},get:function(){return this._lineSize}},otstup:{set:function(t){this._otstup!=t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},width:{set:function(t){this._width!=t&&(this._width=t,this.panel.width=this._width,this.draw())},get:function(){return this._width}},height:{set:function(t){this._height!=t&&(this._height=t,this.panel.height=this._height,this.draw())},get:function(){return this._height}}})},function(t,i,e){"use strict";e.d(i,"b",function(){return p}),e.d(i,"a",function(){return g});var s=e(0),h=e(1);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function r(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,i,e){return i&&r(t.prototype,i),e&&r(t,e),t}function u(t,i){return!i||"object"!==n(i)&&"function"!=typeof i?f(t):i}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}function d(t,i){return(d=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p=function(t){function i(t,e,s,h,n){var r;o(this,i),(r=u(this,l(i).call(this))).type="DButtons",r.infoThis='\n            var dbs= new DButtons(this.dCont,0,0, ["xz","xz1"],function(){}) \n            dbs.tip=0;//в лево по w; 1 вниз; 2 под; 3 в лево по кнопка.w;\n            dbs.setTArr(["xz","xz1"]);выстопит tip=3;  \n            .boolDragIndex=true//При тыке меняет индекс          \n        ',null==dcmParam&&(dcmParam=new DCM),dcmParam.add(f(f(r)));var a,c=f(f(r));return r.x=e||0,r.y=s||0,r.fun=n,r._kol=h||2,h&&null!=h[0]&&(r._kol=h.length),null!=t&&null!=t.add&&t.add(f(f(r))),r.funChange=void 0,r.boolDragIndex=!0,r._wh=dcmParam.wh,r._otstup=dcmParam._otstup,r._index=0,r._boolLine=dcmParam._boolLine,r._color=dcmParam._color,r._colorActive=dcmParam.compToHexArray(dcmParam.hexDec(r._color),-40),r._boolFond=!0,r._borderRadius=dcmParam._borderRadius,r._fontSize=dcmParam._fontSize,r._scalePic=0,r._activMouse=!0,r._glowSah=0,r._glowColor="#000000",r._tip=0,r.arrayCash=[],r.array=[],r.aa=r._wh*r._kol+r._otstup*(r._kol-1),r._width=r.aa,r._height=r._wh,r.createZamen=void 0,r.getButton=function(){for(var t=0;t<this.arrayCash.length;t++)if(0==this.arrayCash[t].active)return this.arrayCash[t].active=!0,this.arrayCash[t];return(a=null!=this.createZamen?this.createZamen():new g(this,0,0," ")).fun_mousedown=this.sob,a.idArr=this.arrayCash.length,a.width=this._wh,a.height=this._wh,a.borderRadius=this._borderRadius,a.glowSah=this._glowSah,a.glowColor=this._glowColor,a.activMouse=this._activMouse,a.boolLine=this._boolLine,a.fontSize=this._fontSize,a.scalePic=this._scalePic,this.arrayCash.push(a),a},r.sob=function(){if(1==c.boolDragIndex){if(2==c._tip){var t=(this.idArr+1)%c._kol;return c.index=t,void(c.fun&&c.fun())}c.index=this.idArr}c.fun&&c.fun()},r.dragIndex=function(){for(var t=0;t<this.arrayCash.length;t++)this.arrayCash[t].idArr!==this._index?this.arrayCash[t].color=this._color:this.arrayCash[t].color=this._colorActive;if(0==this._tip||1==this._tip)for(t=0;t<this.arrayCash.length;t++)t>=this._kol?this.arrayCash[t].visible=!1:this.arrayCash[t].visible=!0;if(2==this._tip)for(t=0;t<this.arrayCash.length;t++)t===this._index?this.arrayCash[t].visible=!0:this.arrayCash[t].visible=!1},r.clear=function(){for(var t=0;t<this.arrayCash.length;t++)this.arrayCash[t].active=!1},r.dragArr=function(){this.clear(),this.array.length=0;for(var t=0;t<this._kol;t++)this.array.push(this.getButton());this.dragTip(),this.dragIndex()},r.dragTip=function(){if(0==this._tip)for(var t=0;t<this._kol;t++)this.arrayCash[t].x=this._otstup*t+this.arrayCash[t].width*t,this.arrayCash[t].y=0;if(1==this._tip){var i=0;for(t=0;t<this._kol;t++)this.arrayCash[t].x=0,this.arrayCash[t].y=i,i+=this._wh+this._otstup;this._width=this._wh,this._height=i-this._otstup}if(2==this._tip){for(t=0;t<this._kol;t++)this.arrayCash[t].x=0,this.arrayCash[t].y=0;this._width=this._wh,this._height=this._wh}if(3==this._tip){var e=0,s=0;for(t=0;t<this._kol;t++)this.arrayCash[t].x=e,this.arrayCash[t].y=0,s=this.arrayCash[t].text,this.arrayCash[t].width=this._fontSize*s.length*.6+this._fontSize,e+=this.arrayCash[t].width+this._otstup,this.array[t].visible=!0;this._width=e-this._otstup,this._height=this._wh}else for(t=0;t<this._kol;t++)this.arrayCash[t].width=this._wh},r.setTArr=function(t){var i;this.kol=t.length;for(var e=0;e<t.length;e++)i=t[e]+"",this.array[e].width=this._fontSize*i.length*.6+this._fontSize,this.array[e].text=i,this.array[e].visible=!0;this._tip=-1,this.tip=3},r.dragArr(),h&&null!=h[0]&&r.setTArr(h),r}return c(i,s["a"]),a(i,[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"tip",set:function(t){this._tip!=Math.round(t)&&(this._tip=Math.round(t),this.dragTip(),this.dragIndex())},get:function(){return this._tip}},{key:"wh",set:function(t){if(this._wh!=t){this._wh=t;for(var i=0;i<this.arrayCash.length;i++)3!=this._tip&&(this.arrayCash[i].width=this._wh),this.arrayCash[i].height=this._wh;this.dragTip()}},get:function(){return this._wh}},{key:"width",set:function(t){if(this._width!=t){this._width=t;this._width,this._otstup,this._kol,this._kol;this.dragTip()}},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){this._height=t;this._height,this._otstup,this._kol,this._kol;this.dragTip()}},get:function(){return this._height}},{key:"otstup",set:function(t){this._otstup!=t&&(this._otstup=t,this.dragTip())},get:function(){return this._otstup}},{key:"index",set:function(t){this._index!=t&&(this._index=t,this.dragIndex())},get:function(){return this._index}},{key:"kol",set:function(t){this._kol!=Math.floor(t)&&(this._kol=Math.floor(t),this.dragArr())},get:function(){return this._kol}},{key:"boolLine",set:function(t){if(this._boolLine!=t){this._boolLine=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].boolLine=this._boolLine}},get:function(){return this._boolLine}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.dragIndex())},get:function(){return this._color}},{key:"colorActive",set:function(t){this._colorActive!=t&&(this._colorActive=t,this.dragIndex())},get:function(){return this._colorActive}},{key:"borderRadius",set:function(t){if(this._borderRadius!=t){this._borderRadius=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].borderRadius=this._borderRadius}},get:function(){return this._borderRadius}},{key:"fontSize",set:function(t){if(this._fontSize!=t){this._fontSize=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].fontSize=this._fontSize;this.dragTip()}},get:function(){return this._fontSize}},{key:"scalePic",set:function(t){if(this._scalePic!=t){this._scalePic=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].scalePic=this._scalePic}},get:function(){return this._scalePic}},{key:"glowSah",set:function(t){if(this._glowSah!=t){this._glowSah=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].glowSah=this._glowSah}},get:function(){return this._glowSah}},{key:"glowColor",set:function(t){if(this._glowColor!=t){this._glowColor=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].glowColor=this._glowColor}},get:function(){return this._glowColor}},{key:"activMouse",set:function(t){if(this._activMouse!=t){this._activMouse=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].activMouse=this._activMouse}},get:function(){return this._activMouse}},{key:"boolFond",set:function(t){if(this._boolFond!=t){this._boolFond=t;for(var i=0;i<this.arrayCash.length;i++)this.arrayCash[i].panel.visible=t,this.arrayCash[i].panel1.alpha=0==t?.01:1}},get:function(){return this._boolFond}}]),i}(),g=function(t){function i(t,e,s,h,n,r){var a;return o(this,i),(a=u(this,l(i).call(this,t,e,s,h,n,r))).type="DButton",a._active=!0,a}return c(i,h["b"]),a(i,[{key:"active",set:function(t){this._active!=t&&(this._active=t)},get:function(){return this._active}}]),i}()},function(t,i,e){"use strict";e.d(i,"a",function(){return p}),e.d(i,"b",function(){return m});var s=e(0),h=e(1);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function r(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t,i,e){return i&&r(t.prototype,i),e&&r(t,e),t}function u(t,i){return!i||"object"!==n(i)&&"function"!=typeof i?f(t):i}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}function d(t,i){return(d=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p=function(t){function i(t,e,h,n){var r;o(this,i),(r=u(this,l(i).call(this,t))).type="DAroundButton";var a,c=f(f(r));r.x=e||0,r.y=h||0,r.fun=n,r._dist=60,r._angel=30,r._angelSdvih=-Math.PI/2,r.array=[],r.dCont=new s.a,r.creat=function(t,i,e,s){a=new g(this,t,i,e,s,this.array.length),this.array.push(a)},r.setParam=function(t,i){for(var e=0;e<this.array.length;e++)this.array[e].name==t&&this.array[e].setValue(i)};var d=[];r.start=function(t,i,e,s){this.stop(),d=[];for(var h=0;h<s.length;h++)for(var n=0;n<this.array.length;n++)s[h]==this.array[n].name&&d.push(this.array[n]);for(h=0;h<d.length;h++)this.dCont.add(d[h].dCont);this.reposit(),this.dCont.x=i,this.dCont.y=e,t.add(this.dCont)},r.stop=function(){for(var t=0;t<this.array.length;t++)null!=this.array[t].dCont.parent&&this.array[t].dCont.parent.remove(this.array[t].dCont);null!=this.dCont.parent&&this.dCont.parent.remove(this.dCont)},r.getVector=function(t,i,e){return t<0&&(i+=Math.PI),e.x=Math.abs(t)*Math.cos(i),e.y=Math.abs(t)*Math.sin(i),e};var p={x:0,y:0};return r.reposit=function(){for(var t=-this._angel*Math.PI/180*(d.length-1)/2,i=0;i<d.length;i++)this.getVector(this._dist,t+this._angel*Math.PI/180*i+this._angelSdvih,p),d[i].dCont.x=p.x,d[i].dCont.y=p.y},r.mousedown=function(t){var i=!0;t.target&&t.target.bAround&&(i=!1),1==i&&c.stop()},document.addEventListener("mousedown",c.mousedown),r}return c(i,s["a"]),a(i,[{key:"dist",set:function(t){this._dist!=t&&(this._dist=t,this.reposit())},get:function(){return this._dist}},{key:"angel",set:function(t){this._angel!=t&&(this._angel=t,this.reposit())},get:function(){return this._angel}},{key:"angelSdvih",set:function(t){this._angelSdvih!=t&&(this._angelSdvih=t,this.reposit())},get:function(){return this._angelSdvih}}]),i}(),g=function t(i,e,h,n,r,a){o(this,t),this.type="BAround";var u=this;this.par=i,this.name=e,this.link=h,this.link=n,this.state=r,this.idArr=a,this.dCont=new s.a,this.dCont2=new s.a,this.dCont.add(this.dCont2),this.dCont2.x=-dcmParam.wh/2,this.dCont2.y=-dcmParam.wh/2,this.button=new m(this.dCont2,0,0,h,n,function(){i.fun(u.name,this.value)}),this.button.state=r,this.button.object.bAround=this,this.setValue=function(t){this.button.value=t}},m=function(t){function i(t,e,s,h,n,r){var a;o(this,i),(a=u(this,l(i).call(this,t,e,s," ",r))).type="DButtonDrag";var c,d=f(f(a));a.link=h,a.link1=n,a.x=e||0,a.y=s||0,a.fun=r,a._state=0,a._value=!0,a.borderRadius=100,d.width=a.height,a.image=new DImage(f(f(a)),0,0,h,function(){}),a.image.div.style.pointerEvents="none",a.image1=new DImage(f(f(a)),0,0,n,function(){}),a.image1.div.style.pointerEvents="none",a.image.width=a.image.height=d.width,a.image1.width=a.image1.height=d.width,a.image1.visible=!1,d.point={x:0,y:0};var p={x:0,y:0};a.fun_mousedown=function(){0==d._state&&(d.value=!d._value),d._state,2!=d._state&&3!=d._state&&4!=d._state||(d.pointStast.x=d.x,d.pointStast.y=d.y,d.point.x=0,d.point.y=0,p.x=d.x,p.y=d.y,c=this.parent,this.getBigPar(this,p).add(this),this.x=p.x,this.y=p.y,0==dcmParam.mobile?(document.addEventListener("mousemove",d.mousemove2),document.addEventListener("mouseup",d.mouseup2)):(document.addEventListener("touchend",d.mouseup2),document.addEventListener("touchmove",d.mousemove2)))},a.getBigPar=function(t,i){return null==t.parent?t:(i.x+=t.x,i.y+=t.y,this.getBigPar(t.parent,i))},d.pointStast={x:0,y:0};var g=void 0;return d.mouseup2=function(t){d.x=d.pointStast.x,d.y=d.pointStast.y,c.add(d),g=void 0,0==dcmParam.mobile?(document.removeEventListener("mousemove",d.mousemove2),document.removeEventListener("mouseup",d.mouseup2)):(document.removeEventListener("touchend",d.mouseup2),document.removeEventListener("touchmove",d.mousemove2))},d.mousemove2=function(t){var i=0,e=0;null==t.clientX?(i=t.targetTouches[0].clientX,e=t.targetTouches[0].clientY):(i=t.clientX,e=t.clientY),null==g&&(g={x:i,y:e,x1:d.x,y1:d.y}),d.point.x=i-g.x,d.point.y=e-g.y,3!=d._state&&4!=d._state||(d.x=g.x1+d.point.x),2!=d._state&&4!=d._state||(d.y=g.y1+d.point.y),d.fun()},a}return c(i,h["b"]),a(i,[{key:"state",set:function(t){this._state!=t&&(this._state=t,this.loadImeg(this.link),0==this._state&&(this.value=!0),1!=this._state&&2!=this._state&&3!=this._state&&4!=this._state||(this._value=this.point))},get:function(){return this._state}},{key:"value",set:function(t){this._value=t,0==this._state&&(this.image.visible=t,this.image1.visible=!t)},get:function(){return this._value}}]),i}()},function(t,i,e){"use strict";e.d(i,"a",function(){return n});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){var i=this;this.type="DSettings",this.content=new s.a,this.content.nameType="DSettings",this.content.thisType=this,null!=t&&t.add(this.content),this.dinFun,this._otstup=2,this._width=200,this._height=200,this._heightMax=1e3,this._value=void 0,this.drawArrFon=!0,this.finalHeight=200,this.arrComp=[],this.arrComp2=[],this.objComp={},this.tipRide=!1,this.arrF=[],this.okrug=100,this.debugRect=!1,this.shagY=0,this.shagX=0,this.korectText=null;var e,n,a=0;this.draw=function(){this.getBigH(),this.debugRect&&this.drawDebugRect(),0,this.shagY=this._otstup,this.shagX=this._otstup,this.arrF=[],this.arrF[0]=0,this.arrF[1]=2,"null",0,0,this.arrDividingLine.forEach(function(t){t.visible=!1});for(var t=0;t<this.arrComp2.length;t++)if(!1!==this.arrComp2[t].visible){if(void 0!==this.arrComp2[t].funDrag&&!0===this.arrComp2[t].funDrag(this,t))continue;var i=!1;this.arrComp2[t].boolX&&(i=this.arrComp2[t].boolX),1==i?(this.shagX=this.otstup,this.arrComp2[t-1]&&(this.shagX=this.arrComp2[t-1].x+this.arrComp2[t-1].width+this.otstup),this.shagY=this.otstup,this.arrComp2[t-1]&&(this.shagY=this.arrComp2[t-1].y),this.width<this.shagX+this.arrComp2[t].width&&(this.arrComp2[t].x=this.otstup,this.arrComp2[t].y=this.shagY+this.arrComp2[t].height+this.otstup),this.width>this.shagX+this.arrComp2[t].width&&(this.arrComp2[t].x=this.shagX,this.arrComp2[t].y=this.shagY),t+1==this.arrComp2.length&&(this.shagY=this.arrComp2[t-1].y+this.arrComp2[t-1].height+this.otstup)):(this.arrComp2[t].x=this.otstup,this.shagY=this.otstup,this.arrComp2[t-1]&&(this.shagY=this.arrComp2[t-1].y+this.arrComp2[t-1].height+this.otstup),this.arrComp2[t].y=this.shagY),this.arrComp2[t].type,this.debugRect&&this.drawDebugRect(this.arrComp2[t].y,this.arrComp2[t].height),"PLPachkaButton2"!==this.arrComp2[t].type&&"PLButSwitch"!==this.arrComp2[t].type||(this.arrF[this.arrF.length-1]-=this._otstup,this.shagY-=this._otstup,"PLButSwitch"===this.arrComp2[t].type&&(this.arrF[this.arrF.length-1]+=2))}this.shagY!=this._otstup&&(this.shagY=this.arrComp2[this.arrComp2.length-1].y+this.arrComp2[this.arrComp2.length-1].height+this.otstup),this.finalHeight=this.shagY,this.draw2()},this.arrDividingLine=[],this.addDividingLine=function(t,i,e){var s=null;this.arrDividingLine.forEach(function(t){!1===t.visible&&(s=t,t.visible=!0)},this),null===s&&(s=new PIXI.Graphics,this.arrDividingLine.push(s),this.content.addChild(s)),s.clear(),s.beginFill("0xaeaeae"),s.drawRect(0,0,1.5,e),s.position.set(t,i)},this.drawDebugRect=function(t,i){null==n&&(n=new PIXI.Graphics,this.content.addChild(n)),null!=t?(n.lineStyle(.5,16711680),n.drawRect(0,t,this._width,i)):n.clear()},this.getHForGal=function(){},this.draw2=function(){};var u,l,c=0,d=0,f=!0,p=-1;this.getBigH=function(){a=2*this._otstup,e=0,p=-1,f=!0;for(var t=!1,i=0;i<this.arrComp2.length;i++)this.arrComp2[i].visible&&"PLButSwitch"===this.arrComp2[i].type&&(t=!0,i=this.arrComp2.length);for(i=0;i<this.arrComp2.length;i++)if(0!=this.arrComp2[i].visible)switch(this.arrComp2[i].type){case"PLGADM":e+=this.arrComp2[i].currentHeight+this._otstup;break;case"GalleryAdm":e+=this.arrComp2[i].corentHeight+this._otstup;break;case"PLColorUn":c=this.arrComp2[i].heightMax+this._otstup,d=this.arrComp2[i].heightMin+this._otstup;break;default:a+=this.arrComp2[i].height+2*this._otstup}a-=this._otstup,e-=this._otstup;var s=a+e,h=a+e,n=this._height-a;t||(s+=c,h+=d,n-=d);for(i=0;i<this.arrComp2.length;i++)if(!1!==this.arrComp2[i].visible){var o=this.arrComp2[i].type;"PLGADM"!==o&&"GalleryAdm"!==o||(s>this._height?(f=!1,h>this._height?this.arrComp2[i].height=n:this.arrComp2[i].height=e):(f=!0,this.arrComp2[i].height=e)),"PLColorUn"==this.arrComp2[i].type&&(p=i),-1!=p&&(this.arrComp2[p].boolBig=f)}},this.isComp=function(t,i){for(var e=0;e<this.arrComp.length;e++)if(this.arrComp[e].type==t&&this.arrComp[e].name==i)return!0;return!1},this.setVisi=function(t){u=!1;for(var i=0;i<t.length;i+=2)null!=this.objComp[t[i]]&&this.objComp[t[i]].visible!=t[i+1]&&(u=!0,this.objComp[t[i]].visible=t[i+1]);return 1==u&&this.draw(),u},this.setValue=function(t,i,e){null!=this.objComp[t]&&(this.objComp[t][i]=e)},this.getValue=function(t,i){return this.objComp[t][i]},this.getComp=function(t,i){return this.objComp[t]},this.getIdIsName=function(t){for(var i in this.objComp)if(null!=this.objComp[i].param&&this.objComp[i].param==t)return this.objComp[i];return null},this.object,this.setObj=function(t){this.object=t,this._value=t,this.korektObj(),this.korektObjParam(),this.draw()},this.korektObjParam=function(){if(null!=this.object&&null!=this.object.param)for(var t=0;t<this.arrComp2.length;t++)null!=this.object.param[this.arrComp2[t].param]&&null!=this.arrComp2[t].value&&(this.updateMinMax(this.arrComp2[t],this.object.param),this.updateValueComp(this.arrComp2[t],this.object.param))},this.updateValueComp=function(t,e){t.value!=e[t.param]&&(i.object.arrComp[t.idArr2].arrValue&&void 0!==t.index?t.index=i.object.arrComp[t.idArr2].arrValue.indexOf(e[t.param]):t.value=e[t.param])},this.updateMinMax=function(t,i){null!=t.min&&null!=i[t.param+"Min"]&&t.min!=i[t.param+"Min"]&&(t.min=i[t.param+"Min"]),null!=t.max&&null!=i[t.param+"Max"]&&t.max!=i[t.param+"Max"]&&(t.max=i[t.param+"Max"])},this.korektObj=function(){var t,e;for(t=0;t<this.arrComp.length;t++)this.arrComp[t].visible=!1;for(this.arrComp2.length=0,t=0;t<this.object.arrComp.length;t++)for(e=0;e<this.arrComp.length;e++)if(this.object.arrComp[t].name==this.arrComp[e].name){for(var s in this.arrComp[e].visible=!0,this.object.arrComp[t]._param&&this.object.arrComp[t]._param.e&&this.arrComp[e].setE&&this.arrComp[e].setE(this.object.arrComp[t]._param.e),null!=this.object.arrComp[t].tipRide&&(this.arrComp[e].tipRide=this.object.arrComp[t].tipRide),null!=this.object.arrComp[t].typeYesArray&&(this.arrComp[e].typeYesArray=this.object.arrComp[t].typeYesArray),null!=this.object.arrComp[t].typeNotArray&&(this.arrComp[e].typeNotArray=this.object.arrComp[t].typeNotArray),null!=this.object.arrComp[t].arrObj&&(this.arrComp[e].array=this.object.arrComp[t].arrObj,this.object.arrComp[t].arrValue&&(this.arrComp[e].valueS=this.object.arrComp[t].arrValue)),this.object.arrComp[t])s in this.arrComp[e]&&(this.arrComp[e][s]=this.object.arrComp[t][s]);if(null!=this.object.arrComp[t].title&&(l=this.getText(this.object.arrComp[t].title),this.arrComp[e].title=l,this.arrComp[e].text=l),null!=this.object.arrComp[t].plusText&&null!=this.arrComp[e].plusText&&(this.arrComp[e].plusText=this.getText(this.object.arrComp[t].plusText)),null!=this.object.arrComp[t].plusArrText&&null!=this.arrComp[e].plusArrText){for(var h=this.arrComp[e].plusArrText,n=0;n<h.length;n++)h[n]=this.getText(h[n]);this.arrComp[e].plusArrText=h}if(null!=this.object.param){if(!0,null!=this.object.param[this.object.arrComp[t].param])if(i.object.arrComp[t].arrValue&&void 0!==this.arrComp[e].index){var o=i.object.arrComp[t].arrValue.indexOf(this.object.param[this.object.arrComp[t].param]);this.arrComp[e].index=o}else this.arrComp[e].value=this.object.param[this.object.arrComp[t].param];else void 0!==this.object.arrComp[t].param&&(this.arrComp[e].value=this.object.arrComp[t].param),this.reDragObject(this.arrComp[e]);this.arrComp[e].param=this.object.arrComp[t].param}else null!=this.object.objSave&&null!=this.object.objSave[this.object.arrComp[t].param]&&(this.arrComp[e].value=this.object.objSave[this.object.arrComp[t].param],this.arrComp[e].param=this.object.arrComp[t].param);this.arrComp[e].idArr2=t,this.arrComp2.push(this.arrComp[e])}this.draw()},this.compFinal,this.down=function(){i.compFinal=this;null!=i.object.funPre&&i.object.funPre(this);for(var t=0;t<i.object.arrComp.length;t++)if(i.object.arrComp[t].name==this.name){var e=i.object.arrComp[t].param,s=this.value;if(i.object.arrComp[t].arrValue&&void 0!==this.index&&(s=i.object.arrComp[t].arrValue[this.index]),e&&"object"!=h(i.object.param[e])){if(null!=i.object.param&&(i.object.param[e]=s,i.object.param.settingsBeside&&i.object.param.settingsBeside(e)),null!=i.object.array)for(var n=0;n<i.object.array.length;n++)i.object.array[n][e]=s;null!=i.object.objSave&&void 0!==i.object.objSave[e]&&(i.object.objSave[e]=s)}null!=i.object.fun&&i.object.fun(this),null!=i.dinFun&&i.dinFun()}"SliderObject"!=this.type&&"PLSliderBigRad"!=this.type&&"SliderImg"!==this.type&&null!=i.object.funComplit&&i.object.funComplit(this)},this.funComplit=function(){null!=i.object.funComplit&&i.object.funComplit(this)},this.funUp=function(){null!=i.object.funUp&&i.object.funUp(this)},this.funActMouse,this.setActMouse=function(t,i){},this.setActMouseAll=function(t){for(var i=0;i<this.arrComp2.length;i++)this.arrComp2[i].activMouse=t;for(i=0;i<this.arrComp.length;i++)this.arrComp[i].activMouse=t},this.getComponentFun=void 0,this.component;this.addComponent=function(t,e,s){if(h=null,"DStringDrag"==t&&((h=new o(this.content,0,0,s,this.down)).width=this._width-2*this._otstup),"DVisualLoader"===t){var h=new r(this.content,0,0,this.down);null!=s&&(null!=s.getFile&&(h.funGetFile=s.getFile),null!=s.onload&&(h.onload=s.onload)),h.x=this._otstup,h.width=this._width-2*this._otstup,h.funUp=this.funComplit}if("DComboBox"==t&&((h=new DComboBox(this.content,0,0,["nullxz"],this.down)).x=this._otstup,h.width=this._width-2*this._otstup,h.isAutoReversePanel=!0),"DParamObject"==t&&((h=new DParamObject(this.content,0,0,this.down,1)).x=this._otstup,h.width=this._width-2*this._otstup,h.tipRide=!0,h.arrType.push("object")),"DCheckBox"==t&&(h=new DCheckBox(this.content,0,0,e,this.down)),"DLabel"==t&&((h=new DLabel(this.content,0,0,e,this.down)).fontSize=14,h.bold=!1,h.x=this._otstup,h.width=this._width-2*this._otstup),"DButton"==t&&(h=new DButton(this.content,1,0,"",this.down),null!=s&&(null!=s.title&&(h.text=s.title),null!=s.link&&h.loadImeg(s.link),null!=s.file&&h.startFile(".jpg, .png, .bmp, .jpeg")),h.width=this._width-2),"DColor"==t&&((h=new DColor(this.content,0,0,"#ff0000",this.down)).width=this._width-2*this._otstup,h.x=this._otstup,i.draw2&&i.draw2()),"DSliderBig"==t){var n=0,a=100,u=this.okrug;null!=s&&(null!=s.min&&(n=s.min),null!=s.max&&(a=s.max),null!=s.okrug&&(u=s.okrug)),(h=new DSliderBig(this.content,0,0,this.down,e,n,a)).boolDiapozon=!0,h.okrug=u,h.x=this._otstup,h.width=this._width-2*this._otstup,h.funChange=this.funComplit}return null==h&&null!=this.getComponentFun&&(h=this.getComponentFun(t,s,this.content)),null!=s&&(null!=h&&null!=s.funDrag&&(h.funDrag=s.funDrag),null!=s.boolX&&(h.boolX=s.boolX),null!=s.e&&null!=h.setE&&h.setE(s.e)),this.component=h,this.addComponent2(t,e,s),this.component.visible=!1,this.component.name=e,this.component.idArr=this.arrComp.length,this.arrComp.push(this.component),this.objComp[e]=this.component,this.drawComponent(),this.component},this.component,this.addComponent2=function(t,i,e){},this.addObject=function(t,i){},this.reDragObject=function(t){},this.drawComponent=function(){},this.getText=function(t){return null!==this.korectText?this.korectText(t):t},Object.defineProperty(this,"otstup",{set:function(t){this._otstup!=t&&(this._otstup=t,this.drawComponent())},get:function(){return this._otstup}}),Object.defineProperty(this,"width",{set:function(t){this._width!=t&&(this._width=t,this.drawComponent(),this.funWH&&this.funWH())},get:function(){return this._width}}),Object.defineProperty(this,"height",{set:function(t){this._height!=t&&(this._height=t,this.draw(),this.funWH&&this.funWH())},get:function(){return this._height}}),Object.defineProperty(this,"heightMax",{set:function(t){this._heightMax!=t&&(this._heightMax=t,this.drawComponent())},get:function(){return this._heightMax}}),Object.defineProperty(this,"value",{set:function(t){this._value=t;var i=!0;null!=t.fun&&(i=!1),1==i?this.addObject(t,this.tipRide):this.addObject(t.param,this.tipRide)},get:function(){return this._value}})}function o(t,i,e,h,n){s.a.call(this),this.type="DStringDrag";var o=this;t.add(this),this.x=i||0,this.y=e||0,this.fun=n,this._width=100,this._height=dcmParam.wh+4,this._activJsonParam=!1,this._isJSON=!1,this.otstup=dcmParam._otstup,this.wh=dcmParam.wh;var r=null;this.init=function(){this.input=new DInput(this,this.otstup,this.otstup,"null",function(){o.value=this.value}),this.input.timeFun=1,this.input.funEnter=function(){o.fun()},this.but=new DButton(this,this.otstup,this.otstup,":",function(){o.fun()}),this.but.width=2*this.wh,this.input.x=this.but.width+2*this.otstup,this.input.width=this._width-this.input.x-2*this.otstup},this.funMinPO=function(){o.activJsonParam=!1},this.drag=function(){this.input.width=this._width-this.input.x},this.dragSettingsBig=function(){null===r&&(r=a(this.parent)),null!==r&&r.draw()};var a=function t(i){return null===i?null:i.settingsBig?i.settingsBig:t(i.parent)};this.init()}function r(t,i,e,h){s.a.call(this),this.type="DVisualLoader";var n=this;t.add(this),this.fun=h,this._link="null",this._value=this._link,this._width=100,this._height=20,this.otstup=2,this.panel=new DPanel(this,0,0),this.bat=new DButton(this,this.otstup,this.otstup,"x",function(){n.value="null",n.fun()}),this._height=2*this.bat.height+3*this.otstup,this.panel.height=this._height,this.bat.width=this.bat.height,this.bat1=new DButton(this,this.panel.height,2*this.otstup+this.bat.height,"load",function(t){n.image.visible=!0,n.funGetFile?n.funGetFile(this.files[0],function(t){n.link=t,n.fun&&n.fun()}):(n.input.value=t,n._link=t,n.image.link=t)}),this.bat1.startFile(".jpg, .png"),this.input=new DInput(this,this.panel.height,this.otstup,this._link,function(){n.value=this.text,n.fun()}),this.panel1=new DPanel(this,this.otstup,this.otstup),this.panel1.width=this.panel1.height=this.panel.height-2*this.otstup;var o=this.panel1.width-3*this.otstup;this.image=new DImage(this.panel1,this.otstup,this.otstup,null,function(){this.width=o,this.height=o}),this.draw=function(){this.bat.x=this._width-this.bat.width-this.otstup,this.input.width=this._width-this.input.x-this.bat.width-2*this.otstup,this.bat1.width=this._width-this.panel1.width-3*this.otstup},this.draw()}o.prototype=Object.create(s.a.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{text:{set:function(t){this._value!==t&&(this.value=t,null!=this._value&&(this.but.text=t))},get:function(){return this._value}},value:{set:function(t){this._value!==t&&(this._value=t,this.input.text=this._value)},get:function(){return this._value}},width:{set:function(t){this._width!==t&&(this._width=t,this.drag())},get:function(){return this._width}},height:{set:function(t){this._height!==t&&(this._height=t,this.drag())},get:function(){return this._height}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.input.activMouse=t,this.but.activMouse=t)},get:function(){return this._activMouse}}}),r.prototype=Object.create(s.a.prototype),r.prototype.constructor=r,Object.defineProperties(r.prototype,{width:{set:function(t){this._width!==t&&(this._width=t,this.draw())},get:function(){return this._width}},height:{set:function(t){},get:function(){return this._height}},link:{set:function(t){if(this._link!==t){this._link=t;var i=this._link;window.mhbd&&(i=window.mhbd.getLink(t)),"null"===this.link?(this.image.visible=!1,this.input.value=this.link):this.link===this.linkError?(this.image.link=this.linkError,this.input.value=this.link):(this.image.visible=!0,this.image.link=i,this.input.value=this._link)}},get:function(){return this._link}},value:{set:function(t){this.link=t},get:function(){return this._link}},title:{set:function(t){this._title!==t&&(this._title=t,this.bat1.text=t)},get:function(){return this._title}}})},function(t,i,e){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,i,e,h,n){DSettings.call(this),this.type="DParamObject",this.infoThis="\n        var dPO= new DParamObject(this.dCont,0,0,function(){})//, 1 - будет DPanel\n        dPO.tipRide=false//читает сетеры, true будет читать обьект весь!!\n        dPO.startUp()//включает ап проверка значений первый уровень\n        typeYesArray//только эти параметры, \n        typeNotArray//исключает\n        typeArray//читает по любасу\n\n    ",null==dcmParam&&(dcmParam=new DCM),dcmParam.add(this);var o,r,a=this;for(var u in this.fun=h,this._x=i||0,this._y=e||0,this.cont=t,this.infoInt=-1,this.arrayLabel=[],this._height=100,this._bWindow=null==n,this._ignTypeArr=!1,this._actIgnBtn=!1,this._title="DParamObject",this._priorityType=!1,this._isScroll=!1,this.arrayColor=[],this.oShablon=[],this.textJSON="{}",this.objJSON={},this.funMinimize,this.funKorektObj=void 0,this.parrentPLPO=void 0,this.tipRide=!1,this.oP,this.ignBtn,this.wh=dcmParam.wh,this.w,this.typeArray=[],this.typeNotArray=null,this.typeYesArray=null,this.usingShablon=[],this.hhhhh=this._height,this._bWindow?this.w=new DWindow(this.cont,this._x,this._y,this._title,function(){a.funMinimize&&(1==this.minimize?a._height=1:(a.draw(),a._height=a.finalHeight),a.funMinimize())}):this.w=new DPanel(this.cont,this._x,this._y),this.window=this.w,this.w.content.add(this.content),this.w.drag=!1,this.w.width=this.width,this.w.height=this.height,this.w.drag=!1,this._height=this.wh,this.arrType=["label","numbercolor","boolean","number","string","comboBox"],this.arrType)this.oShablon[u]=[];this.addObject=function(t,i){if(null!=i&&(this.tipRide=i),this.oP=t,this.oShablon=[],0==this.usingShablon.length){for(var e=0;e<this.arrType.length;e++)this.oShablon[this.arrType[e]]=[];this.generatShablon(),this.clearShablon(),this.creatToShablon(),this.startToShablon(),this.draw2(),this.setTextInput()}else this.creatUsingShablon()},this.clearShablon=function(t){var i,e,s;if(null!=this.typeYesArray&&0==this._ignTypeArr){for(i=0;i<this.arrType.length;i++)for(o=this.oShablon[this.arrType[i]],e=0;e<o.length;e++){for(l=!0,s=0;s<this.typeYesArray.length;s++)o[e]==this.typeYesArray[s]&&(l=!1);1==l&&(o.splice(e,1),s=999,e=-1)}for(var h in this.oShablon){for(l=!0,i=0;i<this.arrType.length;i++)this.arrType[i]==h&&(l=!1);if(1==l)for(o=this.oShablon[h],i=0;i<o.length;i++){for(var n in r=!0,this.oP)if(this.oP[n]==o[i])for(s=0;s<this.typeYesArray.length;s++)n==this.typeYesArray[s]&&(r=!1,s=999);1==r&&(o.splice(i,1),i=-1)}}}if(null!=this.typeNotArray&&0==this._ignTypeArr){for(i=0;i<this.arrType.length;i++)for(o=this.oShablon[this.arrType[i]],e=0;e<o.length;e++)for(s=0;s<this.typeNotArray.length;s++)o[e]==this.typeNotArray[s]&&(o.splice(e,1),s=999,e=-1);for(var h in this.oShablon){for(l=!0,i=0;i<this.arrType.length;i++)this.arrType[i]==h&&(l=!1);if(1==l)for(o=this.oShablon[h],i=0;i<o.length;i++)for(var n in this.oP)if(this.oP[n]==o[i])for(s=0;s<this.typeNotArray.length;s++)n==this.typeNotArray[s]&&(o.splice(i,1),i=-1)}}},this.draw2=function(){this.hhhhh=this.finalHeight,null!=this.parrentPLPO&&(this.hhhhh=this.finalHeight+pl102.wh-this._otstup),0==this.infoInt&&(this.initTA(),this.textArea.y=this.finalHeight,this.hhhhh+=this.textArea.height+4),null!=this.ignBtn&&(this.ignBtn.x=this.w.width-this.ignBtn.width-3),this.w.height=this.hhhhh+(this._bWindow?dcmParam.wh:0),this._height=this.w.height,a.updateScroll()},this.generatShablon=function(){var t,i;1==this.tipRide?(t=this.oP,this.generatShablon2(t)):(i=Object.getOwnPropertyNames(Object.getPrototypeOf(this.oP)),Object.getOwnPropertyNames(this.oP),this.generatShablon2(i))},this.generatShablon2=function(t){for(var i in t)1!=this.tipRide&&(i=t[i]),"constructor"!=i&&(n=s(this.oP[i]),n=this.addPrefix(n,i,this.oP[i]),null!=this.oP[i+"CB"]&&(n="comboBox"),this.oShablon[n]&&this.oShablon[n].push(i));for(var e in this.oP)if(null!=this.oP[e]&&"object"===s(this.oP[e]))for(var h=0;h<this.typeArray.length;h++)this.oP[e]instanceof this.typeArray[h].type&&(n=this.typeArray[h].name,null==this.oShablon[n]&&(this.oShablon[n]=[]),null!=this.typeArray[h].nameComp?(this.oShablon[n].push(e.replace("_","")),-1==this.arrType.indexOf(n)&&this.arrType.push(n)):this.oShablon[n].push(this.oP[e]));for(var n in this.oShablon)this.oShablon[n].sort()},this.component,this.arrPLPO=[],this.addComponent2=function(t,i,e){for(var s=!1,h=this.typeArray,n=0;n<h.length;n++)-1!=i.indexOf(h[n].name)&&null==h[n].nameComp&&(s=!0);1==s&&(this.component=new PLParamObject(this.content,this.otstup,0,this.down,1),this.component.otstup=this.otstup,this.arrPLPO.push(this.component),this.arrPLPO[this.arrPLPO.length-1].idArr=this.arrPLPO.length-1,this.component.parrentPLPO=this,this.component.width=this._width-2*this.otstup,this.component.funMinimize=this.funMin,null!=e&&(null!=e.title&&(this.component.title=e.title),null!=e.tipRide&&(this.component.tipRide=e.tipRide)),null!=this.dinFun&&(this.component.dinFun=this.dinFun))},this.funMin=function(t){a.funMinimize&&(a.draw(),a._height=this.hhhhh,a.funMinimize())},this.reDragObject=function(t){},this.creatToShablon=function(){for(var t in this.oShablon)for(var i=0;i<this.oShablon[t].length;i++)this.addTypeComp(t,i,this.oShablon[t][i])},this.addTypeComp=function(t,i,e){var s,h;if("boolean"==t&&(s="DCheckBox"),"numbercolor"==t&&(s="DColor"),"number"==t&&(s="DSliderBig"),"string"==t&&(s="DStringDrag"),"object"==t&&(s="DParamObject"),"comboBox"==t&&(s="DComboBox"),e&&"string"==t&&e)for(var n=0;n<this.arrayLabel.length;n++)this.arrayLabel[n]==e&&(s="DLabel");for(n=0;n<this.typeArray.length;n++)this.typeArray[n].name==t&&(s="DParamObject",null!=this.typeArray[n].nameComp&&(s=this.typeArray[n].nameComp));null==this.objComp[t+i]&&s&&(h=this.addComponent(s,t+i),this.funDragSlider(h))},this.textArea=void 0,this.initTA=function(){null==this.textArea&&(this.textArea=new DTextArea(this.w.content,2,2),this.textArea.width=this.w.width-4,this.textArea.height=75,this.textArea.fontSize=10)},this.setTextInput=function(){0==this.infoInt&&(this.objJSON=this.getObjStr(),this.textJSON=JSON.stringify(this.objJSON),this.initTA(),a.textArea.text=this.textJSON)},this.getObjStr=function(){var t,i={};for(var e in a.oShablon)for(var s=0;s<a.oShablon[e].length;s++){t=!1;for(var h=0;h<this.arrType.length;h++)this.arrType[h]==e&&(t=!0);if(0==t){for(h=0;h<this.arrComp2.length;h++)if("DParamObject"==this.arrComp2[h].type)for(var n in this.oP)this.oP[n]==this.arrComp2[h].param&&(i[n]=this.arrComp2[h].getObjStr())}else i[a.oShablon[e][s]]=a.oP[a.oShablon[e][s]]}return i},this.setObjStr=function(t){var i=JSON.parse(t);a.setObjStr2(i),a.korektObjParamMinMax(),a.funD&&a.funD()},this.setObjStr2=function(t){for(var i in t)if(null!=a.oP[i])if("object"===s(a.oP[i]))for(var e=0;e<this.arrComp2.length;e++)this.arrComp2[e].param==a.oP[i]&&this.arrComp2[e].setObjStr2(t[i]);else a.oP[i]=t[i],null!=a.objComp[i]&&(a.objComp[i].value=t[i]);this.korektObjParam()},this.korektObjParamMinMax=function(){if(0==this.usingShablon.length){if(null!=this.object&&null!=this.object.param)for(var t=0;t<this.arrComp2.length;t++)if(null!=this.object.param[this.arrComp2[t].param]&&"DSliderBig"==this.arrComp2[t].type){if(!1===slider.isDinamMinMax)return;this.omm=this.diapozon(this.oP[this.arrComp2[t].param]),this.arrComp2[t].min=this.omm.min,this.arrComp2[t].max=this.omm.max}a.korektObjParam()}},this.componentS,this.funComplit=function(t){null==t&&(t=a.compFinal),this.component=this,a.componentS=t,a.funDragSlider(this),a.setTextInput(),a.fun&&a.fun(t)},this.funD,this.funDrag=function(){a.funD&&a.funD()},this.pointObject={min:0,max:100},this.arrayNum=[-1e11,-1e8,-1e7,-1e6,-1e5,-1e4,-5e3,-1e3,-500,-100,-50,-1,0,1,50,100,500,1e3,5e3,1e4,1e5,1e6,1e7,1e8,1e11];var l;this.diapozon=function(t){if(0==this.usingShablon.length){this.pointObject.min=0,this.pointObject.max=10;for(var i=1;i<this.arrayNum.length-1;i++)if(this.arrayNum[i]==t)return this.pointObject.min=this.arrayNum[i-1],this.pointObject.max=this.arrayNum[i+1],this.pointObject;for(i=1;i<this.arrayNum.length-1;i++)if(this.arrayNum[i-1]<t&&this.arrayNum[i]>t)return this.pointObject.min=this.arrayNum[i-1],this.pointObject.max=this.arrayNum[i],this.pointObject;return this.pointObject}},this.omm,this.funDragSlider=function(t){if(t&&0==this.usingShablon.length&&"DSliderBig"==t.type){if(!1===t.isDinamMinMax)return;0==t.visiMinMax&&(t.visiMinMax=!0),this.omm=this.diapozon(t.value),t.min=this.omm.min,t.max=this.omm.max,t.value=t.value}},this.addPrefix=function(t,i,e){if("string"==t&&null!=e&&e.length<9){if(-1!=e.toLowerCase().indexOf("#"))return"numbercolor";if(-1!=e.toLowerCase().indexOf("0x"))return"numbercolor"}return t},this.formComp=function(t,i,e,s){var h={name:t+i,param:e,title:e};"number"==t&&(this.omm=this.diapozon(this.oP[e]),h.max=this.omm.max,h.min=this.omm.min),l=!1;for(var n=0;n<this.arrType.length;n++)this.arrType[n]==t&&(l=!0);if(0==l){for(var o in this.oP)if(this.oP[o]==e){h.title=o,h.tipRide=!1;for(var r=0;r<this.typeArray.length;r++)null!=this.typeArray[r].tipRide&&e instanceof this.typeArray[r].type&&(h.tipRide=this.typeArray[r].tipRide),null!=this.typeArray[r].typeYesArray&&e instanceof this.typeArray[r].type&&(h.typeYesArray=this.typeArray[r].typeYesArray),null!=this.typeArray[r].typeNotArray&&e instanceof this.typeArray[r].type&&(h.typeNotArray=this.typeArray[r].typeNotArray)}}else for(var a=0;a<this.typeArray.length;a++)t==this.typeArray[a].name&&null!=this.typeArray[a].typeYesArray&&(h.typeYesArray=this.typeArray[a].typeYesArray);"comboBox"==t&&(h.array=this.oP[e+"CB"][0],h.valueS=this.oP[e+"CB"][1]),s.arrComp.push(h)},this.startToShablon=function(){this.omm=this.diapozon(100);var t,i={};if(i.arrComp=[],a.object=i,1==this._priorityType&&0==this._ignTypeArr&&null!=this.typeYesArray){for(var e in r=[],this.oShablon)for(var s=0;s<this.oShablon[e].length;s++){if(t="null","string"==typeof this.oShablon[e][s])t=this.oShablon[e][s];else for(var h in this.oP)this.oP[h]==this.oShablon[e][s]&&(t=h);r.push(this.oShablon[e][s],e,t)}for(var n=0;n<this.typeYesArray.length;n++){t=this.typeYesArray[n];for(s=0;s<r.length;s+=3)t==r[s+2]&&this.formComp(r[s+1],n,r[s+2],i);0}}else for(var o in this.oShablon)for(s=0;s<this.oShablon[o].length;s++)this.formComp(o,s,this.oShablon[o][s],i);if(null!=this.typeYesArray&&0==this._ignTypeArr){var r=[];for(s=0;s<this.typeYesArray.length;s++)for(var u=0;u<i.arrComp.length;u++)if(i.arrComp[u].param==this.typeYesArray[s]){r.push(i.arrComp[u]);break}i.arrComp=r}i.param=this.oP,i.fun=this.funDrag,i.funComplit=this.funComplit,null!=this.funKorektObj&&this.funKorektObj(i),this.setObj(i)},this.creatUsingShablon=function(){for(var t=0;t<this.usingShablon.length;t++)0==this.isComp(this.usingShablon[t].tipe,this.usingShablon[t].name)&&this.addComponent(this.usingShablon[t].tipe,this.usingShablon[t].name,this.usingShablon[t]._param);var i={};i.arrComp=this.usingShablon,i.param=this.oP,i.fun=this.funDrag,i.funComplit=this.funComplit,null!=this.funKorektObj&&this.funKorektObj(i),this.setObj(i)},this.funWH=function(){this.w&&(this.w.width=this.width)},this.getObj=function(){};var c,d,f;this.ignBtn,this.createIgnBtn=function(){1==this._bWindow&&(this.ignBtn=new DButton(this.w,0,0,"+",function(){a.ignTypeArr=!a._ignTypeArr,1==a._ignTypeArr?this.text="-":this.text="+",a.funMinimize&&(a.w.minimize&&(a.w.minimize=!1),a.draw(),a._height=this.hhhhh,a.funMinimize())}),this.ignBtn.width=this.ignBtn.height=15,this.ignBtn.visible=this._actIgnBtn,this.ignBtn.y=7)},1==this._actIgnBtn&&this.createIgnBtn(),this._heightWindow=100,this.updateScroll=function(){if(this.scrollPane&&this.isScroll){for(var t=this.finalHeight,i=0;i<this.arrComp2.length;i++)if(this.arrComp2[i].visible&&this.arrComp2[i].pLColorPickerPanel&&this.arrComp2[i].pLColorPickerPanel.visible){var e=this.arrComp2[i].y+this.arrComp2[i].pLColorPickerPanel.y+this.arrComp2[i].pLColorPickerPanel.height;e>t&&(t+=e-t);break}this.scrollPane.width=this._width,this.scrollPane.widthContent=this._width,this.scrollPane.height=this._heightWindow,this.scrollPane.heightContent=t,this.scrollPane.update(),this.hhhhh=a._heightWindow,a._height=this.hhhhh}},this.initScroll=function(){null!=this.w&&null==this.scrollPane&&(this.scrollPane=new ScrollPane(this.w.content,0,0),this.scrollPane.addContent(this.content),this.scrollPane.boolPositOtctup=!0,a.updateScroll())},this.mouseup=function(t){for(var i=0;i<a.arrComp2.length;i++)c=a.arrComp2[i].param,null!=a.oP[c]&&null!=a.arrComp2[i].value&&a.oP[c]!=a.arrComp2[i].value&&(d=a.oP[c],"DSliderBig"==a.arrComp2[i].type&&(f=a.diapozon(d),a.arrComp2[i].min=f.min,a.arrComp2[i].max=f.max),a.arrComp2[i].value=d)};var p=!1;this.startUp=function(){1!=p&&(p=!0,0==dcmParam.mobile?document.addEventListener("mouseup",a.mouseup):document.addEventListener("touchend",a.mouseup))}}e.d(i,"a",function(){return h}),h.prototype.constructor=h,Object.defineProperties(h.prototype,{x:{set:function(t){this._x=t,this.w&&(this.w.x=this._x)},get:function(){return this._x}},y:{set:function(t){this._y=t,this.w&&(this.w.y=this._y)},get:function(){return this._y}},height:{set:function(t){},get:function(){return this._height}},heightWindow:{set:function(t){this._heightWindow=t,this.updateScroll()},get:function(){return this._heightWindow}},visible:{set:function(t){this._visible=t,this.w&&(this.w.visible=this._visible)},get:function(){return this._visible}},title:{set:function(t){this._title!=t&&(this._title=t,this.w&&(this.w.text=this._title))},get:function(){return this._title}},ignTypeArr:{set:function(t){this._ignTypeArr!=t&&(this._ignTypeArr=t,this.addObject(this.oP))},get:function(){return this._ignTypeArr}},actIgnBtn:{set:function(t){this._actIgnBtn!=t&&(this._actIgnBtn=t,this.ignBtn||this.createIgnBtn(),null!=this.ignBtn&&(this.ignBtn.visible=this._actIgnBtn))},get:function(){return this._actIgnBtn}},priorityType:{set:function(t){this._priorityType!=t&&(this._priorityType=t,this.addObject(this.oP))},get:function(){return this._priorityType}},isScroll:{set:function(t){this._isScroll!=t&&(this._isScroll=t,this.initScroll())},get:function(){return this._isScroll}}})},function(t,i,e){"use strict";e.d(i,"a",function(){return u});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,i){return(r=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var u=function(t){function i(t,e,n,r,u){var l;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(l=function(t,i){return!i||"object"!==h(i)&&"function"!=typeof i?a(t):i}(this,o(i).call(this,t))).type="DHelp";var c,d,f,p=a(a(l));return l.x=e||0,l.y=n||0,l._text="null",l._link=null,l._color="#ff0000",null==dcmParam&&(dcmParam=new DCM),null!=t&&null!=t.add&&t.add(a(a(l))),l._width=100,l._picWidth=32,l._height=100,l.dCont=new s.a(a(a(l))),l._color=dcmParam._color,l._colorText=dcmParam._colorText,l._otstup=dcmParam._otstup,l._fontSize=dcmParam._fontSize,l._boolLine=dcmParam._boolLine,l._fontFamily=dcmParam._fontFamily,l._borderRadius=0,l._boolNiz=!1,l.panel=new DPanel(l.dCont),l.panel.div.style.borderRadius=l._borderRadius+"px",l.panel.color1=l._color,l.label=new DLabel(l.dCont),l.label.colorText1=l._colorText,l.dragPic=function(){this.image.width=this._picWidth,this.image.height=this.image.picHeight*this.image.width/this.image.picWidth,this.image.visible=!0,this.draw()},l.image=new DImage(l.dCont,0,0,null,function(){p.dragPic()}),l.dContNiz=new s.a(l.dCont),l.dContNiz.visible=!0,l.image.visible=!1,l._wCan=20,l._hCan=15,l.canvas=void 0,l.ctx=void 0,l.initNiz=function(){null==this.canvas&&(this.canvas=document.createElement("canvas"),this.canvas.width=this._wCan,this.canvas.height=this._hCan,this.canvas.getContext&&(this.ctx=this.canvas.getContext("2d")),this.dContNiz.div.appendChild(this.canvas),this.drawNiz())},l.drawNiz=function(){null!=this.canvas&&(this.ctx.clearRect(0,0,this._wCan,this._hCan),1==this._boolLine&&(this.ctx.fillStyle=dcmParam.compToHexArray(dcmParam.hexDec(this._color),-20),this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this._wCan,0),this.ctx.lineTo(this._wCan/2,this._hCan),this.ctx.fill()),this.ctx.fillStyle=this._color,this.ctx.beginPath(),this.ctx.moveTo(1,0),this.ctx.lineTo(this._wCan-1,0),this.ctx.lineTo(this._wCan/2,this._hCan-1),this.ctx.fill())},l.plusLabelX=0,l.draw=function(){c=this._otstup+this.plusLabelX,0!=this.image.visible&&(this.image.x=this._otstup,this.image.y=this._otstup,c+=this._picWidth+this._otstup),this.label.x=c,this.label.width=this._width-c-this._otstup,f=this.label.getRect(),d=f.height+2*this._otstup,0!=this.image.visible&&this.image.height+2*this._otstup>d&&(d=this.image.height+2*this._otstup),this.panel.height=d,this.dCont.x=-this.width/2,1==this._boolNiz&&(this.dContNiz.y=d-2,d+=this._hCan,this.dContNiz.x=(this._width-this._wCan)/2),this.dCont.y=-d,this._height},l.text=r,l.link=u,l}var e,u,l;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&r(t,i)}(i,s["a"]),e=i,(u=[{key:"text",set:function(t){if(this._text!=t){if(this._text=t,this._text&&0!=this._text.lenght)return this.label.visible=!0,this.label.text=this._text,void this.draw();this.label.visible=!1,this.draw()}},get:function(){return this._text}},{key:"fontFamily",set:function(t){this._fontFamily!=t&&(this._fontFamily=t,this.label.fontFamily=this._fontFamily,this.draw())},get:function(){return this._fontFamily}},{key:"fontSize",set:function(t){this._fontSize!=t&&(this._fontSize=t,this.label.fontSize=t,this.draw())},get:function(){return this._fontSize}},{key:"boolLine",set:function(t){this._boolLine!=t&&(this._boolLine=t,this.panel.boolLine=t,this.drawNiz(),this.draw())},get:function(){return this._boolLine}},{key:"boolNiz",set:function(t){this._boolNiz!=t&&(this._boolNiz=t,this.initNiz(),this.dContNiz.visible=this._boolNiz,this.draw())},get:function(){return this._boolNiz}},{key:"otstup",set:function(t){this._otstup!=t&&(this._otstup=t,this.draw())},get:function(){return this._otstup}},{key:"picWidth",set:function(t){this._picWidth!=t&&(this._picWidth=t,0!=this.image.visible&&this.dragPic())},get:function(){return this._picWidth}},{key:"link",set:function(t){if(this._link!=t){if(this._link=t,this._link&&0!=this._link.lenght)return this.image.visible=!1,void(this.image.link=this._link);this.image.visible=!1,this.draw()}},get:function(){return this._link}},{key:"width",set:function(t){this._width!=t&&(this._width=t,this.panel.width=t,this.draw())},get:function(){return this._width}},{key:"borderRadius",set:function(t){this._borderRadius!=t&&(this._borderRadius=t,this.panel.div.style.borderRadius=this._borderRadius+"px")},get:function(){return this._borderRadius}},{key:"color",set:function(t){this._color!=t&&(this._color=t,this.panel.color1=this._color,this.drawNiz())},get:function(){return this._color}},{key:"colorText",set:function(t){this._colorText!=t&&(this._colorText=t,this.label.colorText1=this._colorText)},get:function(){return this._colorText}}])&&n(e.prototype,u),l&&n(e,l),i}()},function(t,i,e){"use strict";e.d(i,"a",function(){return u});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t,i){return!i||"object"!==h(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,i){return(a=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function u(t,i,e,h){s.a.call(this),this.type="DThree";var n=this;this.infoThis="\n        var dThree= new DThree(this.dCont,0,0,function(){})\n        можно расшаривать \n    ",this.dcmParam=dcmParam,this.dcmParam.add(this),null!=t&&null!=t.add&&t.add(this),this.fun=h,this.x=i,this.y=e,this._width=100,this._height=100,this._heightBut=24,this._widthBut=200,this._activMouse=!0,this._activId=-1,this.arr=[],this.arrBut=[],this.otstup=2,this.butOnPanel=10,this.butCount=0,this.butInProc=0,this.indexMouseDown=-1,this.indexOver=-1,this.lines=new d,this.lines.heightBut=this._heightBut,this.add(this.lines),this.content=new s.a,this.add(this.content),this.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.oldValue,this.folderOtstup=this.x,this.step_y=this.y,this.i_y=0,this.zebra=!1,this.color0=dcmParam.compToHexArray(dcmParam.hexDec(dcmParam._color1),-10),this.color1=dcmParam.compToHexArray(dcmParam.hexDec(dcmParam._color1),-20),this.color2=dcmParam._color1,this.color3="#ff0000",this.color4=dcmParam._color,this.lines.color=this.color1;var o=0;this._otst=this._heightBut;var r=-1;this.bufferOt=[],this.scrollBar=new DScrollBarV(this,0,0,function(){n.content.y=-(this.heightContent-this.height)*this.value/100,n.lines.y=-(this.heightContent-this.height)*this.value/100}),this.scrollBar.visible=!1,this.scrollBar.width=this._heightBut/4,this.scrollBar.but.radius=100,this.setArr=function(t){this.clear(),this.arr=t,r=-1,this.activId=-1,this.arrBut=this.convertArr(t),this.redrawThree()},this.updateThree=function(){this.clear(),r=-1,this.activId=-1,this.arrBut=this.convertArr(this.arr),this.redrawThree()},this.redrawThree=function(){this.butCount=0,this.content.y=0,this.lines.y=0,this.update(),this.drawAll()},this.convertArr=function(t){for(var i=[],e=0;e<t.length;e++)i.push(this.convertElem(t[e]));return i},this.convertElem=function(t){var i;return r++,(i=this.getElement()).id=r,i.obj=t,i.isFolder=!1,void 0!==t.arr&&t.arr.length>0&&(i.isFolder=!0,i.arrBut=this.convertArr(t.arr)),i},this.mouseUpFun,this.mouseOverFun,this.mouseOutFun,this.naId=-1,this.mouseEvent=function(t){"mouseDown"==t.sobEvent&&(null!=this.fun&&this.fun(t.obj),this._activId=t.id,this.openCloseObj(t,!t.isOpen)),"mouseOver"==t.sobEvent&&(t.isIndexOver=!0,this.naId=t.id,this.drawElement(this.arrBut),n.mouseOverFun&&n.mouseOverFun(t)),"mouseOut"==t.sobEvent&&(t.isIndexOver=!1,this.naId=-1,this.drawElement(this.arrBut),n.mouseOutFun&&n.mouseOutFun(t)),"mouseUp"==t.sobEvent&&n.mouseUpFun&&n.mouseUpFun(t)},this.openCloseObj=function(t,i){t.isFolder&&(t.isOpen=i),this.scrollSet(),this.clear(),this.update(),this.drawElement(this.arrBut),this.scrollBar.scrolValue=-this.content.y,this.content.y=-this.scrollBar.scrolValue,this.lines.y=-this.scrollBar.scrolValue,!t.isOpen&&this.content.y<0&&0==this.scrollBar.visible&&(this.content.y=0,this.lines.y=0)},this.getElement=function(){for(var t=0;t<this.bufferOt.length;t++)if(!this.bufferOt[t].life)return this.bufferOt[t].life=!0,this.bufferOt[t].isFolder=!1,this.bufferOt[t].isOpen=!1,this.bufferOt[t].arrBut=[],this.bufferOt[t].three=this,this.bufferOt[t].correctInfo=!1,this.bufferOt[t];var i=new l(this.content,0,0,function(){n.mouseEvent(this)},this);return i.three=this,this.bufferOt.push(i),i},this.clear=function(){for(var t=0;t<this.bufferOt.length;t++)this.bufferOt[t].life=!1,this.bufferOt[t].visible=!1},this.drawAll=function(){this.drawElement(this.arrBut),this.scrollBar.x=this._width-this.scrollBar.width,this.scrollBar.height=this._height},this.drawElement=function(t){for(var i=0;i<t.length;i++)t[i].isIndexOver?t[i]._color=this.color0:t[i]._color=t[i].zebra_color,t[i].id==this._activId&&(t[i]._color=this.color4),t[i].drawElement(),!0===t[i].isOpen&&this.drawElement(t[i].arrBut)},this.update=function(t,i){void 0===t&&(t=this.arrBut),i||(this.i_y=0,this.step_y=this.y,this.zebra=!1,this.butCount=0,this.folderOtstup=0);for(var e=0;e<t.length;e++){if(this.step_y=this.i_y*this._heightBut,this.i_y++,!1===this.zebra?(t[e].zebra_color=this.color1,this.zebra=!0):(t[e].zebra_color=this.color2,this.zebra=!1),t[e].y=this.step_y,t[e].x=this.folderOtstup-this._heightBut,t[e].visible=!0,t[e].level=o,this.butCount++,t[e].isFolder&&!0===t[e].isOpen)o++,this.folderOtstup+=this._otst,this.update(t[e].arrBut,!0),o--;else for(var s=0;s<t[e].arrBut.length;s++)t[e].arrBut[s].visible=!1;e===t.length-1?(t[e].isLast=!0,this.folderOtstup-=this._otst,o=0):t[e].isLast=!1}i||(this.lines.height=this.butCount*this._heightBut,this.lines.width=this._width,this.lines.redrawLines(t),this.butInProc=100/this.butCount,this.scrollSet())},this.scrollSet=function(){this.butCount*this._heightBut<=this._height?this.scrollBar.visible=!1:(this.scrollBar.visible=!0,this.scrollBar.height=this._height,this.scrollBar.heightContent=this.butCount*this._heightBut),this.scrollBar.height<this._heightBut&&(this.scrollBar.visible=!1)};var a,u=[];this.openTillId=function(t){u=[],this.findPath(this.arrBut,t);for(var i=0;i<u.length;i++)this.openId(u[i])},this.findPath=function(t,i){for(var e,s=0,h=-1;s<t.length;s++){if(t[s].id==i)return u;if(t[s].arrBut.length>0&&(-1==h&&(h=u.length),u.push(t[s].id),null!=(e=this.findPath(t[s].arrBut,i))))return e;-1!=h&&u.splice(h,1)}return null},this.openId=function(t){for(var i=0;i<this.bufferOt.length;i++)this.bufferOt[i].id==t&&this.openCloseObj(this.bufferOt[i],!0)},this.scrolPos=function(t){1==t?n.scrollBar.value=this.content.y/(this._height-n.scrollBar.heightContent)*100:(n.content.y=n.scrollBar.value/100*(this._height-n.scrollBar.heightContent),n.lines.y=n.scrollBar.value/100*(this._height-n.scrollBar.heightContent))},this.sahDelta=10,this.mousewheel=function(t){if(0!=n.scrollBar.visible){var i=-1*t.deltaY;null!=t.wheelDelta&&(i=t.wheelDelta>0?1:-1),i*=-1,a=n.scrollBar.heightContent-n.scrollBar.height;var e=n.content.y-n.sahDelta*i;e<-a&&(e=-a),n.content.y=e,n.lines.y=e,i<0&&(n.content.y>=0?(n.content.y=0,n.lines.y=0):(n.content.y+=n.sahDelta,n.lines.y+=n.sahDelta)),n.scrolPos(!0)}},0==dcmParam.mobile&&this.div.addEventListener("mousewheel",this.mousewheel);var c=void 0;this.dragActiv=!1,this.mouseDown=function(t){n.dragActiv=!0,c=void 0,document.body.style.pointerEvents="none"},this.mouseup=function(t){n.dragActiv=!1,c=void 0,document.body.style.pointerEvents=null,-1!=n.naId&&n.bufferOt[n.naId]&&n.mouseUpFun&&n.mouseUpFun(n.bufferOt[n.naId])};var f=0;this.mousemove=function(t){0!=n.dragActiv&&0!=n.scrollBar.visible&&(a=n.scrollBar.heightContent-n.scrollBar.height,0==dcmParam.mobile?(null==c&&(c={y:t.clientY,y1:n.content.y}),c.ys=t.clientY):(null==c&&(c={y:t.targetTouches[0].clientY,y1:n.content.y}),c.ys=t.targetTouches[0].clientY),(f=c.y1-(c.y-c.ys))>=0&&(f=0),f<=-(a+n.otstup)&&(f=-(a+n.otstup)),n.content.y=f,n.lines.y=f,n.scrolPos(!0))},0==dcmParam.mobile?(this.content.div.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseup)):(this.content.div.addEventListener("touchstart",this.mouseDown),window.addEventListener("touchend",this.mouseup)),dcmParam.addFunMove(n.mousemove),this.objectNa,this.arrObj,this.key,this.key1,this.setObj=function(t,i,e){this.objectNa=t,this.key=i,null==i&&(this.key="children"),this.key1=e,null==e&&(this.key1="name"),this.arrObj=this.getArr(t,this.key,this.key1),this.setArr(this.arrObj)},this.getArr=function(t,i,e){var s=[];if(s[0]={},s[0].text=t[e],s[0].obj=t,null!=t[i]&&null!=t[i].length&&0!=t[i].length){s[0].arr=[];for(var h=0;h<t[i].length;h++)s[0].arr[h]=this.getArr(t[i][h],i,e)[0]}return s};this.setArr([{text:"Папка 1",arr:[{text:"Вложенный 1"},{text:"Вложенный 2"},{text:"Вложенный 2"}]}]),this.updateThree()}function l(t,i,e,h,n){var o=this;s.a.call(this),this.type="DObjectThree",t.add(this),this.par=n,this.fun=h,this.x=i,this.y=e,this._width=100,this._height=20,this._title="",this._color="#fff000",this.arrBut=[],this.life=!0,this.zebra_color=this._color,this.otstup=4,this.id=-1,this.isLast=!1,this.level=0,this.visible=!1,this.isFolder,this.isOpen=!1,this.isIndexOver=!1,this.three=null,this.inited=!1,this.init=function(){this.content=new s.a,this.add(this.content),this.panel=new DPanel(this.content,0,0),this.panel.boolLine=!1,this.icon_type=2,this.icon=new c(this),this.panel1=new DPanel(this,0,0),this.panel1.alpha=0,this.panel.height=this.panel1.height=this._height,this.label=new DLabel(this.content,this.x,this.y,this.title),this.label.y=(this._height-this.label.height)/2,this.label.div.style.pointerEvents="none",this.sobEvent="null",this.mouseOver=function(t){o.sobEvent="mouseOver",null!=o.fun&&o.fun()},this.mouseOut=function(t){o.sobEvent="mouseOut",null!=o.fun&&o.fun()},this.mouseDown=function(t){o.sobEvent="mouseDown",null!=o.fun&&o.fun()},0==dcmParam.mobile?(this.panel1.div.addEventListener("mousedown",this.mouseDown),this.panel1.div.addEventListener("mouseout",this.mouseOut),this.panel1.div.addEventListener("mouseover",this.mouseOver)):this.panel1.div.addEventListener("touchstart",this.mouseDown)},this.correctInfo=!1,this.setInfo=function(){this.title=this.obj.text,this.width=this.three._width,this.height=this.three._heightBut},this.drawElement=function(){if(this.inited||(this.init(),this.inited=!0),this.correctInfo||(this.setInfo(),this.correctInfo=!0),this.icon.isLast=this.isLast,this.icon.level=this.level,this.icon._height=this._height,this.icon._width=this._height,this.icon.isOpen=this.isOpen,this.icon.isLast=this.isLast,this.isFolder?this.icon.icon_type=1:this.icon.icon_type=2,this.icon.clear(),this.icon.drawIcon(),this.label.visible=!0,this.rect=this.label.getRect(),this._height<24){var t=Math.round(this._height)-8;t<4&&(t=4),this.label.fontSize=t}else this.label.fontSize=16;this.label.y=(this._height-this.rect.height)/2,this.panel.x=2*this.icon.but._width+3+this.otstup,this.label.x=2*this.icon.but._width+2*this.otstup,this.panel.color=this._color,this.panel.width=this._width,this.panel1.x=-this.x,this.panel1.width=this.par.width}}function c(t,i,e,h,n,o){s.a.call(this),this.type="DIconThree";this.cont=t,this.par=t,this.x=i,this.y=e,this._width=100,this._height=this.par._height,this.color="#777777",this.otstup=3,this.otstupIcon=2*this._width,this.cont.add(this),this.content=new s.a,this.add(this.content),this.but=new DImage(this,0,0),this.content.add(this.but),this.but.div.style.pointerEvents="none",this.base1="data:image/png;base64,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",this.base2="data:image/png;base64,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",this.base3="data:image/png;base64,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",this.p1={},this.isOpen=!1,this.isLast=!1,this.lineArr=[],this.level=0,this.dist=this._height,this.drawIcon=function(){this.p1.x=this._width/2,this.p1.y=this._height/3,this.p1.width=this.p1.x+this._width/4,this.but.width=this._width-this.otstup,this.but.height=this._height-this.otstup,this.but.x=this.but.width+this.otstup,this.dist=this._height,1==this.icon_type?this.isOpen?this.but.link=this.base1:this.but.link=this.base2:2==this.icon_type&&(this.but.link=this.base3);for(var t=1;t<=this.level;t++);},this.clear=function(){}}u.prototype=Object.create(s.a.prototype),u.prototype.constructor=u,Object.defineProperties(u.prototype,{height:{set:function(t){t!=this._height&&(this._height=t,this.scrollBar.height=t,this.content.y=0,this.lines.y=0,this.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.redrawThree())},get:function(){return this._height}},width:{set:function(t){t!=this._width&&(this._width=t,this.scrollBar.x=t-this.scrollBar.width,this.div.style.clip="rect(1px "+this._width+"px "+this._height+"px 0px)",this.redrawThree())},get:function(){return this._width}},heightBut:{set:function(t){if(t!=this._heightBut){this._heightBut=t,this.lines.heightBut=this._heightBut,this._otst=this._heightBut;for(var i=0;i<this.bufferOt.length;i++)this.bufferOt[i].inited&&(this.bufferOt[i].height=this._heightBut);this.lines.heightBut=t,this.redrawThree()}},get:function(){return this._heightBut}},widthBut:{set:function(t){if(t!=this._widthBut){this._widthBut=t;for(var i=0;i<this.bufferOt.length;i++)this.bufferOt[i].inited&&(this.bufferOt[i].width=this._widthBut);this.redrawThree()}},get:function(){return this._widthBut}},activMouse:{set:function(t){this._activMouse!=t&&(this._activMouse=t,this.scrollBar.activMouse=t,this.graphCover.visible=!t)},get:function(){return this._activMouse}},activId:{set:function(t){this.openTillId(t);for(var i=0;i<this.bufferOt.length;i++)if(this.bufferOt[i].id==t){if(this.bufferOt[i].mouseDown(),this._activId=t,!this.scrollBar.visible)return;var e=-Math.min(this.bufferOt[i].y,this.scrollBar.heightContent-this.scrollBar.height);return this.content.y=e,this.lines.y=e,void this.scrolPos(!0)}this._activId=-1},get:function(){return this._activId}}}),l.prototype=Object.create(s.a.prototype),l.prototype.constructor=l,Object.defineProperties(l.prototype,{title:{set:function(t){t!=this._title&&(this._title=t,this.label.text=this._title)},get:function(){return this._title}},width:{set:function(t){t!=this._width&&(this._width=t,this.panel.width=this._width,this.panel1.width=this._width)},get:function(){return this._width}},height:{set:function(t){t!=this._height&&(this._height=t,this.panel.height=this.panel1.height=this._height)},get:function(){return this._height}}}),c.prototype=Object.create(s.a.prototype),c.prototype.constructor=c;var d=function(t){function i(t,e,s,h){var n;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o(this,r(i).call(this,t))).canvas=document.createElement("canvas"),n.div.appendChild(n.canvas),n.ctx=n.canvas.getContext("2d"),n.lineLength=.4,n}var e,h,u;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&a(t,i)}(i,s["a"]),e=i,(h=[{key:"redrawLines",value:function(t){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawLines(t,-this._heightBut/2,0)}},{key:"drawLines",value:function(t,i,e){var s=new Path2D,h=0;this.ctx.strokeStyle=this.color,s.moveTo(i,e),e+=this._heightBut/2,s.lineTo(i,e);var n=!0,o=!1,r=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;if(s.lineTo(i+this._heightBut*this.lineLength,e),s.moveTo(i,e),l.isFolder&&!0===l.isOpen){var c=this.drawLines(l.arrBut,i+this._heightBut,e+this._heightBut/2);e+=this._heightBut*c,h+=c}l.isLast||(e+=this._heightBut,s.lineTo(i,e))}}catch(t){o=!0,r=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw r}}return this.ctx.stroke(s),h+t.length}},{key:"width",set:function(t){this.canvas.width!=t&&(this.canvas.width=t)},get:function(){return this.canvas.width}},{key:"height",set:function(t){this.canvas.height!=t&&(this.canvas.height=t)},get:function(){return this.canvas.height}},{key:"heightBut",set:function(t){this._heightBut!=t&&(this._heightBut=t)},get:function(){return this._heightBut}},{key:"color",set:function(t){this.color!==t&&(this._color=t)},get:function(){return this._color}}])&&n(e.prototype,h),u&&n(e,u),i}()},function(t,i,e){"use strict";function s(t){var i=this;this.type="DDragPic",this.fun=void 0,this.dC=t,this._width=100,this._height=100,this._active=!1,this.otstup=2,this.otstup2=10,this.dCont=new DCont,this.fUp=void 0,this.object=void 0,this._x=0,this._y=0,this.pointZdvig={x:0,y:0},this.whBase=null,this.image=new DImage(this.dCont,0,0),this.image.div.style.pointerEvents="none",this.dCont.div.style.pointerEvents="none",this.dCont.div.style.userSelect="none",this.image.div.style.userSelect="none",this.array=[];var e=void 0;this.scale=1,this.devas=dcmParam.mobile;var s,h,n;this.oSc=(n=1,(h="x")in(s={x:0,y:0})?Object.defineProperty(s,h,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[h]=n,s),this.tween=void 0,window.TWEEN&&(this.tween=new TWEEN.Tween(this.dCont)),this.start=function(t,i,s,h,n){null!=this.whBase&&(t=this.whBase),this.image.link=i,this.image.width=t,this.image.height=t,this.image.x=-t/2,this.image.y=-t/2,this.fUp=h,e=void 0,this.dCont.alpha=0,this.dC.add(this.dCont),this.object=s,this.link=i,this.active=!0,this.fXYS(this.dC,this.oSc,!0),this.dCont.x=dcmParam.globXY.x/this.oSc.s,this.dCont.y=dcmParam.globXY.y/this.oSc.s,dcmParam.addFunMove(this.mousemove),this.tween&&this.tween.to({alpha:1},500).start()},this.fXYS=function(t,e,s){null!=s&&(e.x=0,e.y=0,e.s=1),e.x*=t._scale,e.y*=t._scale,e.s*=t._scale,e.x+=t.position._x,e.y+=t.position._y,0==t.visible&&(e.y+=99999),null!=t.parent&&i.fXYS(t.parent,e)},this.arrFunUp=[],this.addFunAp=function(t){this.arrFunUp.push(t)},this.mouseup=function(t){if(null!=e)for(var s=0;s<i.arrFunUp.length;s++)i.arrFunUp[s](t);i.stop()},this.stop=function(){i.fUp&&i.fUp(),dcmParam.removeFunMove(i.mousemove),i.dCont&&i.dCont.parent&&i.dCont.parent.remove(i.dCont),i.object=void 0,e=void 0},this.mousemove=function(t){null==e&&(e=0==i.devas?{x:t.clientX,y:t.clientY}:{x:t.touches[0].clientX,y:t.touches[0].clientY}),0==i.devas?(i._x=t.clientX,i._y=t.clientY):(i._x=t.touches[0].clientX,i._y=t.touches[0].clientY),i.dCont.x=i._x/i.oSc.s+i.pointZdvig.x,i.dCont.y=i._y/i.oSc.s+i.pointZdvig.y,null==i.tween&&i.dCont.alpha<1&&(i.dCont.alpha+=.1)},this.getDistance=function(t,i){return null==t?0:(null==i&&(i=rezNull),i=i||rezNull,Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)))},0==i.devas?document.addEventListener("mouseup",i.mouseup):document.addEventListener("touchend",i.mouseup),this.mouseup1=function(t){i.mouseStop(),null!=i.fClik&&i.fClik()},this.pointNull={x:0,y:0},this.getDistance=function(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))},this.sp,this.point={x:0,y:0},this.posit={x:0,y:0},this.mousemove1=function(t){var s,h;null==e&&(e=0==i.devas?{x:t.clientX,y:t.clientY}:{x:t.touches[0].clientX,y:t.touches[0].clientY},i.sp=e),0==i.devas?(s=t.clientX-e.x,h=t.clientY-e.y,i.posit.x=t.clientX,i.posit.y=t.clientY):(s=t.touches[0].clientX-e.x,h=t.touches[0].clientY-e.y,i.posit.x=t.touches[0].clientX,i.posit.y=t.touches[0].clientY),i.point.x=s,i.point.y=h;var n=i.getDistance(i.point,i.pointNull);if(i.fDDD&&i.fDDD(),n>i.dist)return i.fClik=void 0,i.mouseStop(),void(null!=i.fDrag&&i.fDrag())},this.mouseStop=function(){e=void 0,0==i.devas?document.removeEventListener("mouseup",i.mouseup1):document.removeEventListener("touchend",i.mouseup1),dcmParam.removeFunMove(i.mousemove1)},this.dist=0,this.fClik=0,this.fDrag=0,this.fDDD=void 0,this.testDrag=function(t,s,h,n){e=void 0,this.dist=t,this.fClik=s,this.fDrag=h,this.fDDD=n,0==this.devas?document.addEventListener("mouseup",i.mouseup1):document.addEventListener("touchend",i.mouseup1),dcmParam.addFunMove(this.mousemove1)},Object.defineProperty(this,"active",{set:function(t){this._active!=t&&(this._active=t,1==t?0==this.devas?document.addEventListener("mouseup",this.mouseup):document.addEventListener("touchend",this.mouseup):(this.object=void 0,0==this.devas?document.removeEventListener("mouseup",this.mouseup):document.removeEventListener("touchend",this.mouseup)))},get:function(){return this._active}})}e.d(i,"a",function(){return s})},function(t,i,e){"use strict";e.d(i,"a",function(){return u});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,i){return(r=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var u=function(t){function i(t,e,n,r,u,l){var c;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(c=function(t,i){return!i||"object"!==h(i)&&"function"!=typeof i?a(t):i}(this,o(i).call(this,t))).type="DHole";var d,f,p,g,m,_,y,v=a(a(c));return c.x=e||0,c.y=n||0,c.rect={x:0,y:0,width:200,height:200},r&&r.width&&(c.rect=r),c.fun=u,c.bool=l,null==dcmParam&&(dcmParam=new DCM),null!=t&&null!=t.add&&t.add(a(a(c))),c.dCont=new s.a(a(a(c))),c.dCont1=new s.a(c.dCont),c._width=500,c._height=500,c._boolFont=!0,c._glowColor="#000000",c._glowSah=0,c._radius=10,c.radBut=2*c._radius,c._alpha=.2,c.arrPoint=[],c.arrBut=[],c.arrBut1=[],c.arrBut2=[],c.arrCC=[],c._colorAct=dcmParam.color,c._colorButton=dcmParam.color,c._borderRadius=0,c._lineSize=4,c._borderAlpha=1,c.oca=void 0,c.button,c.canvas,c.ctx,c.init=function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.style.position="fixed",this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.canvas.style.top=-this._lineSize/2+"px",this.canvas.style.left=-this._lineSize/2+"px",this.dCont1.div.appendChild(this.canvas),this.button=new DButton(this.dCont,0,0,"",null),this.button.idArr=0,this.button.tip=2,this.button.alpha=0,this.button.fun_mousedown=this.sobBut,this.canvas.rect;for(var t=0;t<4;t++){var i=new s.a(this.dCont);this.arrCC.push(i),this.arrPoint.push({x:0,y:0,scale:1,tip:0,idArr:t}),this.bool||((d=new DButton(i,0,0,"",null)).idArr=t,d.tip=0,d.alpha=0,d.fun_mousedown=this.sobBut,this.arrBut1.push(d),(d=new DButton(i,0,0,"",null)).idArr=t,d.tip=0,d.alpha=this._borderAlpha,d.fun_mousedown=this.sobBut,this.arrBut2.push(d)),(d=new DButton(i,-this.radBut/2,-this.radBut/2,"",null)).idArr=t,d.tip=1,d.width=d.height=this.radBut,d.fun_mousedown=this.sobBut,this.arrBut.push(d)}},c.drag=function(){this.rect.x<0&&(this.rect.x=0),this.rect.y<0&&(this.rect.y=0),this.rect.width+this.rect.x>this._width&&(this.rect.width=this._width-this.rect.x),this.rect.height+this.rect.y>this._height&&(this.rect.height=this._height-this.rect.y);this.radBut;this.arrPoint[0].x=this.rect.x,this.arrPoint[0].y=this.rect.y,this.arrPoint[1].x=this.rect.x+this.rect.width,this.arrPoint[1].y=this.rect.y,this.arrPoint[2].x=this.rect.x+this.rect.width,this.arrPoint[2].y=this.rect.y+this.rect.height,this.arrPoint[3].x=this.rect.x,this.arrPoint[3].y=this.rect.y+this.rect.height,this.bool||(this.arrBut1[0].x=this.radBut/2,this.arrBut1[0].width=this.rect.width-this.radBut,this.arrBut1[0].y=-this.radBut/2,this.arrBut1[0].height=this.radBut,this.arrBut1[1].x=-this.radBut/2,this.arrBut1[1].width=this.radBut,this.arrBut1[1].y=this.radBut/2,this.arrBut1[1].height=this.rect.height-this.radBut,this.arrBut1[2].x=this.radBut/2-this.rect.width,this.arrBut1[2].width=this.rect.width-this.radBut,this.arrBut1[2].y=-this.radBut/2,this.arrBut1[2].height=this.radBut,this.arrBut1[3].x=-this.radBut/2,this.arrBut1[3].width=this.radBut,this.arrBut1[3].y=this.radBut/2-this.rect.height,this.arrBut1[3].height=this.rect.height-this.radBut,this.arrBut2[0].x=this.radBut/2,this.arrBut2[0].width=this.rect.width-this.radBut,this.arrBut2[0].y=-this._lineSize/2,this.arrBut2[0].height=this._lineSize,this.arrBut2[1].x=-this._lineSize/2,this.arrBut2[1].width=this._lineSize,this.arrBut2[1].y=this.radBut/2,this.arrBut2[1].height=this.rect.height-this.radBut,this.arrBut2[2].x=this.radBut/2-this.rect.width,this.arrBut2[2].width=this.rect.width-this.radBut,this.arrBut2[2].y=-this._lineSize/2,this.arrBut2[2].height=this._lineSize,this.arrBut2[3].x=-this._lineSize/2,this.arrBut2[3].width=this._lineSize,this.arrBut2[3].y=this.radBut/2-this.rect.height,this.arrBut2[3].height=this.rect.height-this.radBut);for(var t=0;t<this.arrPoint.length;t++)this.arrCC[t].x=this.arrPoint[t].x,this.arrCC[t].y=this.arrPoint[t].y;this.button.x=this.rect.x-this.radBut/2,this.button.y=this.rect.y-this.radBut/2,this.button.width=this.rect.width+2*this.radBut/2,this.button.height=this.rect.height+2*this.radBut/2,this.ctx.clearRect(0,0,this._width+this._lineSize,this._height+this._lineSize);var i=this._lineSize/2;1==this._boolFont&&(this.ctx.fillStyle="rgba("+this._oca.r+", "+this._oca.g+", "+this._oca.b+", "+this._alpha+")",this.ctx.fillRect(i,i,this.rect.x,this._height),this.ctx.fillRect(this.rect.x+i,i,this.rect.width,this.rect.y),this.ctx.fillRect(this.rect.x+i,this.rect.y+this.rect.height+i,this.rect.width,this._height-(this.rect.y+this.rect.height)),this.ctx.fillRect(this.rect.x+this.rect.width+i,i,this._width-this.rect.width-this.rect.x,this._height),this.ctx.fill()),this.bool&&this._lineSize>0&&(this.ctx.lineWidth=this._lineSize,this.ctx.strokeStyle=this._colorButton,this.ctx.strokeRect(this.rect.x+i,this.rect.y+i,this.rect.width,this.rect.height)),this.fun("drag")},c.min=100,c.isHiddenX=!1,c.isHiddenY=!1,c.korektDrag=function(t){if(2==this.tip)return f.x=this.pointStart.x+v.point.x,f.y=this.pointStart.y+v.point.y,f.x<0&&(f.x=0),f.y<0&&(f.y=0),f.x+this.rect.width>this._width&&(f.x=this._width-this.rect.width),f.y+this.rect.height>this._height&&(f.y=this._height-this.rect.height),this.rect.x=this.arrPoint[0].x,this.rect.y=this.arrPoint[0].y,void this.drag();if(1==t){var i=!0;0!=this.tip||0!=this.idArr&&2!=this.idArr||(i=!1);var e=!0;0!=this.tip||1!=this.idArr&&3!=this.idArr||(e=!1),i&&(f.x=this.pointStart.x+v.point.x),e&&(f.y=this.pointStart.y+v.point.y),f.x<0&&(f.x=0),f.y<0&&(f.y=0)}if(1==p.bx)if(p.x=f.x,p.byn>0){if(f.y>p.y-this.min)return f.y=p.y-this.min,void this.korektDrag()}else if(f.y<p.y+this.min)return f.y=p.y+this.min,void this.korektDrag();if(1==p.by)if(p.y=f.y,p.bxn>0){if(f.x>p.x-this.min)return f.x=p.x-this.min,void this.korektDrag()}else if(f.x<p.x+this.min)return f.x=p.x+this.min,void this.korektDrag();if(1==g.bx)if(g.x=f.x,g.byn>0){if(f.y>g.y-this.min)return f.y=g.y-this.min,void this.korektDrag()}else if(f.y<g.y+this.min)return f.y=g.y+this.min,void this.korektDrag();if(1==g.by)if(g.y=f.y,g.bxn>0){if(f.x>g.x-this.min)return f.x=g.x-this.min,void this.korektDrag()}else if(f.x<g.x+this.min)return f.x=g.x+this.min,void this.korektDrag();!this.bool&&this.isHiddenX&&(this.arrBut2[0].visible=!0,this.arrBut2[2].visible=!0),!this.bool&&this.isHiddenY&&(this.arrBut2[1].visible=!0,this.arrBut2[3].visible=!0),this.rect.x=this.arrPoint[0].x,this.rect.y=this.arrPoint[0].y,this.rect.width=this.arrPoint[2].x-this.arrPoint[0].x,this.rect.height=this.arrPoint[2].y-this.arrPoint[0].y,this.fun("dragXY"),this.drag()},c.tip,c.idArr,c.sobBut=function(){0==dcmParam.mobile?document.addEventListener("mousedown",v.mousedown.bind(this),{once:!0}):document.addEventListener("touchend",v.mousedown.bind(this),{once:!0})},c.mousedown=function(t){var i,e=v.canvas.getBoundingClientRect(),s=t.clientX/v.scaleDrag.s-e.left/v.scaleDrag.s-v.arrPoint[0].x+v.radBut/2-v._lineSize/2,h=t.clientY/v.scaleDrag.s-e.top/v.scaleDrag.s-v.arrPoint[0].y+v.radBut/2-v._lineSize/2;if(h<=v.radBut&&(i=0),s>=v.rect.width&&s<=v.rect.width+v.radBut&&(i=1),h>=v.rect.height&&h<=v.rect.height+v.radBut&&(i=2),s<=v.radBut&&(i=3),v.tip=this.tip,v.idArr=this.idArr,2==v.tip&&v.bool&&i>=0&&(v.idArr=i,v.tip=v.arrPoint[i].tip),2==v.tip)return f=v.arrPoint[0],void v.start(f);f=v.arrPoint[v.idArr],p=v.arrPoint[(v.idArr+1)%4],g=v.arrPoint[(v.idArr+3)%4],v.arrPoint[(v.idArr+2)%4],f.x==p.x?(p.bx=!0,p.by=!1):(p.bx=!1,p.by=!0),p.bxn=p.x-f.x,p.byn=p.y-f.y,f.x==g.x?(g.bx=!0,g.by=!1):(g.bx=!1,g.by=!0),g.bxn=g.x-f.x,g.byn=g.y-f.y,v.start(f)},c.mouseup=function(t){document.body.style.pointerEvents="auto",m=void 0,0==dcmParam.mobile?document.removeEventListener("mouseup",v.mouseup):document.removeEventListener("touchend",v.mouseup),dcmParam.removeFunMove(v.mousemove)},c.point={x:0,y:0},c.pointStart={x:0,y:0},c.object=void 0,c.scaleStart=1,c.mousemove=function(t){0==dcmParam.mobile?(null==m&&(m={x:t.clientX,y:t.clientY,b:!1}),_=(t.clientX-m.x)/v.scaleDrag.s,y=(t.clientY-m.y)/v.scaleDrag.s):(null==m&&(m={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}),_=(t.targetTouches[0].clientX-m.x)/v.scaleDrag.s,y=(t.targetTouches[0].clientY-m.y)/v.scaleDrag.s),v.point.x=_,v.point.y=y,v.korektDrag(!0)},c.start=function(t){document.body.style.pointerEvents="none",this.appPoint(),m=void 0,this.object=t,t&&(this.pointStart.x=t.x,this.pointStart.y=t.y),this.scaleDrag.s=this.object.scale,this.testScale(v,this.scaleDrag),0==dcmParam.mobile?document.addEventListener("mouseup",v.mouseup):document.addEventListener("touchend",v.mouseup),dcmParam.addFunMove(v.mousemove)},c.testScale=function(t,i){t.scale&&(i.s*=t.scale),t.parent&&v.testScale(t.parent,i)},c.scaleDrag={s:1},c.appPoint=function(){},c.setRect=function(t,i,e,s,h){this.rect.x=t,this.rect.y=i,this.rect.width=e,this.rect.height=s,null==h&&this.drag()},c.parseColor=function(t){var i=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(t);return{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}},c._oca=c.parseColor(c._colorAct),c.init(),c.drag(),0!=dcmParam.borderRadius&&(c.borderRadius=dcmParam.borderRadius),c}var e,u,l;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&r(t,i)}(i,s["a"]),e=i,(u=[{key:"lineSize",set:function(t){var i=2*Math.round(t/2);if(i<0&&(i=0),this._lineSize!=i){if(this._lineSize=i,!this.bool&&this._lineSize<=0)for(var e=0;e<4;e++)this.arrBut2[e].alpha=0;if(!this.bool&&this._lineSize>0)for(e=0;e<4;e++)this.arrBut2[e].alpha=this._borderAlpha;this.canvas.style.top=-this._lineSize/2+"px",this.canvas.style.left=-this._lineSize/2+"px",this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.drag()}},get:function(){return this._lineSize}},{key:"borderRadius",set:function(t){if(this._borderRadius!=t){this._borderRadius=t;for(var i=0;i<4;i++)this.arrBut[i].borderRadius=this._borderRadius}},get:function(){return this._borderRadius}},{key:"glowSah",set:function(t){if(this._glowSah!=t){this._glowSah=t;for(var i=0;i<4;i++)this.arrBut[i].glowSah=this._glowSah}},get:function(){return this._glowSah}},{key:"glowColor",set:function(t){if(this._glowColor!=t){this._glowColor=t;for(var i=0;i<4;i++)this.arrBut[i].glowColor=this._glowColor}},get:function(){return this._glowColor}},{key:"colorButton",set:function(t){if(this._colorButton!=t){this._colorButton=t;for(var i=0;i<4;i++)this.arrBut[i].color=this._colorButton,this.bool||(this.arrBut2[i].color=this._colorButton);this.bool&&this.drag()}},get:function(){return this._colorButton}},{key:"colorAct",set:function(t){this._colorAct!=t&&(this._colorAct=t,this._oca=this.parseColor(this._colorAct),this.drag())},get:function(){return this._colorAct}},{key:"boolFont",set:function(t){this._boolFont!=t&&(this._boolFont=t,this.drag())},get:function(){return this._boolFont}},{key:"alpha",set:function(t){this._alpha!=t&&(this._alpha=t,this.drag())},get:function(){return this._alpha}},{key:"radius",set:function(t){if(this._radius!=t){this._radius=t,this.radBut=2*this._radius;for(var i=0;i<4;i++)this.arrBut[i].width=this.radBut,this.arrBut[i].height=this.radBut,this.arrBut[i].x=-this.radBut/2,this.arrBut[i].y=-this.radBut/2;this.drag()}},get:function(){return this._radius}},{key:"width",set:function(t){if(this._width!=t){if(this.rect.x+this.rect.width+this._lineSize>=this._width){if(1==this.rect.width&&this._width>t)return;this.rect.x-=Math.abs(this._width-t),!this.bool&&this.rect.width<=this.radBut&&this._width>t&&(this.arrBut2[0].visible=!1,this.arrBut2[2].visible=!1,this.isHiddenX=!0)}this._width=t,this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.drag()}},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){if(this.rect.y+this.rect.height+this._lineSize>=this._height){if(1==this.rect.height&&this._height>t)return;this.rect.y-=Math.abs(this._height-t),!this.bool&&this.rect.height<=this.radBut&&this._height>t&&(this.arrBut2[1].visible=!1,this.arrBut2[3].visible=!1,this.isHiddenY=!0)}this._height=t,this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.drag()}},get:function(){return this._height}}])&&n(e.prototype,u),l&&n(e,l),i}()},function(t,i,e){"use strict";e.d(i,"a",function(){return u});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,i){return(r=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var u=function(t){function i(t,e,n,r,u,l){var c;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(c=function(t,i){return!i||"object"!==h(i)&&"function"!=typeof i?a(t):i}(this,o(i).call(this,t))).type="DHoleDrag";var d,f=a(a(c));c.x=e||0,c.y=n||0,c.rect={x:0,y:0,width:200,height:100},c.rect={x:0,y:0,width:100,height:200},r&&r.width&&(c.rect=r),c.fun=u,c.bool=l,null==dcmParam&&(dcmParam=new DCM),null!=t&&null!=t.add&&t.add(a(a(c))),c.dCont=new s.a(a(a(c))),c.dCont1=new s.a(c.dCont),c._width=500,c._height=500,c._boolFont=!0,c._glowColor="#000000",c._glowSah=0,c._radius=10,c._ratio=c.rect.width/c.rect.height,c.radBut=2*c._radius,c._alpha=.2,c.arrPoint=[],c.arrBut=[],c.arrBut1=[],c.arrBut2=[],c.arrCC=[],c._colorAct=dcmParam.color,c._colorButton=dcmParam.color,c._borderRadius=0,c._lineSize=4,c._borderAlpha=1,c.oca=void 0,c.button,c.canvas,c.ctx,c.init=function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.style.position="fixed",this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.canvas.style.top=-this._lineSize/2+"px",this.canvas.style.left=-this._lineSize/2+"px",this.dCont1.div.appendChild(this.canvas),this.button=new DButton(this.dCont,0,0,"",null),this.button.idArr=0,this.button.tip=2,this.button.alpha=0,this.button.fun_mousedown=this.sobBut,this.canvas.rect;for(var t=0;t<4;t++){var i=new s.a(this.dCont);this.arrCC.push(i),this.arrPoint.push({x:0,y:0,scale:1,tip:0,idArr:t}),this.bool||((d=new DButton(i,0,0,"",null)).idArr=t,d.tip=0,d.alpha=0,d.fun_mousedown=this.sobBut,this.arrBut1.push(d),(d=new DButton(i,0,0,"",null)).idArr=t,d.tip=0,d.alpha=this._borderAlpha,d.fun_mousedown=this.sobBut,this.arrBut2.push(d)),(d=new DButton(i,-this.radBut/2,-this.radBut/2,"",null)).idArr=t,d.tip=1,d.width=d.height=this.radBut,d.fun_mousedown=this.sobBut,this.arrBut.push(d)}},c.getPressedBtn=function(){return null},c.isRectVlazit=function(){return!(this.rect.x<0||this.rect.y<0||this.rect.width+this.rect.x>this._width||this.rect.height+this.rect.y>this._height)},c.correctRect=function(){Math.round(this.rect.width/this._ratio)!=this.rect.height&&(this.rect.height=Math.round(this.rect.width/this._ratio))},c.drag=function(){0==this._ratio?(this.rect.x<0&&(this.rect.x=0),this.rect.y<0&&(this.rect.y=0),this.rect.width+this.rect.x>this._width&&(this.rect.width=this._width-this.rect.x),this.rect.height+this.rect.y>this._height&&(this.rect.height=this._height-this.rect.y)):this.correctRect();this.radBut;this.arrPoint[0].x=this.rect.x,this.arrPoint[0].y=this.rect.y,this.arrPoint[1].x=this.rect.x+this.rect.width,this.arrPoint[1].y=this.rect.y,this.arrPoint[2].x=this.rect.x+this.rect.width,this.arrPoint[2].y=this.rect.y+this.rect.height,this.arrPoint[3].x=this.rect.x,this.arrPoint[3].y=this.rect.y+this.rect.height,this.bool||(this.arrBut1[0].x=this.radBut/2,this.arrBut1[0].width=this.rect.width-this.radBut,this.arrBut1[0].y=-this.radBut/2,this.arrBut1[0].height=this.radBut,this.arrBut1[1].x=-this.radBut/2,this.arrBut1[1].width=this.radBut,this.arrBut1[1].y=this.radBut/2,this.arrBut1[1].height=this.rect.height-this.radBut,this.arrBut1[2].x=this.radBut/2-this.rect.width,this.arrBut1[2].width=this.rect.width-this.radBut,this.arrBut1[2].y=-this.radBut/2,this.arrBut1[2].height=this.radBut,this.arrBut1[3].x=-this.radBut/2,this.arrBut1[3].width=this.radBut,this.arrBut1[3].y=this.radBut/2-this.rect.height,this.arrBut1[3].height=this.rect.height-this.radBut,this.arrBut2[0].x=this.radBut/2,this.arrBut2[0].width=this.rect.width-this.radBut,this.arrBut2[0].y=-this._lineSize/2,this.arrBut2[0].height=this._lineSize,this.arrBut2[1].x=-this._lineSize/2,this.arrBut2[1].width=this._lineSize,this.arrBut2[1].y=this.radBut/2,this.arrBut2[1].height=this.rect.height-this.radBut,this.arrBut2[2].x=this.radBut/2-this.rect.width,this.arrBut2[2].width=this.rect.width-this.radBut,this.arrBut2[2].y=-this._lineSize/2,this.arrBut2[2].height=this._lineSize,this.arrBut2[3].x=-this._lineSize/2,this.arrBut2[3].width=this._lineSize,this.arrBut2[3].y=this.radBut/2-this.rect.height,this.arrBut2[3].height=this.rect.height-this.radBut);for(var t=0;t<this.arrPoint.length;t++)this.arrCC[t].x=this.arrPoint[t].x,this.arrCC[t].y=this.arrPoint[t].y;this.button.x=this.rect.x-this.radBut/2,this.button.y=this.rect.y-this.radBut/2,this.button.width=this.rect.width+2*this.radBut/2,this.button.height=this.rect.height+2*this.radBut/2,this.ctx.clearRect(0,0,this._width+this._lineSize,this._height+this._lineSize);var i=this._lineSize/2;1==this._boolFont&&(this.ctx.fillStyle="rgba("+this._oca.r+", "+this._oca.g+", "+this._oca.b+", "+this._alpha+")",this.ctx.fillRect(i,i,this.rect.x,this._height),this.ctx.fillRect(this.rect.x+i,i,this.rect.width,this.rect.y),this.ctx.fillRect(this.rect.x+i,this.rect.y+this.rect.height+i,this.rect.width,this._height-(this.rect.y+this.rect.height)),this.ctx.fillRect(this.rect.x+this.rect.width+i,i,this._width-this.rect.width-this.rect.x,this._height),this.ctx.fill()),this.bool&&this._lineSize>0&&(this.ctx.lineWidth=this._lineSize,this.ctx.strokeStyle=this._colorButton,this.ctx.strokeRect(this.rect.x+i,this.rect.y+i,this.rect.width,this.rect.height)),this.fun("drag")},c.min=100,c.isHiddenX=!1,c.isHiddenY=!1,c.korektDrag=function(t){if(2==this.tip)return p.x=this.pointStart.x+f.point.x,p.y=this.pointStart.y+f.point.y,p.x<0&&(p.x=0),p.y<0&&(p.y=0),p.x+this.rect.width>this._width&&(p.x=this._width-this.rect.width),p.y+this.rect.height>this._height&&(p.y=this._height-this.rect.height),this.rect.x=this.arrPoint[0].x,this.rect.y=this.arrPoint[0].y,void this.drag();trace("point,point2"),trace(p,g,m,_),trace(f.point),w.x=f.point.x+_.x,w.y=f.point.y+_.y,trace(f.point.x,w.x),p.x<w.x&&(this.rect.x=p.x,this.rect.width=w.x-p.x),trace(this.rect)};var p,g,m,_,y,v,b,w={x:0,y:0};return c.tip,c.idArr,c.sobBut=function(){0==dcmParam.mobile?document.addEventListener("mousedown",f.mousedown.bind(this),{once:!0}):document.addEventListener("touchend",f.mousedown.bind(this),{once:!0})},c.mousedown=function(t){var i,e=f.canvas.getBoundingClientRect(),s=t.clientX/f.scaleDrag.s-e.left/f.scaleDrag.s-f.arrPoint[0].x+f.radBut/2-f._lineSize/2,h=t.clientY/f.scaleDrag.s-e.top/f.scaleDrag.s-f.arrPoint[0].y+f.radBut/2-f._lineSize/2;if(h<=f.radBut&&(i=0),s>=f.rect.width&&s<=f.rect.width+f.radBut&&(i=1),h>=f.rect.height&&h<=f.rect.height+f.radBut&&(i=2),s<=f.radBut&&(i=3),f.tip=this.tip,f.idArr=this.idArr,2==f.tip&&f.bool&&i>=0&&(f.idArr=i,f.tip=f.arrPoint[i].tip),2==f.tip)return p=f.arrPoint[0],void f.start(p);p=f.arrPoint[f.idArr],g=f.arrPoint[(f.idArr+1)%4],m=f.arrPoint[(f.idArr+3)%4],_=f.arrPoint[(f.idArr+2)%4],p.x==g.x?(g.bx=!0,g.by=!1):(g.bx=!1,g.by=!0),g.bxn=g.x-p.x,g.byn=g.y-p.y,p.x==m.x?(m.bx=!0,m.by=!1):(m.bx=!1,m.by=!0),m.bxn=m.x-p.x,m.byn=m.y-p.y,f.start(p)},c.mouseup=function(t){document.body.style.pointerEvents="auto",y=void 0,0==dcmParam.mobile?document.removeEventListener("mouseup",f.mouseup):document.removeEventListener("touchend",f.mouseup),dcmParam.removeFunMove(f.mousemove)},c.point={x:0,y:0},c.pointStart={x:0,y:0},c.object=void 0,c.scaleStart=1,c.mousemove=function(t){0==dcmParam.mobile?(null==y&&(y={x:t.clientX,y:t.clientY,b:!1}),v=(t.clientX-y.x)/f.scaleDrag.s,b=(t.clientY-y.y)/f.scaleDrag.s):(null==y&&(y={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}),v=(t.targetTouches[0].clientX-y.x)/f.scaleDrag.s,b=(t.targetTouches[0].clientY-y.y)/f.scaleDrag.s),f.point.x=v,f.point.y=b,f.korektDrag(!0)},c.start=function(t){document.body.style.pointerEvents="none",this.appPoint(),y=void 0,this.object=t,t&&(this.pointStart.x=t.x,this.pointStart.y=t.y),this.scaleDrag.s=this.object.scale,this.testScale(f,this.scaleDrag),0==dcmParam.mobile?document.addEventListener("mouseup",f.mouseup):document.addEventListener("touchend",f.mouseup),dcmParam.addFunMove(f.mousemove)},c.testScale=function(t,i){t.scale&&(i.s*=t.scale),t.parent&&f.testScale(t.parent,i)},c.scaleDrag={s:1},c.appPoint=function(){},c.setRect=function(t,i,e,s,h){this.rect.x=t,this.rect.y=i,this.rect.width=e,this.rect.height=s,null==h&&this.drag()},c.parseColor=function(t){var i=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(t);return{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}},c._oca=c.parseColor(c._colorAct),c.init(),c.drag(),0!=dcmParam.borderRadius&&(c.borderRadius=dcmParam.borderRadius),c}var e,u,l;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&r(t,i)}(i,s["a"]),e=i,(u=[{key:"lineSize",set:function(t){var i=2*Math.round(t/2);if(i<0&&(i=0),this._lineSize!=i){if(this._lineSize=i,!this.bool&&this._lineSize<=0)for(var e=0;e<4;e++)this.arrBut2[e].alpha=0;if(!this.bool&&this._lineSize>0)for(e=0;e<4;e++)this.arrBut2[e].alpha=this._borderAlpha;this.canvas.style.top=-this._lineSize/2+"px",this.canvas.style.left=-this._lineSize/2+"px",this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.drag()}},get:function(){return this._lineSize}},{key:"borderRadius",set:function(t){if(this._borderRadius!=t){this._borderRadius=t;for(var i=0;i<4;i++)this.arrBut[i].borderRadius=this._borderRadius}},get:function(){return this._borderRadius}},{key:"glowSah",set:function(t){if(this._glowSah!=t){this._glowSah=t;for(var i=0;i<4;i++)this.arrBut[i].glowSah=this._glowSah}},get:function(){return this._glowSah}},{key:"glowColor",set:function(t){if(this._glowColor!=t){this._glowColor=t;for(var i=0;i<4;i++)this.arrBut[i].glowColor=this._glowColor}},get:function(){return this._glowColor}},{key:"colorButton",set:function(t){if(this._colorButton!=t){this._colorButton=t;for(var i=0;i<4;i++)this.arrBut[i].color=this._colorButton,this.bool||(this.arrBut2[i].color=this._colorButton);this.bool&&this.drag()}},get:function(){return this._colorButton}},{key:"colorAct",set:function(t){this._colorAct!=t&&(this._colorAct=t,this._oca=this.parseColor(this._colorAct),this.drag())},get:function(){return this._colorAct}},{key:"boolFont",set:function(t){this._boolFont!=t&&(this._boolFont=t,this.drag())},get:function(){return this._boolFont}},{key:"alpha",set:function(t){this._alpha!=t&&(this._alpha=t,this.drag())},get:function(){return this._alpha}},{key:"radius",set:function(t){if(this._radius!=t){this._radius=t,this.radBut=2*this._radius;for(var i=0;i<4;i++)this.arrBut[i].width=this.radBut,this.arrBut[i].height=this.radBut,this.arrBut[i].x=-this.radBut/2,this.arrBut[i].y=-this.radBut/2;this.drag()}},get:function(){return this._radius}},{key:"ratio",set:function(t){if(this._ratio!=t){if(t<0)return void(this._ratio=0);if(t>2)return void(this._ratio=2);this._ratio=t,this.drag()}},get:function(){return this._ratio}},{key:"width",set:function(t){if(this._width!=t){if(this.rect.x+this.rect.width+this._lineSize>=this._width){if(1==this.rect.width&&this._width>t)return;this.rect.x-=Math.abs(this._width-t),!this.bool&&this.rect.width<=this.radBut&&this._width>t&&(this.arrBut2[0].visible=!1,this.arrBut2[2].visible=!1,this.isHiddenX=!0)}this._width=t,this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.drag()}},get:function(){return this._width}},{key:"height",set:function(t){if(this._height!=t){if(this.rect.y+this.rect.height+this._lineSize>=this._height){if(1==this.rect.height&&this._height>t)return;this.rect.y-=Math.abs(this._height-t),!this.bool&&this.rect.height<=this.radBut&&this._height>t&&(this.arrBut2[1].visible=!1,this.arrBut2[3].visible=!1,this.isHiddenY=!0)}this._height=t,this.canvas.height=this._height+this._lineSize,this.canvas.width=this._width+this._lineSize,this.drag()}},get:function(){return this._height}}])&&n(e.prototype,u),l&&n(e,l),i}()},function(t,i,e){"use strict";e.d(i,"a",function(){return u});var s=e(0);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,i){return(r=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var u=function(t){function i(t,e,n,r){var u;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(u=function(t,i){return!i||"object"!==h(i)&&"function"!=typeof i?a(t):i}(this,o(i).call(this))).type="DClip",u.infoThis="\n            var dClip= new DClip(this.dCont,0,0,function(){})\n            dClip.heightContent=100;\n            dClip.sbv=0//скрол с лева 1 с права 2 воще нет\n            dClip.time=500\n            dClip.fun_drahYY(value)//процент с анимации 0-100\n        ",null==dcmParam&&(dcmParam=new DCM),dcmParam.add(a(a(u))),u.x=e||0,u.y=n||0,null!=t&&null!=t.add&&t.add(a(a(u))),u._width=100,u._height=100,u.fun=r,u._heightContent=100,u._sbv=0;var l,c,d,f=a(a(u));u.time=100,u.fun_drahYY=void 0,u.panel=new DPanel(a(a(u))),u.panel.alpha=0,u._value=0,u.dd=new s.a(a(a(u))),u.content=new s.a(u.dd),u.tween=void 0,null!=window.TWEEN&&(u.tween=new TWEEN.Tween(u.content),u.tween.onUpdate(function(){null!=f.fun_drahYY&&f.fun_drahYY(-f.content.y/f.hhh*100)})),u.ddSS=new s.a(a(a(u))),u.ddSS.visible=!1,u.scrollBarV=new DScrollBarV(u.ddSS,u._width-u.otstup1,0,function(){f.value=this.value,f.fun&&f.fun()}),u.scrollBarV.offsetHit=3,u.scrollBarV.width=2,u.scrollBarV.alpha=.5,u.bb=!0,u.dragValue=function(){(l=this.hhh)<0&&(l=0),this.scrollBarV.value=this._value,0!=this.time&&null!=this.tween?this.tween.to({y:-l*this._value/100},this.time).start():this.content.y=-l*this._value/100,this.bb=!0,0==l&&(this.bb=!1),this.scrollBarV.visible=this.bb};u.mousewheel=function(t){c=-1,d=t.delta,null==t.wheelDelta&&(d=t.wheelDelta),t.delta&&t.delta<0&&(c=1),t.deltaY&&t.deltaY<0&&(c=1),t.detail&&t.detail<0&&(c=1),null!=t.wheelDelta&&(c=t.wheelDelta>0?-1:1),d=c,f.value+=5*d,f.fun&&f.fun()},u.div.addEventListener("mousewheel",u.mousewheel),u.div.addEventListener("DOMMouseScroll",u.mousewheel),u.boolDragMouse=!0;var p=void 0;u.dragActiv=!1,u.mouseDown=function(t){0!=f.boolDragMouse&&(f.dragActiv=!0,p=void 0)},u.mouseup=function(t){f.dragActiv=!1,p=void 0};var g=0;return u.mousemove=function(t){if(0!=f.dragActiv&&0!=f.scrollBarV.visible&&void 0===f.scrollBarV.sp){0==dcmParam.mobile?(null==p&&(p={y:t.clientY,y1:f.value}),p.ys=t.clientY):(null==p&&(p={y:t.targetTouches[0].clientY,y1:f.value}),p.ys=t.targetTouches[0].clientY),g=p.y-p.ys;var i=f.time;f.time=0,f.value=p.y1+g/(f.hhh/100),f.time=i,f.fun&&f.fun()}},0==dcmParam.mobile?(u.div.addEventListener("mousedown",u.mouseDown),window.addEventListener("mouseup",u.mouseup)):(u.div.addEventListener("touchstart",u.mouseDown),window.addEventListener("touchend",u.mouseup)),dcmParam.addFunMove(f.mousemove),u.drag=function(){this.dd.div.style.clip="rect(0px "+this._width+"px "+this._height+"px 0px)"},u.drag(),u}var e,u,l;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&r(t,i)}(i,s["a"]),e=i,(u=[{key:"x",set:function(t){this.position.x=t},get:function(){return this.position.x}},{key:"y",set:function(t){this.position.y=t},get:function(){return this.position.y}},{key:"value",set:function(t){t<0&&(t=0),t>100&&(t=100),this._value!=t&&(this._value=t,this.dragValue())},get:function(){return this._value}},{key:"width",set:function(t){this._width!=t&&(this._width=t,2!==this._sbv?this.scrollBarV.x=-this.scrollBarV.width:this.scrollBarV.x=this._width-this.scrollBarV.width,this.drag(),this.panel.width=this._width)},get:function(){return this._width}},{key:"height",set:function(t){this._height!=t&&(this._height=t,this.hhh=this._heightContent-this._height,this.scrollBarV.height=t,this.drag(),this.dragValue(),this.panel.height=this._height)},get:function(){return this._height}},{key:"heightContent",set:function(t){this._heightContent!=t&&(this._heightContent=t,this.hhh=this._heightContent-this._height,this.scrollBarV.heightContent=t,this.dragValue())},get:function(){return this._heightContent}},{key:"sbv",set:function(t){this._sbv!=Math.round(t)&&(this._sbv=Math.round(t),0==this._sbv?this.ddSS.visible=!1:this.ddSS.visible=!0,2!==this._sbv?this.scrollBarV.x=-this.scrollBarV.width:this.scrollBarV.x=this._width-this.scrollBarV.width,this.drag())},get:function(){return this._sbv}}])&&n(e.prototype,u),l&&n(e,l),i}()},function(t,i){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,i,e){"use strict";e.r(i),function(t){var s=e(0);e.d(i,"DCont",function(){return s.a});var h=e(1);e.d(i,"DCM",function(){return h.c}),e.d(i,"DButton",function(){return h.b}),e.d(i,"DGlow",function(){return h.g}),e.d(i,"DComboBox",function(){return h.f}),e.d(i,"DPanel",function(){return h.k}),e.d(i,"DImage",function(){return h.h}),e.d(i,"DLabel",function(){return h.j}),e.d(i,"DSlider",function(){return h.n}),e.d(i,"DSliderBig",function(){return h.o}),e.d(i,"DInput",function(){return h.i}),e.d(i,"DTextArea",function(){return h.p}),e.d(i,"DCheckBox",function(){return h.d}),e.d(i,"DColor",function(){return h.e}),e.d(i,"DWindow",function(){return h.q}),e.d(i,"DBitmapData",function(){return h.a}),e.d(i,"DScrollBarH",function(){return h.l}),e.d(i,"DScrollBarV",function(){return h.m}),e.d(i,"DWindowS",function(){return h.r});var n=e(5);e.d(i,"DSettings",function(){return n.a});var o=e(6);e.d(i,"DParamObject",function(){return o.a});var r=e(2);e.d(i,"DGallery",function(){return r.b}),e.d(i,"DBox",function(){return r.a});var a=e(3);e.d(i,"DButtons",function(){return a.b}),e.d(i,"DButBox",function(){return a.a});var u=e(7);e.d(i,"DHelp",function(){return u.a});var l=e(8);e.d(i,"DThree",function(){return l.a});var c=e(4);e.d(i,"DButtonDrag",function(){return c.b}),e.d(i,"DAroundButton",function(){return c.a});var d=e(9);e.d(i,"DDragPic",function(){return d.a});var f=e(10);e.d(i,"DHole",function(){return f.a});var p=e(11);e.d(i,"DHoleDrag",function(){return p.a});var g=e(12);e.d(i,"DClip",function(){return g.a}),t.DDragPic=d.a,t.DButton=h.b,t.DPanel=h.k,t.DImage=h.h,t.DLabel=h.j,t.DSlider=h.n,t.DSliderBig=h.o,t.DInput=h.i,t.DTextArea=h.p,t.DCheckBox=h.d,t.DColor=h.e,t.DWindow=h.q,t.DScrollBarH=h.l,t.DScrollBarV=h.m,t.DComboBox=h.f,t.DButtonDrag=c.b,t.DAroundButton=c.a,t.DCM=h.c,t.DCont=s.a,t.DSettings=n.a,t.DParamObject=o.a,t.DGallery=r.b,t.DBox=r.a,t.DButtons=a.b,t.DButBox=a.a,t.DBitmapData=h.a,t.DWindowS=h.r,t.DHelp=u.a,t.DThree=l.a,t.DGlow=h.g,t.DHole=f.a,t.DHoleDrag=p.a,t.DClip=g.a}.call(this,e(13))}]);